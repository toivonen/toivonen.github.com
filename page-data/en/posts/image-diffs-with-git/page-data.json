{"componentChunkName":"component---src-components-layout-layout-post-js","path":"/en/posts/image-diffs-with-git/","result":{"data":{"mdx":{"id":"107b38a1-ed58-5109-a458-990ba6941198","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Visual diffs for the images in a git repo\",\n  \"date\": \"2016-03-18T00:00:00.000Z\",\n  \"v2\": true,\n  \"cover\": \"thumb.png\",\n  \"layout\": \"post\",\n  \"meta\": {\n    \"desc\": \"The modified images in git repositories can have a decent visual representation of file changes. For that, you simply run `git diff` command. However, to get this output, you have to do a little configuration. This article shows how.\\n\"\n  }\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"My first task for new projects is to create a git repository. Whether it is a new app, or conference slides, or even an\\narticle, I prefer to keep everything in Git. It is an excellent tool, and, personally, I enjoy its command line\\ninterface.\"), mdx(\"p\", null, \"However, there is always room for improvement. Recently I found an idea how to make my git visualize the changes that\\nI've done to the images in a repository.\"), mdx(\"excerpt\", null), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"Varyas-MBP \\xA3 ~/path/to/project \\u2933 master*\\n  \\u203A git status\\nOn branch master\\nChanges not staged for commit:\\n  (use \\\"git add <file>...\\\" to update what will be committed)\\n  (use \\\"git checkout -- <file>...\\\" to discard changes in working directory)\\n\\n    modified:   desktop.blocks/social-ico/social-ico__rss.png\\n    modified:   desktop.blocks/social-ico/social-ico__twitter.png\\n\\nno changes added to commit (use \\\"git add\\\" and/or \\\"git commit -a\\\")\\nVaryas-MBP \\xA3 ~/path/to/project \\u2933 master*\\n\")), mdx(\"p\", null, \"I can run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"git diff\"), \" over each of the modified images to see the following:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.51851851851851%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACcElEQVQozyWSWUhUARSG72MbFERQDwa99CBED9J7Qk/Ri8/1JpolFWRRZASBSlAmYRsZ0aKjpU4lEjkTUpFCOs6UszneZruzXWfGZba7zHK/rnrg5xz4+Q/nnP8I+bFxVkKzhuodYDoyw8t/g0jBKMFQEJ/Hi9PpwjE/b8KBz+dn0e1m3qzdHjfxWAw5mTBSqaQhyzImSkLqYZ8R8trJOe4z4vvK7YUePAtuZmdnsE3ZeW0Z4Z1lGOunCUY+jGL9OIFlaJhxq5U5l4elUBwxGGY5sGSIoohQBNZDDiPjnESJ+6EKiqKgaBrqehY1EkCPiCb3j/xaAl0rUTVA11XWfN9YdY4b+XTEUCubupIhFGw95HqOke+uZ/3BCQqOt2yFplIJLFDLLpsQqYRdFP9OU6uVqZVLbLw/T66rnrypXe9vRA3PbMkE+VYd6TfnSA+3kLlbj9x9HG01RDUpUY66UAeeotsnqJpN9cBvakWFjZ+PkTsPkx6/QuZFE+nOI6SfnaFaVhCkq/tJjLaTif5AHmxG6jhAwW+jkoxSji9SbGmleLYZbXKMcspHJZshPXIR6WYdqV/9ZPwTJHtPIt05ir4aQRAv7yPS20h0qJlo/2nEa4dQV5aoxCNo0h+UoVcUb1xHtX1Gi7gwCgrpqR7ES3uJPm9CsrQQ7mog3N1gTlhCiA224r2wG1/bLrzte5Cn7m3dolbIofrnUJNu1EwAJeQg77RTq+iUS1mCfafwtu0wdTvxdxw0zbFSNs0SjE2XPV+Qpx+RD81uG2Jsp0p+DS3qRw96Uc2s5hLUqvo2pxfJzg+z8v0JirmRZn5HLCbxH5tWWnYW+h0aAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"diff1\",\n    \"title\": \"diff1\",\n    \"src\": \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png\",\n    \"srcSet\": [\"/static/46040b6f4a288812c1abdb04c0faf888/772e8/diff1.png 200w\", \"/static/46040b6f4a288812c1abdb04c0faf888/e17e5/diff1.png 400w\", \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.51851851851851%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACh0lEQVQozyWRW0iTcRjGv4sguqibIomCiC4KJTKqYQepEEsQsgNFZQQdbgvKiCAIutnqIpSiZrUWpQt1zbZZUZkXaeZh+1K3zzlb37RNt9mROXc0/7++1gsvD7wPz3t4Xmn6mY1YsEckh810jPdg+mIhpH5FDar4lGFkt4y7tx93nwufbwSP14vL5carKITCE0QiURGJRkUsFkPLpBStrRUTygtyrmvYfG1ckQ0ospfu7g+8ff2GhtZWLA479pcvaWlq4rndgcXShE2re4Y+EfqqMqYN9/tHRSAQQMoiGAj/Fg7fLwKTcchBKpUincsyo2HM2cH3h1amegeJzqTyNTRNJpOhsy9AW4cixsPfhJjLkUylhGSSI+x7rlJlH6NKwxYlxr8Q2RzB6hqGFuvwFmzFs2wbQ4YH/GuXSWe5UvuO3acaKNfy0LkWegZCeZ1U/tTHwdbPnHb6OWYPsKfRi5oRTJutfFqwjuHVZYys2olvRSkDy0sRmm8Nr7zoDtzl6PlmLt14xY5qE9U1zcwkM0hbzAOccypkM2nufAyy6b5Mx2SCnxf1uBdtQNXtJ3tZj7qyFPcSHdk377lq6qa4spYL+jbM1j62H6ln1/F7qKEfSBuNvRxvHuT2B5W9lkFKjD2MJP8QNzbSP28to0UVhCpP4ykoQV5aAgGVepvMmjIDh88+4eSlJjZW1VF5xsR0Io10rX2E9be6KKzrovh2F7c6A3kvZuMJ/BWn6J9fhEs73b2wGPm8Ie9hPJ7kRE0ja8sNFO6+zuaqmzjaPRozh4QQdH6Z4nH/GH3j3/n/EZGHdCJJ+OEzJvVGIq+7iGobpHOzeS6VzuFs9/LI2stocAoxN0s4HOYvWZUyA88lwgAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"diff2\",\n    \"title\": \"diff2\",\n    \"src\": \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png\",\n    \"srcSet\": [\"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/772e8/diff2.png 200w\", \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/e17e5/diff2.png 400w\", \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"For every picture displayed, I can see a previous version (on the left side), a current version (on the right side) and\\nvisually represented difference (in between). This feature is useful for tracking exact changes in the image. Now, I can\\neasily spot if some particular details were shifted, some colors were changed, or a picture was accidentally blended\\nwith another one.\"), mdx(\"p\", null, \"You can configure git to do the same. First, install ImageMagick to provide a visual comparison. Note that for the\\nlatest versions of OS X you need to install a package with a support of X11. To install with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"brew\"), \", do the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"  \\u203A brew install imagemagick --with-x11\\n\")), mdx(\"p\", null, \"Then, create a script to compare two given images. Run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cat ~/bin/git-imgdiff\"), \", and paste inside:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"#!/bin/sh\\ncompare $2 $1 png:- | montage -geometry +4+4 $2 - $1 png:- | display -title \\\"$1\\\" -\\n\")), mdx(\"p\", null, \"Now, test the script. It should do the comparison of two processed images:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"  \\u203A ~/bin/git-imgdiff img1.png img2.png\\n\")), mdx(\"p\", null, \"At this step, you need to show git how to use compariing script. For that, define the image files their extensions\\nin a special file. Run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cat ~/.gitattributes\"), \" and paste the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"*.gif diff=image\\n*.jpg diff=image\\n*.png diff=image\\n\")), mdx(\"p\", null, \"Provide git with this configuration by:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"  \\u203A git config --global core.attributesfile '~/.gitattributes'\\n\")), mdx(\"p\", null, \"The last step is to instruct git to use your script when \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"diff\"), \" command is applied to the matching files:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"  \\u203A git config --global diff.image.command '~/bin/git-imgdiff'\\n\")), mdx(\"p\", null, \"That's it. Now, running a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"git diff\"), \" over your images you will get a human-friendly output. Enjoy!\"), mdx(\"h3\", null, \"References\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[1]\", \"{.zero} \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.akikoskinen.info/image-diffs-with-git/\"\n  }), \"http://www.akikoskinen.info/image-diffs-with-git/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[2]\", \"{.zero} \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://paulmestemaker.com/imagemagick-display-mac-os-x/\"\n  }), \"http://paulmestemaker.com/imagemagick-display-mac-os-x/\"))));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"readingTime":{"minutes":2.435},"slug":"en/posts/image-diffs-with-git/","prefix":"","disqusIdentifier":"posts-image-diffs-with-git-index-en"},"frontmatter":{"title":"Visual diffs for the images in a git repo","subTitle":null,"date":"18 March 2016","v2":true,"old":null,"tumblr":null,"meta":{"desc":"The modified images in git repositories can have a decent visual representation of file changes. For that, you simply run `git diff` command. However, to get this output, you have to do a little configuration. This article shows how.\n"},"cover":{"childImageSharp":{"resize":{"src":"/static/46040b6f4a288812c1abdb04c0faf888/630fb/thumb.png"}}}}},"site":{"siteMetadata":{"siteUrl":"http://varya.me"}}},"pageContext":{"slug":"en/posts/image-diffs-with-git/","prev":{"id":"e8e76479-12f9-5415-b462-407c6cc1214b","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/frontend-babel-first-week/index_ru.md","fields":{"slug":"ru/posts/frontend-babel-first-week/","prefix":"","lang":"ru","disqusIdentifier":"posts-frontend-babel-first-week-index-ru","level":1,"fileRelativePath":"frontend-babel-first-week/index_ru.md"},"frontmatter":{"title":"Первая неделя Frontend Babel","subTitle":null,"v2":true,"old":null,"date":"2014-06-02T00:00:00.000Z","layout":"post"}},"next":{"id":"35bf7572-c4c4-5975-b0e7-43dc3b12636a","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/javascript-in-bemjson/index_en.md","fields":{"slug":"en/posts/javascript-in-bemjson/","prefix":"","lang":"en","disqusIdentifier":"en-issues-javascript-in-bemjson","level":1,"fileRelativePath":"javascript-in-bemjson/index_en.md"},"frontmatter":{"title":"JavaScript in BEMJSON","subTitle":null,"v2":null,"old":true,"date":"2014-01-21T00:00:00.000Z","layout":"post"}},"fileSourceUrl":"https://github.com/varya/varya.github.com/edit/develop/content/posts/image-diffs-with-git/index_en.md"}}}