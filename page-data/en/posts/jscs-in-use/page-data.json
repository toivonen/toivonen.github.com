{"componentChunkName":"component---src-components-layout-layout-post-js","path":"/en/posts/jscs-in-use/","result":{"data":{"mdx":{"id":"a23ec91d-e259-5895-bc79-82424744b5dc","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"JSCS in use\",\n  \"date\": \"2015-02-11T00:00:00.000Z\",\n  \"v2\": true,\n  \"layout\": \"post\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This time I would like to share my experience of keeping a codestyle in one of my working projects. This is about a new\\ntool called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"JSCS\"), \" which we have recently chosen with the team and now are very pleased with the result.\"), mdx(\"excerpt\", null), mdx(\"p\", null, \"Once I joined \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://styleguide.sc5.io/\"\n  }), \"SC5 Styleguide\"), \" project, I discovered that it was not consistent enough from\\nits codestyle perspective. It was not frightening by that time, but it was already clear that the project was going to\\ngrow fast and the sooner we start bothering about keeping the codestyle the better. I was already aware about JSCS and\\nits features because had published \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://frontendbabel.info/articles/jscs-javascript-code-style/\"\n  }), \"a translation of author's tool\\nintroduction\"), \" in one of my side-projects. So the\\ndecision which tool to use was made quickly.\"), mdx(\"p\", null, \"There are indeed many other solutions, such as JSLint and JSHint, the most mentioned once. But let me first tell you a\\nstory.\"), mdx(\"p\", null, \"Interesting enough that JSHint authors liked JSCS so much that they prefered to contribute into it rather than develop\\nstyle checkings in their tool. So they removed all the style enforcement rules out of JSHint and keep it now for\\nmore complex things not about coding style but about programming patterns.\"), mdx(\"blockquote\", {\n    className: \"twitter-tweet\",\n    lang: \"en\"\n  }, mdx(\"p\", null, \"And with that, JSCS now has all the style enforcement rules that are being dropped in \", mdx(\"a\", {\n    href: \"https://twitter.com/JSHint\"\n  }, \"@JSHint\"), \" 3.0: \", mdx(\"a\", {\n    href: \"https://t.co/W98EMSiTN5\"\n  }, \"https://t.co/W98EMSiTN5\"), \" cc \", mdx(\"a\", {\n    href: \"https://twitter.com/valueof\"\n  }, \"@valueof\")), \"\\u2014 Mike Sherov (@mikesherov) \", mdx(\"a\", {\n    href: \"https://twitter.com/mikesherov/status/419596672520318976\"\n  }, \"4 Jan 2014\")), mdx(\"script\", {\n    async: true,\n    src: \"//platform.twitter.com/widgets.js\",\n    charSet: \"utf-8\"\n  }), mdx(\"p\", null, \"This means that there is no question if you choose JSLint, JSHint \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"or\"), \" JSCS. Currently you can choose between\\nJSLint and JSHint + JSCS working together.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-js\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"gulp\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"task\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'jslint'\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"[\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'jshint'\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'jscs'\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"]\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\")))), mdx(\"p\", null, \"Assuming that JSCS is a new tool with not yet spoiled structure, I suppose that it would be a pleasure to contribute\\ninto it. Also, the tool's youth promises that future possible bugs would be fixed soon as there is no legacy.\"), mdx(\"p\", null, \"Moreover, I personally find encouraging that JSCS has been already chosen by such respectable teams as jQuery, Bootsrap\\nand AngularJS.\"), mdx(\"p\", null, \"Long story short, JSCS is an npm package. You can install it either globally or locally for a particular project:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-text\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"npm install jscs\"))), mdx(\"p\", null, \"Besides, you will need a configuration file \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \".jscsrc\"), \" and define what kind of JavaScript style you prefer for the\\nproject. This file should be put into the root of your project.\"), mdx(\"p\", null, \"JSCS support tonns of rules. Nethertheless, your config file would not be too heavy thanks to presets. In most cases we\\nchoose from popular JavaScript styles and so there is no need to define the rules over and over again. You only need to\\nwrite who you prefer to look like:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"airbnb\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"crockford\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"google\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"jquery\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"mdcs\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"wikimedia\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"yandex\")), mdx(\"p\", null, \"Even if you want to be special, you still can choose the most similar preset and redefine some of its rules below.\"), mdx(\"p\", null, \"Important thing is that JSCS is already quite a mature thing, which means that you can easily find acompanying packages\\nand needed plug-ins for editors.\"), mdx(\"h2\", null, \"The Success Story\"), mdx(\"p\", null, \"Assuming these facts, we decided to give JSCS a try. We started with defining a lovely configuration but excluded all\\nthe files from the checking process yet. Our project already had modular structure, so this was easy.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-text\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"{\\n    ...\\n\\n    \\\"excludeFiles\\\": [\\n      \\\"node_modules/**\\\",\\n      \\\"src/modules/a/**\\\",\\n      \\\"src/modules/b/**\\\",\\n      \\\"src/*.js\\n    ]\\n}\"))), mdx(\"p\", null, \"Then, we agreed that if any of us starts coding or changing a module, he/she will fix the codestyle and swipe out the\\nfixed module from the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"excludeFiles\"), \" list. Following this, we got our files fixed quite fast and even avoid conflicts.\"), mdx(\"p\", null, \"Keeping the codestyle when maintaining these files lately turned out to be more challengeable. Automatic checkings are\\nvery helpful here, but we needed to decide how strict we should be. The codestyle should not be our main goal instead of\\ndevelopment.\"), mdx(\"p\", null, \"Finally we came up with \\\"separation of concerns\\\" model. Thus, for the upstream repository we have strict codestyle\\npolicy, and for the forks it is more suggestive. We taught Travis to check codestyle in the pull requests we are\\ngetting. If codestyle is broken, the Travis build fails. So, pull requests with wrong codestyle cannot be merged into\\nthe upstream. This ensures us that we will never get bad code there. However for the forks it is not that strict. We\\nturned down the idea of using pre-push hooks but recommend a developer to install a pre-commit hook in their repository\\nclone as well as using JSCS IDE plugins in order to learn about wrong codestyle while developing and not when their pull\\nrequest gets broken. These recommendations are described in our documentation for developers and all the team members\\nfollow them.\"), mdx(\"p\", null, \"Everyone especially likes that JSCS can work with the code editors. The codestyle configuration is stored in the project\\nrepository and so an editor reads on its own. The most wonderful thing is that when switching between the projects with\\ndifferent codestyles, it does not require any change of settings.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"http://varya.me/jscs-talk/pictures/sublime.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"And of course it is always possible to check the codestyle manually running a gulp task.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"http://varya.me/jscs-talk/pictures/travis.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Word of caution\"), mdx(\"p\", null, \"We faced a couple of problems when applying the tool. I believe they are worth to be mentioned, especially as I can\\nprovide the solutions.\"), mdx(\"p\", null, \"The most painful was \\\"out of memory\\\" error when running a gulp task with JSCS checking. Turned out, that excluding files\\nin the configuration is not enough. Gulp tries to process all the files that match the mask and is soon run out of\\nmemory. We fixed this with using \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gulp-ingnore\"), \" package:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-text\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gulp.task('jscs', function() {\\n  return gulp.src([\\n    '**/*.js'\\n  ])\\n  .pipe(gulpIgnore.exclude([\\n    'node_modules/**',\\n    'demo-output/**'\\n  ]))\\n  .pipe(jscs());\\n})\"))), mdx(\"p\", null, \"This is not the best solution because we need to list the excluded files in both \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \".jscs\"), \" configuration and the\\n\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gulpfile.js\"), \". But there is nothing better yet.\"), mdx(\"p\", null, \"The second trick is about checking the codestyle while watching the project files with Gulp. You would probably like to\\nsee the errors reported in your terminal but still have the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"watch\"), \" task running. This is possible with the help of\\n\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gulp-plumber\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-text\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gulp.task('jscs', function() {\\n  return gulp.src([\\n    '**/*.js'\\n  ])\\n  ...\\n  .pipe(plumber())\\n  .pipe(jscs());\\n});\"))), mdx(\"p\", null, \"This is all, we did not face any other problem with the tool. It works just fine and has already saved thousands of\\nman-hours.\"), mdx(\"h2\", null, \"Besides\"), mdx(\"p\", null, \"If you are interested in the slides for this talk, here they are\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://varya.me/jscs-talk/\"\n  }), \"http://varya.me/jscs-talk/\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"readingTime":{"minutes":5.39},"slug":"en/posts/jscs-in-use/","prefix":"","disqusIdentifier":"posts-jscs-in-use-index-en"},"frontmatter":{"title":"JSCS in use","subTitle":null,"date":"11 February 2015","v2":true,"old":null,"tumblr":null,"meta":null,"cover":null}},"site":{"siteMetadata":{"siteUrl":"http://varya.me"}}},"pageContext":{"slug":"en/posts/jscs-in-use/","prev":{"id":"a2ea739e-19ea-568a-b18a-4e4090e4c27e","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/jira-hypothesis/index.md","fields":{"slug":"blog/jira-hypothesis/","prefix":"","lang":"en","disqusIdentifier":"blog-jira-hypothesis","level":1,"fileRelativePath":"jira-hypothesis/index.md"},"frontmatter":{"title":"Checking your JIRA hypothesis","subTitle":null,"v2":null,"old":null,"date":"2020-02-04T00:00:00.000Z","layout":"post"}},"next":{"id":"06c117bb-4162-56a7-8f38-72e3531c1843","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/on-the-unicorn-law/index_en.md","fields":{"slug":"en/posts/on-the-unicorn-law/","prefix":"","lang":"en","disqusIdentifier":"posts-on-the-unicorn-law-index-en","level":1,"fileRelativePath":"on-the-unicorn-law/index_en.md"},"frontmatter":{"title":"An answer to the question which should not have been asked","subTitle":null,"v2":true,"old":null,"date":"2015-09-07T00:00:00.000Z","layout":"post"}},"fileSourceUrl":"https://github.com/varya/varya.github.com/edit/develop/content/posts/jscs-in-use/index_en.md"}}}