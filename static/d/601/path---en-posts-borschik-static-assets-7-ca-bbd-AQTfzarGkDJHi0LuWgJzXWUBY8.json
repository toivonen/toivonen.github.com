{"data":{"post":{"id":"bc5bb761-1995-5885-8f4e-a7587d0d1fb5","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/borschik-static-assets/index_en.md","html":"<p>Last week I met the need to develop a web site which static assets have to be\nhosted on a different server and respond by different URLs than its HTML. This\nis the requirement to all the static files: stylesheets and JavaScript linked to\nthe page as well as imges and fonts mentioned in HTML, CSS and JavaScript\ncode.<excerpt/> However it is obvious that these resources should be local when developing.\nThus, the challenge was to introduce a piece of magic which knows where we aim\nto host the statics and transforms all the relative paths into absolute ones\naccording to it.</p>\n<p>The tools which helped me is called\n<a href=\"http://bem.info/tools/optimizers/borschik/\">Borschik</a>. The name is funny.\nBesides it reffers to a famous Russian/Ukranian soup, it also alludes to a word\n“сборщик” <span class=\"zero\" >sborschik</span>, and so might be translated as\n<strike>ass</strike>embler. “Removing the ass part” as one of my friends says.\n:-)</p>\n<div>\n          <div\n            class=\"gatsby-resp-iframe-wrapper\"\n            style=\"padding-bottom: 80.11811023622047%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em\"\n          >\n            <center>\n<iframe src=\"//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&amp;sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=\" frameborder=\"0\" scrolling=\"no\" style=\"\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          \"></iframe>\n</center>\n          </div>\n          </div>\n<p>In the <a href=\"https://github.com/varya/st-deliverer\">varya/st-deliverer</a> public repository\nyou can find a stub project illustrating the solution.</p>\n<h3 id=\"project-structure\"><a href=\"#project-structure\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Project structure</h3>\n<p>As you will be able to see later <code class=\"language-text\">borschik</code> is very flexible. So you can use any\nproject structure. In my project I store everything in\n<a href=\"b.com/varya/st-deliverer/tree/master/src\">src folder</a>.\nWhen building I get HTML files in\n<a href=\"https://github.com/varya/st-deliverer/tree/gh-pages/dist/html\">dist/html directory</a>.\nCheck out the code and make sure that static files are linked from a different\nserver by their absolute paths.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\">\n      <pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Deliver static assets with Borschik<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n      <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://varya.github.io/stor.../styles.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span>\n    <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>page<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">background</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://varya.github.io/stor.../grungy.jpg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  ...</code></pre>\n      </div>\n<p><a href=\"http://varya.me/st-deliverer/dist/html/\">Open in your browser</a> to enjoy my visual\ndesign and a tom-cat.</p>\n<h3 id=\"bring-borschik-to-your-project\"><a href=\"#bring-borschik-to-your-project\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bring borschik to your project</h3>\n<p>Borschik is an npm package. So, you can install it globally by runing</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\">\n      <pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g borschik</code></pre>\n      </div>\n<p>I personally prefer local project dependencies, so my project has a\n<a href=\"https://github.com/varya/st-deliverer/blob/master/package.json\">package.json</a>\nfile:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token string\">\"dependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"borschik\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0.4.2\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h3 id=\"configuration\"><a href=\"#configuration\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h3>\n<p>Before we start the magic transformation it is needed to instruct <code class=\"language-text\">borschik</code> what\nto transform and how to transform. The <a href=\"https://github.com/varya/st-deliverer/blob/master/.borschik\">.borschik</a>\nconfiguration file serves for that.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"paths\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"src/img/\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"http://varya.github.io/stor.../st-deliverer/img/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"src/css/\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"http://varya.github.io/stor.../st-deliverer/css/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"src/font/\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"http://varya.github.io/storage/fonts/\"</span>\n\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Note that you can tune different replacements for different paths. Here I tried\nto illustrate with the fonts.</p>\n<h3 id=\"run-the-command\"><a href=\"#run-the-command\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run the command</h3>\n<p>Run borschik over a file which contains links to local static assets, and you\nwill get the transformation result. For example,</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\">\n      <pre class=\"language-bash\"><code class=\"language-bash\">./node_modules/borschik/bin/borschik \\\n  --input<span class=\"token operator\">=</span>src/css/styles.css</code></pre>\n      </div>\n<p>Fot the building process you will also need an <code class=\"language-text\">--output</code> flag to instruct\n<code class=\"language-text\">borschik</code> where to place the result.</p>\n<p>Borschik knows the syntax of web technologies. It will not touch the links\nmentioned in text, for example.</p>\n<h3 id=\"build-system\"><a href=\"#build-system\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Build system</h3>\n<p>Now you can use <code class=\"language-text\">borschik</code> in your project build process. I simply wrote a\n<a href=\"https://github.com/varya/st-deliverer/blob/master/Makefile\">Makefile</a> with a\nlot of help from <a href=\"https://github.com/alexeyten\">@alexeyten</a> (tnx!).\nThere is also a grunt plugin <a href=\"https://github.com/megatolya/grunt-borschik\">megatolya/grunt-borschik</a>.<br/>\nIndeed, <code class=\"language-text\">borschik</code> is included into <a href=\"http://bem.info/tools/bem/bem-tools/\">bem-tools</a>\nand <a href=\"https://github.com/enb-make/enb\">enb</a> — the two competitive solutions for\nbuilding the projects with BEM structure.</p>\n<h3 id=\"result\"><a href=\"#result\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Result</h3>\n<p><a href=\"http://varya.me/st-deliverer/dist/html/\">Check the cat again</a>. Still there?</p>\n<p>You also can learn about other features of <code class=\"language-text\">borschik</code> from the article:\n<a href=\"http://bem.info/articles/borschik/\">http://bem.info/articles/borschik/</a>.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Last week I met the need to develop a web site which static assets have to be\nhosted on a different server and respond by different URLs than its HTML. This\nis the requirement to all the static files: stylesheets and JavaScript linked to\nthe page as well as imges and fonts mentioned in HTML, CSS and JavaScript\ncode."},{"type":"element","tagName":"excerpt","properties":{},"children":[{"type":"text","value":" However it is obvious that these resources should be local when developing.\nThus, the challenge was to introduce a piece of magic which knows where we aim\nto host the statics and transforms all the relative paths into absolute ones\naccording to it."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tools which helped me is called\n"},{"type":"element","tagName":"a","properties":{"href":"http://bem.info/tools/optimizers/borschik/"},"children":[{"type":"text","value":"Borschik"}]},{"type":"text","value":". The name is funny.\nBesides it reffers to a famous Russian/Ukranian soup, it also alludes to a word\n“сборщик” "},{"type":"element","tagName":"span","properties":{"className":["zero"]},"children":[{"type":"text","value":"sborschik"}]},{"type":"text","value":", and so might be translated as\n"},{"type":"element","tagName":"strike","properties":{},"children":[{"type":"text","value":"ass"}]},{"type":"text","value":"embler. “Removing the ass part” as one of my friends says.\n:-)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"div","properties":{"className":["gatsby-resp-iframe-wrapper"],"style":"padding-bottom: 80.11811023622047%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"center","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"iframe","properties":{"src":"//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=","frameBorder":"0","scrolling":"no","style":"\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "},"children":[]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n          "}]},{"type":"text","value":"\n          "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/varya/st-deliverer"},"children":[{"type":"text","value":"varya/st-deliverer"}]},{"type":"text","value":" public repository\nyou can find a stub project illustrating the solution."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"project-structure"},"children":[{"type":"element","tagName":"a","properties":{"href":"#project-structure","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Project structure"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As you will be able to see later "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" is very flexible. So you can use any\nproject structure. In my project I store everything in\n"},{"type":"element","tagName":"a","properties":{"href":"b.com/varya/st-deliverer/tree/master/src"},"children":[{"type":"text","value":"src folder"}]},{"type":"text","value":".\nWhen building I get HTML files in\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/varya/st-deliverer/tree/gh-pages/dist/html"},"children":[{"type":"text","value":"dist/html directory"}]},{"type":"text","value":".\nCheck out the code and make sure that static files are linked from a different\nserver by their absolute paths."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"html"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"pre","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-html"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"html"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"head"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"title"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"Deliver static assets with Borschik"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"title"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"link"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"rel"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"stylesheet"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"href"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"http://varya.github.io/stor.../styles.css"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"head"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"body"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"page"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"background"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"http://varya.github.io/stor.../grungy.jpg"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  ..."}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://varya.me/st-deliverer/dist/html/"},"children":[{"type":"text","value":"Open in your browser"}]},{"type":"text","value":" to enjoy my visual\ndesign and a tom-cat."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"bring-borschik-to-your-project"},"children":[{"type":"element","tagName":"a","properties":{"href":"#bring-borschik-to-your-project","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Bring borschik to your project"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Borschik is an npm package. So, you can install it globally by runing"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -g borschik"}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I personally prefer local project dependencies, so my project has a\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/varya/st-deliverer/blob/master/package.json"},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":"\nfile:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"dependencies\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"borschik\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0.4.2\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"configuration"},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuration","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we start the magic transformation it is needed to instruct "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" what\nto transform and how to transform. The "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/varya/st-deliverer/blob/master/.borschik"},"children":[{"type":"text","value":".borschik"}]},{"type":"text","value":"\nconfiguration file serves for that."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"paths\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"src/img/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"http://varya.github.io/stor.../st-deliverer/img/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"src/css/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"http://varya.github.io/stor.../st-deliverer/css/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"src/font/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"http://varya.github.io/storage/fonts/\""}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that you can tune different replacements for different paths. Here I tried\nto illustrate with the fonts."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"run-the-command"},"children":[{"type":"element","tagName":"a","properties":{"href":"#run-the-command","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Run the command"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run borschik over a file which contains links to local static assets, and you\nwill get the transformation result. For example,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"./node_modules/borschik/bin/borschik \\\n  --input"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"src/css/styles.css"}]}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fot the building process you will also need an "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--output"}]},{"type":"text","value":" flag to instruct\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" where to place the result."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Borschik knows the syntax of web technologies. It will not touch the links\nmentioned in text, for example."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"build-system"},"children":[{"type":"element","tagName":"a","properties":{"href":"#build-system","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Build system"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now you can use "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" in your project build process. I simply wrote a\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/varya/st-deliverer/blob/master/Makefile"},"children":[{"type":"text","value":"Makefile"}]},{"type":"text","value":" with a\nlot of help from "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/alexeyten"},"children":[{"type":"text","value":"@alexeyten"}]},{"type":"text","value":" (tnx!).\nThere is also a grunt plugin "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/megatolya/grunt-borschik"},"children":[{"type":"text","value":"megatolya/grunt-borschik"}]},{"type":"text","value":"."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nIndeed, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" is included into "},{"type":"element","tagName":"a","properties":{"href":"http://bem.info/tools/bem/bem-tools/"},"children":[{"type":"text","value":"bem-tools"}]},{"type":"text","value":"\nand "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/enb-make/enb"},"children":[{"type":"text","value":"enb"}]},{"type":"text","value":" — the two competitive solutions for\nbuilding the projects with BEM structure."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"result"},"children":[{"type":"element","tagName":"a","properties":{"href":"#result","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Result"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://varya.me/st-deliverer/dist/html/"},"children":[{"type":"text","value":"Check the cat again"}]},{"type":"text","value":". Still there?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You also can learn about other features of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"borschik"}]},{"type":"text","value":" from the article:\n"},{"type":"element","tagName":"a","properties":{"href":"http://bem.info/articles/borschik/"},"children":[{"type":"text","value":"http://bem.info/articles/borschik/"}]},{"type":"text","value":"."}]}],"data":{"quirksMode":false}},"fields":{"slug":"en/posts/borschik-static-assets/","prefix":"","disqusIdentifier":"en-issues-borschik-static-assets"},"frontmatter":{"title":"Borschik helps with remote static assets","subTitle":null,"date":"10 March 2014","v2":null,"old":true,"tumblr":null,"meta":null,"cover":null}},"authornote":{"id":"dd5d1bd7-6054-5e12-ab26-4100aefbc659","html":"<p><strong>Mr. Gatsby</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\"/\">bibendum</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. Blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus.</p>"},"site":{"siteMetadata":{"siteUrl":"http://varya.me/"}}},"pageContext":{"slug":"en/posts/borschik-static-assets/","prev":{"id":"941e372f-a53c-5404-a6b1-1660b8fa8ed4","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/blocks-and-bundles/index_en.md","fields":{"slug":"en/posts/blocks-and-bundles/","prefix":"","lang":"en","disqusIdentifier":"en-issues-blocks-and-bundles","level":1},"frontmatter":{"title":"Blocks are bricks, and bundles are buildings","subTitle":null,"v2":null,"old":true}},"next":{"id":"03195871-03d0-5dac-80b1-a3562d3a4eee","fileAbsolutePath":"/Users/varya/WebDev/Personal/varya.github.com/content/posts/beml-html-preprocessor/index_en.md","fields":{"slug":"en/posts/beml-html-preprocessor/","prefix":"","lang":"en","disqusIdentifier":"en-issues-beml-html-preprocessor","level":1},"frontmatter":{"title":"BEML - an HTML preprocessor for BEM","subTitle":null,"v2":null,"old":true}}}}