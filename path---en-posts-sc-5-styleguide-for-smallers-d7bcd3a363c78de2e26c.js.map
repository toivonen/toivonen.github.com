{"version":3,"sources":["webpack:///path---en-posts-sc-5-styleguide-for-smallers-d7bcd3a363c78de2e26c.js","webpack:///./.cache/json/en-posts-sc-5-styleguide-for-smallers.json"],"names":["webpackJsonp","594","module","exports","data","post","id","html","fields","slug","prefix","disqusIdentifier","frontmatter","title","date","v2","old","tumblr","meta","desc","cover","authornote","site","siteMetadata","siteUrl","pathContext","prev","lang","next"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,GAAA,yIAAAC,KAAA,08iBAAu7fC,QAA0/DC,KAAA,wCAAAC,OAAA,GAAAC,iBAAA,8CAA2HC,aAAgBC,MAAA,iCAAAC,KAAA,eAAAC,IAAA,EAAAC,IAAA,KAAAC,OAAA,KAAAC,MAA0GC,KAAA,qKAA2KC,MAAA,OAAeC,YAAef,GAAA,2GAAAC,KAAA,kSAA0Ze,MAASC,cAAgBC,QAAA,sBAA+BC,aAAgBhB,KAAA,wCAAAiB,MAAuDpB,GAAA,yIAAAE,QAAwJC,KAAA,wCAAAC,OAAA,GAAAiB,KAAA,KAAAhB,iBAAA,8CAAuIC,aAAgBC,MAAA,mCAA0Ce,MAAStB,GAAA,wIAAAE,QAAuJC,KAAA,uCAAAC,OAAA,GAAAiB,KAAA,KAAAhB,iBAAA,6CAAqIC,aAAgBC,MAAA","file":"path---en-posts-sc-5-styleguide-for-smallers-d7bcd3a363c78de2e26c.js","sourcesContent":["webpackJsonp([124981973644191],{\n\n/***/ 594:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"post\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-styleguide-for-smallers/index_en.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I’ve been presenting <a href=\\\"http://styleguide.sc5.io/\\\">SC5 Style Guide</a> several times during this year sharing my experience of using it for one\\nof the SC5’s clients, Elisa. Assuming that Elisa is a huge mobile operator with a lot of websites and a need\\nto keep those websites visually consistent, there is no wonder that the SC5 Style Guide as a tool provides benefits\\nthere. But what about smaller websites? Would it be useful there? I did not know the answer to this question\\nand wanted to experiment. The experiment was conducted on my blog codebase.\\n<excerpt/></p>\\n<p>This is how the Living Style Guide looks like: <a href=\\\"http://varya.me/styleguide\\\">varya.me/styleguide</a>. You can see the interface\\ndecomposed into block pieces, each of those representing a meaningful interface unit. I haven’t seen the interface of my blog\\nfrom this perspective before. It gave me a lot of insight into the ways the CSS architecture of my blog should be designed.\\nBut, let’s consider things one by one.</p>\\n<h2>Fine-tuning the SC5 Style Guide tool</h2>\\n<p>Everything starts with</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">npm install --save-dev sc5-styleguide</code></pre>\\n      </div>\\n<p>Then, I was able to use the tool to build the interface representation. It required\\n<a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/Gulpfile.js\\\">a couple of Gulp tasks</a>.</p>\\n<p>I had to deviate from the example configuration in a couple of places to make my Style Guide work as it does now. Let me\\nname and explain these things.</p>\\n<h3>Providing the <code class=\\\"language-text\\\">appRoot</code> parameter.</h3>\\n<p>As I am hosting the Style Guide website not it the root folder but in a subfolder named <code class=\\\"language-text\\\">styleguide</code>, I inform the\\ngenerator about that, so it can build the properly working app:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">task</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"styleguide:generate\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">return</span> gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">src</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"desktop.blocks/**/*.css\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">pipe</span><span class=\\\"token punctuation\\\">(</span>styleguide<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">generate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Varya.me Styleguide\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      appRoot<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/styleguide'</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token operator\\\">...</span></code></pre>\\n      </div>\\n<h3>Providing scripts</h3>\\n<p>Under the <code class=\\\"language-text\\\">extraHead</code> parameter I list all the additions needed. Some of my components\\nneed JavaScript to function. It is indeed possible to ignore that and present\\ntheir views only, but I wanted them to be exactly as they were used in the blog.\\nThanks to <code class=\\\"language-text\\\">extraHead</code> I could supply any code needed. I used it to\\nlink the same scripts that I have on my blog pages:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">task</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"styleguide:generate\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">return</span> gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">src</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"desktop.blocks/**/*.css\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">pipe</span><span class=\\\"token punctuation\\\">(</span>styleguide<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">generate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Varya.me Styleguide\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token operator\\\">...</span>\\n      extraHead<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n        <span class=\\\"token string\\\">'&lt;script src=\\\"http://yandex.st/jquery/1.7.2/jquery.min.js\\\">&lt;/script>'</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'&lt;script src=\\\"/desktop.bundles/index/index.min.js\\\">&lt;/script>'</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token operator\\\">...</span>\\n      <span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token operator\\\">...</span></code></pre>\\n      </div>\\n<p>However, I needed yet another trick to make the scripts work properly. My components are written with <code class=\\\"language-text\\\">i-bem.js</code>\\nframework which automatically initialises them on the <code class=\\\"language-text\\\">domReady</code> event. This is what I wanted for the static pages because the\\ncomponents markup is in HTML document. But for the Style Guide, which is architecturally a SPA, this did not work. The components\\nare rendered on the fly, and this obviously happens after <code class=\\\"language-text\\\">domReady</code>; that is why by default they stay\\nuninitialized. So they should be initialized after they had been rendered. Luckily, the Style Guide\\ntriggers an event on the <code class=\\\"language-text\\\">window</code> object named <code class=\\\"language-text\\\">styleguide:onRendered</code> every time a new component is re-rendered.\\nBy handling this event, I managed to get the components initialized right after they appear on the page. This code is needed\\nfor the Style Guide only, so I do not include it into the project bundle but provide as an additional script in the\\nStyle Guide configuration:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">gulp.task(&quot;styleguide:generate&quot;, function() {\\n\\n  return gulp.src([&quot;desktop.blocks/**/*.css&quot;])\\n    .pipe(styleguide.generate({\\n      title: &quot;Varya.me Styleguide&quot;,\\n      ...\\n      extraHead: [\\n        ...\\n        &#39;&lt;script src=&quot;/styleguide/i-bem__init_styleguide.js&quot;&gt;&lt;/script&gt;&#39;\\n      ]\\n    ...</code></pre>\\n      </div>\\n<p>You can check how the JavaScript components are working with the block which is initially empty and renders the list\\nof repositories after querying the GitHub API: <a href=\\\"http://varya.me/styleguide/#/section/4.3\\\">varya.me/styleguide/#/section/4.3</a>.\\nOr try out the Candies randomly built with JavaScript <a href=\\\"http://varya.me/styleguide/#/section/5.1\\\">varya.me/styleguide/#/section/5.1</a>.</p>\\n<p>The last important thing to make JavaScript work is to use <code class=\\\"language-text\\\">disableEncapsulation: true</code> parameter. Normally the\\nStyle Guide wraps each component in the ShadowDOM because it lets us developers write component CSS without\\nworrying about affecting the Style Guide interface. But it also makes the components scoped from the JavaScript linked\\nto the Style Guide website — including that additional JavaScript I showed above. By disabling the encapsulation, I made\\nthe components to be inserted into the HTML page as they are, without any scoping. As for affecting the Style Guide\\ninterface, in my case it will never happen as I use BEM and all my components are already “encapsulated” thanks to that methodology.</p>\\n<h3>Hosting a static page</h3>\\n<p>The SC5 Style Guide provides a development server which routes all the paths to its root. When hosting it outside, you\\nshould care about the routing yourself as you would do for any other SPA. But my blog is hosted on GitHub Pages\\nwhich is a simple static hosting and does not provide any routing capabilities. For managing this case, I use the\\n<code class=\\\"language-text\\\">disableHtml5Mode: true</code> option. It makes the Style Guide application generate the old-school links with <code class=\\\"language-text\\\">#</code>. And so it\\nworks.</p>\\n<h2>Documenting the components</h2>\\n<p>As I used BEM for my website frontend from very beginning, the CSS was already written the component-way. I only\\nneeded to create a descriptive structure and document the blocks with KSS.</p>\\n<h3>Structuring the code</h3>\\n<p>Unfortunately the BEM way of storing components in folders turned out to be not good enough to see\\nthe code from the living-style-guide perspective. On a file system, all the components are represented at the same\\nlevel which turns them into a long list without much structure:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">desktop.blocks/\\n├── article\\n├── articles-list\\n├── box\\n├── ...\\n└── text</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/tree/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks\\\">github/varya/varya.github.com/desktop-blocks</a></p>\\n<p>In this case the atomic components are not distinct from the structural interface pieces (such as Header or Footer),\\nfrom the side blocks, or from CSS provided to style third-party things. Flat structure is indeed good for\\nbundling tools but we humans need more logical nesting.</p>\\n<p>For that I provide the <code class=\\\"language-text\\\">overview.css</code> file, which has nothing to do with the final product and only helps me arrange the\\nblocks. I have 5 sections, in which I place the blocks depending on what they are:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">/*\\nAtoms\\n\\nStyleguide 1\\n\\nstyleguide:ignore:start\\n\\n@import url(&quot;logo/logo.css&quot;); // 1.1\\n@import url(&quot;text/text.css&quot;); // 1.2\\n...\\n\\nstyleguide:ignore:end\\n*/\\n\\n/*\\nMain blocks\\n\\nStyleguide 2\\n\\nstyleguide:ignore:start\\n\\n@import url(&quot;header/header.css&quot;); // 2.1\\n...\\n\\nstyleguide:ignore:end\\n*/</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/overview.css\\\">github/varya/varya.github.com/desktop-blocks/overview.css</a></p>\\n<p>There are only comments in this file in which I provide the documentation of every subset as a Style Guide section.\\nListing the paths of the dependant CSS files makes it easier to navigate through the code. The <code class=\\\"language-text\\\">@import</code> syntax is used just\\nbecause :-)</p>\\n<p>The only trick here is the magic <code class=\\\"language-text\\\">styleguide:ignore:start</code> and <code class=\\\"language-text\\\">styleguide:ignore:end</code> keywords. It is possible to\\nplace them inside comments in any piece of your CSS (or SASS or LESS) and make the Style Guide generator ignore\\nwhat is in between.</p>\\n<p>In my case, I tell it skip my overview lists because they have nothing to do with the codebase. But the names of the\\nsections and their possible descriptions (I just haven’t provided any) are in work.</p>\\n<h3>Describing the pieces</h3>\\n<p>Everything else went smoothly. For every component I provided the KSS description. The <code class=\\\"language-text\\\">logo</code> block can be the\\nsimplest example:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\n\\nLogo\\n\\nmarkup:\\n&lt;logo class=\\\"logo\\\">···&lt;b class=\\\"var\\\">var&lt;/b>·&lt;b class=\\\"ya\\\">ya&lt;/b>;&lt;b class=\\\"cursor\\\">&lt;/b>&lt;/logo>\\n\\nStyleguide 1.1\\n\\n*/</span>\\n<span class=\\\"token selector\\\">.logo</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/logo/logo.css\\\">github/varya/varya.github.com/desktop-blocks/logo/logo.css</a></p>\\n<p>See it rendered: <a href=\\\"http://varya.me/styleguide/#/section/1.1\\\">varya.me/styleguide/#/section/1.1</a></p>\\n<p>In some other components I used extra features. For example, different social icons are the same <code class=\\\"language-text\\\">ico</code> element with different\\nmodifiers. In the Style Guide I could documents them all together:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\nSocial icon\\n\\n.social-ico__ico_type_rss         - RSS\\n.social-ico__ico_type_twitter     - Twitter\\n.social-ico__ico_type_github      - Github\\n.social-ico__ico_type_facebook    - Facebook\\n.social-ico__ico_type_linkedin    - LinkedIn\\n\\nmarkup:\\n&lt;a class=\\\"link social-ico__ico {$modifiers}\\\" href=\\\"#\\\" title=\\\"Icon title\\\">&lt;/a>\\n\\nStyleguide 1.5.1\\n*/</span>\\n\\n<span class=\\\"token selector\\\">.social-ico__ico</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/social-ico/social-ico.css#L49\\\">github/varya/varya.github.com/desktop-blocks/social-ico/social-ico.css</a></p>\\n<p>In the website the component is rendered separately with every modifier possible:\\n<a href=\\\"http://varya.me/styleguide/#/section/1.5.1\\\">varya.me/styleguide/#/section/1.5.1</a></p>\\n<p>For the complex components which contain other ones I used <code class=\\\"language-text\\\">&lt;sg-insert&gt;</code> keyword. It takes another component’s markup\\nby its reference number.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\nSidebar\\nmarkup:\\n&lt;nav class=\\\"sidebar\\\">\\n  &lt;sg-insert>4.2&lt;/sg-insert>\\n  &lt;sg-insert>4.3&lt;/sg-insert>\\n&lt;/nav>\\nStyleguide 4.1\\n*/</span>\\n\\n<span class=\\\"token selector\\\">.sidebar</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/sidebar/sidebar.css\\\">github/varya/varya.github.com/desktop-blocks/sidebar/sidebar.css</a></p>\\n<p>This makes the markup examples pretty short, however it expands for rendering the component and showing the\\nmarkup on the website: <a href=\\\"http://varya.me/styleguide/#/section/4.1\\\">varya.me/styleguide/#/section/4.1</a></p>\\n<h2>Style-Guide-Driven Development</h2>\\n<p>If you type “logo” in the Style Guide search field, it will find and render all the components where <code class=\\\"language-text\\\">logo</code> is found!\\nThe search goes through all the CSS codebase. Similarly you can search for the components using <code class=\\\"language-text\\\">&lt;em&gt;</code> in their markup.\\nOr <code class=\\\"language-text\\\">font:</code> in their CSS.</p>\\n<p>I personally like that the search source is not only the CSS of components but also their markup examples. During the\\nrefactorings this, for example, makes possible to select all the components containing inputs and look how the changes affect them.</p>\\n<p>However this is just a small addition to one major benefit I see in using the Style Guide. I find it far more important\\nthat <strong>it reveals my mistakes</strong>.</p>\\n<p>I already used the component way when building my blog. And I was pretty sure that my BEM experience is a 100%\\nguarantee that I get this right. But even developing with a highly modular approach in mind, I did this from the page perspective.\\nBefore the components were integrated into the blog engine, I had developed a static page and this was where the\\ncomponents fitted first.</p>\\n<p>I considered them independent and so tried to write my code. But <strong>sitting at the same page they never actually were\\nindependent</strong>.</p>\\n<p>After the SC5 Style Guide magically represented each of them separately, I can see that the\\n<a href=\\\"http://varya.me/styleguide/#/section/1.1\\\">logo</a> is aligned to the right.\\nAnd why should it be? Obviously, my mistake when I tried to made it fit into the Header.</p>\\n<p>The same goes for the <a href=\\\"http://varya.me/styleguide/#/section/1.4\\\">language switcher</a> positioned on the right.</p>\\n<p>In the <a href=\\\"http://varya.me/styleguide/#/section/1.5\\\">set of social icons</a>, the language switcher provided with the RSS\\nicon was considered to stay with it. But this only happens because at the blog pages\\nit is placed into a narrow container. The Style Guide represents it on its own and I can see that it is not that\\nflawless as I thought.</p>\\n<p>Such discoveries obviously lead to the refactoring :-)</p>\\n<p>To top it off, I must say that the experiment does not end and there are already findings for further\\nposts. Stay tuned!</p>\",\"fields\":{\"slug\":\"en/posts/sc5-styleguide-for-smallers/\",\"prefix\":\"\",\"disqusIdentifier\":\"posts-sc5-styleguide-for-smallers-index-en\"},\"frontmatter\":{\"title\":\"Style-guide the smaller things\",\"date\":\"30 July 2015\",\"v2\":true,\"old\":null,\"tumblr\":null,\"meta\":{\"desc\":\"A story about how I tried to use SC5 Style Guide on my tiny tiny blog project and aparently got see the CSS architecture from completety different perspective.\\n\"},\"cover\":null}},\"authornote\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p><strong>Mr. Gatsby</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\\\"/\\\">bibendum</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. Blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus.</p>\"},\"site\":{\"siteMetadata\":{\"siteUrl\":\"http://varya.me/\"}}},\"pathContext\":{\"slug\":\"en/posts/sc5-styleguide-for-smallers/\",\"prev\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-styleguide-for-smallers/index_ru.md absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"ru/posts/sc5-styleguide-for-smallers/\",\"prefix\":\"\",\"lang\":\"ru\",\"disqusIdentifier\":\"posts-sc5-styleguide-for-smallers-index-ru\"},\"frontmatter\":{\"title\":\"Стайл гайд для самых маленьких\"}},\"next\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-style-guide-next-level/index_en.md absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"en/posts/sc5-style-guide-next-level/\",\"prefix\":\"\",\"lang\":\"en\",\"disqusIdentifier\":\"posts-sc5-style-guide-next-level-index-en\"},\"frontmatter\":{\"title\":\"Living SC5 Styleguide, the next level\"}}}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---en-posts-sc-5-styleguide-for-smallers-d7bcd3a363c78de2e26c.js","module.exports = {\"data\":{\"post\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-styleguide-for-smallers/index_en.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I’ve been presenting <a href=\\\"http://styleguide.sc5.io/\\\">SC5 Style Guide</a> several times during this year sharing my experience of using it for one\\nof the SC5’s clients, Elisa. Assuming that Elisa is a huge mobile operator with a lot of websites and a need\\nto keep those websites visually consistent, there is no wonder that the SC5 Style Guide as a tool provides benefits\\nthere. But what about smaller websites? Would it be useful there? I did not know the answer to this question\\nand wanted to experiment. The experiment was conducted on my blog codebase.\\n<excerpt/></p>\\n<p>This is how the Living Style Guide looks like: <a href=\\\"http://varya.me/styleguide\\\">varya.me/styleguide</a>. You can see the interface\\ndecomposed into block pieces, each of those representing a meaningful interface unit. I haven’t seen the interface of my blog\\nfrom this perspective before. It gave me a lot of insight into the ways the CSS architecture of my blog should be designed.\\nBut, let’s consider things one by one.</p>\\n<h2>Fine-tuning the SC5 Style Guide tool</h2>\\n<p>Everything starts with</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">npm install --save-dev sc5-styleguide</code></pre>\\n      </div>\\n<p>Then, I was able to use the tool to build the interface representation. It required\\n<a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/Gulpfile.js\\\">a couple of Gulp tasks</a>.</p>\\n<p>I had to deviate from the example configuration in a couple of places to make my Style Guide work as it does now. Let me\\nname and explain these things.</p>\\n<h3>Providing the <code class=\\\"language-text\\\">appRoot</code> parameter.</h3>\\n<p>As I am hosting the Style Guide website not it the root folder but in a subfolder named <code class=\\\"language-text\\\">styleguide</code>, I inform the\\ngenerator about that, so it can build the properly working app:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">task</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"styleguide:generate\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">return</span> gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">src</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"desktop.blocks/**/*.css\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">pipe</span><span class=\\\"token punctuation\\\">(</span>styleguide<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">generate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Varya.me Styleguide\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      appRoot<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'/styleguide'</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token operator\\\">...</span></code></pre>\\n      </div>\\n<h3>Providing scripts</h3>\\n<p>Under the <code class=\\\"language-text\\\">extraHead</code> parameter I list all the additions needed. Some of my components\\nneed JavaScript to function. It is indeed possible to ignore that and present\\ntheir views only, but I wanted them to be exactly as they were used in the blog.\\nThanks to <code class=\\\"language-text\\\">extraHead</code> I could supply any code needed. I used it to\\nlink the same scripts that I have on my blog pages:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">task</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"styleguide:generate\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">return</span> gulp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">src</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"desktop.blocks/**/*.css\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">pipe</span><span class=\\\"token punctuation\\\">(</span>styleguide<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">generate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Varya.me Styleguide\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token operator\\\">...</span>\\n      extraHead<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n        <span class=\\\"token string\\\">'&lt;script src=\\\"http://yandex.st/jquery/1.7.2/jquery.min.js\\\">&lt;/script>'</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">'&lt;script src=\\\"/desktop.bundles/index/index.min.js\\\">&lt;/script>'</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token operator\\\">...</span>\\n      <span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token operator\\\">...</span></code></pre>\\n      </div>\\n<p>However, I needed yet another trick to make the scripts work properly. My components are written with <code class=\\\"language-text\\\">i-bem.js</code>\\nframework which automatically initialises them on the <code class=\\\"language-text\\\">domReady</code> event. This is what I wanted for the static pages because the\\ncomponents markup is in HTML document. But for the Style Guide, which is architecturally a SPA, this did not work. The components\\nare rendered on the fly, and this obviously happens after <code class=\\\"language-text\\\">domReady</code>; that is why by default they stay\\nuninitialized. So they should be initialized after they had been rendered. Luckily, the Style Guide\\ntriggers an event on the <code class=\\\"language-text\\\">window</code> object named <code class=\\\"language-text\\\">styleguide:onRendered</code> every time a new component is re-rendered.\\nBy handling this event, I managed to get the components initialized right after they appear on the page. This code is needed\\nfor the Style Guide only, so I do not include it into the project bundle but provide as an additional script in the\\nStyle Guide configuration:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">gulp.task(&quot;styleguide:generate&quot;, function() {\\n\\n  return gulp.src([&quot;desktop.blocks/**/*.css&quot;])\\n    .pipe(styleguide.generate({\\n      title: &quot;Varya.me Styleguide&quot;,\\n      ...\\n      extraHead: [\\n        ...\\n        &#39;&lt;script src=&quot;/styleguide/i-bem__init_styleguide.js&quot;&gt;&lt;/script&gt;&#39;\\n      ]\\n    ...</code></pre>\\n      </div>\\n<p>You can check how the JavaScript components are working with the block which is initially empty and renders the list\\nof repositories after querying the GitHub API: <a href=\\\"http://varya.me/styleguide/#/section/4.3\\\">varya.me/styleguide/#/section/4.3</a>.\\nOr try out the Candies randomly built with JavaScript <a href=\\\"http://varya.me/styleguide/#/section/5.1\\\">varya.me/styleguide/#/section/5.1</a>.</p>\\n<p>The last important thing to make JavaScript work is to use <code class=\\\"language-text\\\">disableEncapsulation: true</code> parameter. Normally the\\nStyle Guide wraps each component in the ShadowDOM because it lets us developers write component CSS without\\nworrying about affecting the Style Guide interface. But it also makes the components scoped from the JavaScript linked\\nto the Style Guide website — including that additional JavaScript I showed above. By disabling the encapsulation, I made\\nthe components to be inserted into the HTML page as they are, without any scoping. As for affecting the Style Guide\\ninterface, in my case it will never happen as I use BEM and all my components are already “encapsulated” thanks to that methodology.</p>\\n<h3>Hosting a static page</h3>\\n<p>The SC5 Style Guide provides a development server which routes all the paths to its root. When hosting it outside, you\\nshould care about the routing yourself as you would do for any other SPA. But my blog is hosted on GitHub Pages\\nwhich is a simple static hosting and does not provide any routing capabilities. For managing this case, I use the\\n<code class=\\\"language-text\\\">disableHtml5Mode: true</code> option. It makes the Style Guide application generate the old-school links with <code class=\\\"language-text\\\">#</code>. And so it\\nworks.</p>\\n<h2>Documenting the components</h2>\\n<p>As I used BEM for my website frontend from very beginning, the CSS was already written the component-way. I only\\nneeded to create a descriptive structure and document the blocks with KSS.</p>\\n<h3>Structuring the code</h3>\\n<p>Unfortunately the BEM way of storing components in folders turned out to be not good enough to see\\nthe code from the living-style-guide perspective. On a file system, all the components are represented at the same\\nlevel which turns them into a long list without much structure:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">desktop.blocks/\\n├── article\\n├── articles-list\\n├── box\\n├── ...\\n└── text</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/tree/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks\\\">github/varya/varya.github.com/desktop-blocks</a></p>\\n<p>In this case the atomic components are not distinct from the structural interface pieces (such as Header or Footer),\\nfrom the side blocks, or from CSS provided to style third-party things. Flat structure is indeed good for\\nbundling tools but we humans need more logical nesting.</p>\\n<p>For that I provide the <code class=\\\"language-text\\\">overview.css</code> file, which has nothing to do with the final product and only helps me arrange the\\nblocks. I have 5 sections, in which I place the blocks depending on what they are:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">/*\\nAtoms\\n\\nStyleguide 1\\n\\nstyleguide:ignore:start\\n\\n@import url(&quot;logo/logo.css&quot;); // 1.1\\n@import url(&quot;text/text.css&quot;); // 1.2\\n...\\n\\nstyleguide:ignore:end\\n*/\\n\\n/*\\nMain blocks\\n\\nStyleguide 2\\n\\nstyleguide:ignore:start\\n\\n@import url(&quot;header/header.css&quot;); // 2.1\\n...\\n\\nstyleguide:ignore:end\\n*/</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/overview.css\\\">github/varya/varya.github.com/desktop-blocks/overview.css</a></p>\\n<p>There are only comments in this file in which I provide the documentation of every subset as a Style Guide section.\\nListing the paths of the dependant CSS files makes it easier to navigate through the code. The <code class=\\\"language-text\\\">@import</code> syntax is used just\\nbecause :-)</p>\\n<p>The only trick here is the magic <code class=\\\"language-text\\\">styleguide:ignore:start</code> and <code class=\\\"language-text\\\">styleguide:ignore:end</code> keywords. It is possible to\\nplace them inside comments in any piece of your CSS (or SASS or LESS) and make the Style Guide generator ignore\\nwhat is in between.</p>\\n<p>In my case, I tell it skip my overview lists because they have nothing to do with the codebase. But the names of the\\nsections and their possible descriptions (I just haven’t provided any) are in work.</p>\\n<h3>Describing the pieces</h3>\\n<p>Everything else went smoothly. For every component I provided the KSS description. The <code class=\\\"language-text\\\">logo</code> block can be the\\nsimplest example:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\n\\nLogo\\n\\nmarkup:\\n&lt;logo class=\\\"logo\\\">···&lt;b class=\\\"var\\\">var&lt;/b>·&lt;b class=\\\"ya\\\">ya&lt;/b>;&lt;b class=\\\"cursor\\\">&lt;/b>&lt;/logo>\\n\\nStyleguide 1.1\\n\\n*/</span>\\n<span class=\\\"token selector\\\">.logo</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/logo/logo.css\\\">github/varya/varya.github.com/desktop-blocks/logo/logo.css</a></p>\\n<p>See it rendered: <a href=\\\"http://varya.me/styleguide/#/section/1.1\\\">varya.me/styleguide/#/section/1.1</a></p>\\n<p>In some other components I used extra features. For example, different social icons are the same <code class=\\\"language-text\\\">ico</code> element with different\\nmodifiers. In the Style Guide I could documents them all together:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\nSocial icon\\n\\n.social-ico__ico_type_rss         - RSS\\n.social-ico__ico_type_twitter     - Twitter\\n.social-ico__ico_type_github      - Github\\n.social-ico__ico_type_facebook    - Facebook\\n.social-ico__ico_type_linkedin    - LinkedIn\\n\\nmarkup:\\n&lt;a class=\\\"link social-ico__ico {$modifiers}\\\" href=\\\"#\\\" title=\\\"Icon title\\\">&lt;/a>\\n\\nStyleguide 1.5.1\\n*/</span>\\n\\n<span class=\\\"token selector\\\">.social-ico__ico</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/social-ico/social-ico.css#L49\\\">github/varya/varya.github.com/desktop-blocks/social-ico/social-ico.css</a></p>\\n<p>In the website the component is rendered separately with every modifier possible:\\n<a href=\\\"http://varya.me/styleguide/#/section/1.5.1\\\">varya.me/styleguide/#/section/1.5.1</a></p>\\n<p>For the complex components which contain other ones I used <code class=\\\"language-text\\\">&lt;sg-insert&gt;</code> keyword. It takes another component’s markup\\nby its reference number.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\"><span class=\\\"token comment\\\">/*\\nSidebar\\nmarkup:\\n&lt;nav class=\\\"sidebar\\\">\\n  &lt;sg-insert>4.2&lt;/sg-insert>\\n  &lt;sg-insert>4.3&lt;/sg-insert>\\n&lt;/nav>\\nStyleguide 4.1\\n*/</span>\\n\\n<span class=\\\"token selector\\\">.sidebar</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n...</code></pre>\\n      </div>\\n<p><a href=\\\"https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/sidebar/sidebar.css\\\">github/varya/varya.github.com/desktop-blocks/sidebar/sidebar.css</a></p>\\n<p>This makes the markup examples pretty short, however it expands for rendering the component and showing the\\nmarkup on the website: <a href=\\\"http://varya.me/styleguide/#/section/4.1\\\">varya.me/styleguide/#/section/4.1</a></p>\\n<h2>Style-Guide-Driven Development</h2>\\n<p>If you type “logo” in the Style Guide search field, it will find and render all the components where <code class=\\\"language-text\\\">logo</code> is found!\\nThe search goes through all the CSS codebase. Similarly you can search for the components using <code class=\\\"language-text\\\">&lt;em&gt;</code> in their markup.\\nOr <code class=\\\"language-text\\\">font:</code> in their CSS.</p>\\n<p>I personally like that the search source is not only the CSS of components but also their markup examples. During the\\nrefactorings this, for example, makes possible to select all the components containing inputs and look how the changes affect them.</p>\\n<p>However this is just a small addition to one major benefit I see in using the Style Guide. I find it far more important\\nthat <strong>it reveals my mistakes</strong>.</p>\\n<p>I already used the component way when building my blog. And I was pretty sure that my BEM experience is a 100%\\nguarantee that I get this right. But even developing with a highly modular approach in mind, I did this from the page perspective.\\nBefore the components were integrated into the blog engine, I had developed a static page and this was where the\\ncomponents fitted first.</p>\\n<p>I considered them independent and so tried to write my code. But <strong>sitting at the same page they never actually were\\nindependent</strong>.</p>\\n<p>After the SC5 Style Guide magically represented each of them separately, I can see that the\\n<a href=\\\"http://varya.me/styleguide/#/section/1.1\\\">logo</a> is aligned to the right.\\nAnd why should it be? Obviously, my mistake when I tried to made it fit into the Header.</p>\\n<p>The same goes for the <a href=\\\"http://varya.me/styleguide/#/section/1.4\\\">language switcher</a> positioned on the right.</p>\\n<p>In the <a href=\\\"http://varya.me/styleguide/#/section/1.5\\\">set of social icons</a>, the language switcher provided with the RSS\\nicon was considered to stay with it. But this only happens because at the blog pages\\nit is placed into a narrow container. The Style Guide represents it on its own and I can see that it is not that\\nflawless as I thought.</p>\\n<p>Such discoveries obviously lead to the refactoring :-)</p>\\n<p>To top it off, I must say that the experiment does not end and there are already findings for further\\nposts. Stay tuned!</p>\",\"fields\":{\"slug\":\"en/posts/sc5-styleguide-for-smallers/\",\"prefix\":\"\",\"disqusIdentifier\":\"posts-sc5-styleguide-for-smallers-index-en\"},\"frontmatter\":{\"title\":\"Style-guide the smaller things\",\"date\":\"30 July 2015\",\"v2\":true,\"old\":null,\"tumblr\":null,\"meta\":{\"desc\":\"A story about how I tried to use SC5 Style Guide on my tiny tiny blog project and aparently got see the CSS architecture from completety different perspective.\\n\"},\"cover\":null}},\"authornote\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p><strong>Mr. Gatsby</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\\\"/\\\">bibendum</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. Blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus.</p>\"},\"site\":{\"siteMetadata\":{\"siteUrl\":\"http://varya.me/\"}}},\"pathContext\":{\"slug\":\"en/posts/sc5-styleguide-for-smallers/\",\"prev\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-styleguide-for-smallers/index_ru.md absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"ru/posts/sc5-styleguide-for-smallers/\",\"prefix\":\"\",\"lang\":\"ru\",\"disqusIdentifier\":\"posts-sc5-styleguide-for-smallers-index-ru\"},\"frontmatter\":{\"title\":\"Стайл гайд для самых маленьких\"}},\"next\":{\"id\":\"/Users/varya/WebDev/Personal/varya.github.com/content/posts/sc5-style-guide-next-level/index_en.md absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"en/posts/sc5-style-guide-next-level/\",\"prefix\":\"\",\"lang\":\"en\",\"disqusIdentifier\":\"posts-sc5-style-guide-next-level-index-en\"},\"frontmatter\":{\"title\":\"Living SC5 Styleguide, the next level\"}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/en-posts-sc-5-styleguide-for-smallers.json\n// module id = 594\n// module chunks = 124981973644191"],"sourceRoot":""}