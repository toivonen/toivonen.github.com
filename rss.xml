<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Varya.me — design and development]]></title><description><![CDATA[Varya.me — design and development]]></description><link>http://varya.me/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 16 Jul 2018 20:44:09 GMT</lastBuildDate><item><title><![CDATA[Упражнения для дикции]]></title><description><![CDATA[Этим упражнениям меня учили на моих первых курсах английского языка. Выглядит
смешно, но оказыватся полезным.]]></description><link>http://varya.me/ru/posts/articulation-exercises/</link><guid isPermaLink="false">http://varya.me/ru/posts/articulation-exercises/</guid><content:encoded>&lt;p&gt;Этим упражнениям меня учили на моих первых курсах английского языка. Выглядит
смешно, но оказыватся полезным.&lt;excerpt/&gt;&lt;/p&gt;
&lt;h3&gt;Для губ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Вытянуть губы в трубочку, растянуть улыбку со сведенными губами.&lt;/li&gt;
&lt;li&gt;То же самое с открытыми губами.&lt;/li&gt;
&lt;li&gt;Вытянуть «хоботок» и делать круговые движения.
1.Петь слитно: и, э, а, о, у, ы.&lt;/li&gt;
&lt;li&gt;Произносить быстро:&lt;br/&gt;
пи, пи, пи,&lt;br/&gt;
пэ, пэ, пэ,&lt;br/&gt;
па, па, па,&lt;br/&gt;
по, по, по,&lt;br/&gt;
пу, пу, пу,&lt;br/&gt;
пы, пы, пы.&lt;/li&gt;
&lt;li&gt;Попеременно: вытянуть губы, раскрыть рот.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Для челюсти&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Нижнюю челюсть в одну сторону, потом в другую. Верхняя челюсть неподвижна.&lt;/li&gt;
&lt;li&gt;Открывать и закрывать рот, двигая нижнюю челють вниз.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Для языка&lt;/h3&gt;
&lt;p&gt;Эти упражнения лучше делать с зеркалом. Может понадобиться платок, чтобы
вытирать рот.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Вытянуть язык, сделать острым, потом растянуть.&lt;/li&gt;
&lt;li&gt;Язык выглянул, напрягся, расслабился, спрятался.&lt;/li&gt;
&lt;li&gt;Язык выглянул, направо, налево, прямо, спрятался.&lt;/li&gt;
&lt;li&gt;Делать языком «часики»: направо, налево.&lt;/li&gt;
&lt;li&gt;С закрытым ротом упираться языком в щёку и давить на неё.&lt;/li&gt;
&lt;li&gt;Круговые движения с высунутым языком.&lt;/li&gt;
&lt;li&gt;Рот открыт, язык напряженный. Доставать и убирать язык.&lt;/li&gt;
&lt;li&gt;Кончиком языка гладить нёбо вперёд, назад.&lt;/li&gt;
&lt;li&gt;Высунуть язык, делать движения вверх, вниз кончиком языка.&lt;/li&gt;
&lt;li&gt;Упражнение «грибок»: плоский язык прижимать к нёбу.&lt;/li&gt;
&lt;li&gt;Пощёлкать языком.&lt;/li&gt;
&lt;li&gt;Сложить язык трубочкой.&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[BEML - an HTML preprocessor for BEM]]></title><description><![CDATA[Depending on a project people prefer different ways to adapt BEM.
This results
into a range of tools for our choice. Today, I am translating Maxim Shkalin's
description of the `BEML` templating pre-processor.

Willing to lighten the development with BEM I propose a tiny extension for the
HTML syntax (yes, I used to writ all those long CSS classes manually). As the
name `BEMHTML` is greedily taken by the Yandex guys, let us call it `BEML`.]]></description><link>http://varya.me/en/posts/beml-html-preprocessor/</link><guid isPermaLink="false">http://varya.me/en/posts/beml-html-preprocessor/</guid><content:encoded>&lt;p&gt;Depending on a project people prefer different ways to adapt BEM.
This results
into a range of tools for our choice. Today, I am translating Maxim Shkalin’s
description of the &lt;code class=&quot;language-text&quot;&gt;BEML&lt;/code&gt; templating pre-processor.&lt;/p&gt;
&lt;p&gt;Willing to lighten the development with BEM I propose a tiny extension for the
HTML syntax (yes, I used to writ all those long CSS classes manually). As the
name &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt; is greedily taken by the Yandex guys, let us call it &lt;code class=&quot;language-text&quot;&gt;BEML&lt;/code&gt;.&lt;excerpt/&gt;&lt;/p&gt;
&lt;h2&gt;Objective&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Smooth learning curve&lt;br/&gt;
HTML-syntax with no need to transform one language into another.&lt;/li&gt;
&lt;li&gt;Portability&lt;br/&gt;
The tool has to be easy to use with other languages.&lt;/li&gt;
&lt;li&gt;Compatiblity with template engines&lt;br/&gt;
Instead of trying to replace them.&lt;/li&gt;
&lt;li&gt;Simplicity&lt;br/&gt;
Easy to use at any project.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It might be my habit, but I do not see the need to transform JSON into HTML.
BEMJSON page description usually looks like spaghetti and is very hard to read
due to its syntax. Also I do not think that HTML is wrong. AngularJS has already
shown that HTML can be much flexible than now. Thus, I decided to follow this
example.&lt;/p&gt;
&lt;p&gt;Moreover, there is anothe problem with using BEMHTML. You need Node.js running
for your backend; or use another JavaScript engine for PHP or Rython with dirty
hacks like V8JS or PyV8. The otehr way round could be preparation of a rendered
template, but this sounds even more unnatural.&lt;/p&gt;
&lt;p&gt;It would be nice to have a JavaScript-preprocessor and a relative Grunt task
which can be used for creating the prototypes. Then, with transforming to PHP
you can use the same templates in the backend.&lt;/p&gt;
&lt;h2&gt;Concept&lt;/h2&gt;
&lt;p&gt;I had a lot of ideas how to extend HTML with inheritance, includes and loops.
But finally I cut them off. It would be too complex to support and then provide
the portability. Besides, there is a lot of other template engines; I would
rather enter into alliance with them than to compete. Finally I got not a
template engine but a preprocessor (or postprocessor) to the current one.&lt;/p&gt;
&lt;p&gt;The scenario is the following. First, create BEML markup using your template
engine. Then, past it not to the client but to the post-processor which turns
BEM syntax into HTML. Funally the HTML goes to the client.&lt;/p&gt;
&lt;p&gt;Or, there is a faster way for the braves. You can change your template with
pre-processor which turns BEM attributes into HTML, cache it and use this
chached copy with your dear template engine. Indeed, the pre-processor does not
touch the template engine code.&lt;/p&gt;
&lt;h2&gt;Syntax&lt;/h2&gt;
&lt;p&gt;This is very simple, you just use 4 more attributes like &lt;code class=&quot;language-text&quot;&gt;block&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;elem&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;mod&lt;/code&gt;
and &lt;code class=&quot;language-text&quot;&gt;mix&lt;/code&gt;. I suppose it is clear what each of them is responsible for. For the
complex values you can use light JSON dialect with no quotation marks and
optional curly braces. Finally the tool turns this code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;b-animals&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;elem&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;cat&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;mod&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;size:big, color:red&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;into the following HTML.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;b-animals&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;b-animals__cat
              b-animals__cat_size_big
              b-animals__cat_color_red
              &lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Much readable.&lt;/p&gt;
&lt;p&gt;Full information about the syntax you can learn from the &lt;a href=&quot;https://github.com/zenwalker/node-beml&quot;&gt;README on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Try now&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; beml&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; beml &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;beml&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; template &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;div block=&quot;b-block&quot; mod=&quot;size:big&quot;&gt;&amp;lt;/div&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

beml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;template&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;html&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Author&lt;/h2&gt;
&lt;p&gt;This article is a translaton.
The original article by Maxim Shkalin was &lt;a href=&quot;http://zenwalker.ru/blog/2014/1/html-preprocessor-for-bem.html&quot;&gt;posted in his
blog&lt;/a&gt;. Follow him in the social networks:
&lt;a class=&quot;link social-ico__ico social-ico__ico_in-text social-ico__ico_type_twitter&quot;
href=&quot;https://twitter.com/zenwalker2/&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
&lt;a class=&quot;link social-ico__ico social-ico__ico_in-text social-ico__ico_type_github&quot;
href=&quot;https://github.com/zenwalker/&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Бложик на bem tools 1.0.0alpha]]></title><description><![CDATA[[bem tools](http://bem.info/tools/bem/) &mdash; пакет для сборки проекта с
БЭМ-структурой развивается семимильными шагами. На подходе версия 1.0.0. Точнее,
уже сейчас её можно использовать как alpha. Я попробовала на блоге, и уже этот
текст отображается со статикой, собранной `bem tools 1.0.0`.]]></description><link>http://varya.me/ru/posts/bem-tools-100-alpha/</link><guid isPermaLink="false">http://varya.me/ru/posts/bem-tools-100-alpha/</guid><content:encoded>&lt;p&gt;&lt;a href=&quot;http://bem.info/tools/bem/&quot;&gt;bem tools&lt;/a&gt; — пакет для сборки проекта с
БЭМ-структурой развивается семимильными шагами. На подходе версия 1.0.0. Точнее,
уже сейчас её можно использовать как alpha. Я попробовала на блоге, и уже этот
текст отображается со статикой, собранной &lt;code class=&quot;language-text&quot;&gt;bem tools 1.0.0&lt;/code&gt;.&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Воспользоваться этой версией можно из ветки
&lt;a href=&quot;https://github.com/bem/bem-tools/tree/release-1.0.0&quot;&gt;release-1.0.0&lt;/a&gt;, то есть
вместо версии написать в package.json&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;bem&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;git://github.com/bem/bem-tools.git#7b07045b17ff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Или, ещё легче, структуру проекта можно позаимстровать из
&lt;a href=&quot;https://github.com/bem/project-stub/tree/feature/bt-1.0.0&quot;&gt;project-stub/feature/bt-1.0.0&lt;/a&gt;.
Вообще &lt;code class=&quot;language-text&quot;&gt;project-stub&lt;/code&gt; очень удобное изобретение. Я все свои проекты начинаю с
него. Для перехода между версиями тоже отлично: просто делается сравнение
текущего проекта с другой веткой project-stub, и при применении всех изменений,
проект заводится из коробки.&lt;/p&gt;
&lt;p&gt;Итак, что у нас нового? Не принципиально в проекте, а с моей пользовательской
точки зрения.&lt;/p&gt;
&lt;p&gt;Появилась возможность складывать минимизированные файлы не в
&lt;code class=&quot;language-text&quot;&gt;_page.css&lt;/code&gt; и &lt;code class=&quot;language-text&quot;&gt;_page.js&lt;/code&gt;, а в файлы &lt;code class=&quot;language-text&quot;&gt;page.min.css&lt;/code&gt; и &lt;code class=&quot;language-text&quot;&gt;page.min.js&lt;/code&gt;. Кстати,
project-stub &lt;a href=&quot;https://github.com/bem/project-stub/blob/142e92c58e2ecf0ea3b658f71c203fee214df8d1/.bem/make.js#L34&quot;&gt;именно так и
настроен&lt;/a&gt;.
Это для меня критичное изменение, потому что оно наконец-то дало возможность
использовать &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; в блоге. Блог запущен на Jekyll, встроенном в GitHub,
то есть хостится на технологии gh-pages. По умолчанию gh-pages не показывает
файлы, начинающиеся с подчеркивания. Есть трюк — добавить в корень репозитория
файл &lt;code class=&quot;language-text&quot;&gt;.nojekyll&lt;/code&gt;, но тогда перестаёт работать Jekyll :-) В общем, мне
приходилось пользоваться &lt;a href=&quot;https://github.com/enb-make/enb&quot;&gt;ENB&lt;/a&gt; ради единственной
фичи - возможности минимизировать в &lt;code class=&quot;language-text&quot;&gt;page.min.*&lt;/code&gt;. ENB хорош, но мейнстрим есть
мейнстрим, прехожу обратно на &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Еще одно важное user friendly изменение — уровни страниц теперь не содержат
папку &lt;code class=&quot;language-text&quot;&gt;.bem&lt;/code&gt; с настройками, по крайней мере по умолчанию. Все настройки
сосредоточены в папке &lt;code class=&quot;language-text&quot;&gt;.bem&lt;/code&gt; &lt;a href=&quot;https://github.com/bem/project-stub/tree/5231f6a2de35dabfd2017574673e40a2a36ed435/.bem&quot;&gt;в корне
проекта&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Это изменеие не заметно, если начинать проект с project-stub и ничего не
менять. Тогда не важно, какая структура. А вот внесение изменений стало
психологически комфортнее. По крайней мере точно известно, что надо менять
&lt;code class=&quot;language-text&quot;&gt;.bem&lt;/code&gt; в корне.&lt;/p&gt;
&lt;p&gt;Для доставки библиотек на проект теперь использутеся
&lt;a href=&quot;https://github.com/bower/bower&quot;&gt;Bower&lt;/a&gt;, пакетный менеджер от Twitter. Про него
тоже интересно почитать.&lt;/p&gt;
&lt;p&gt;Соответственно, в корне проекта появился файл
&lt;a href=&quot;https://github.com/bem/project-stub/blob/5231f6a2de35dabfd2017574673e40a2a36ed435/bower.json&quot;&gt;bower.json&lt;/a&gt;
со списком библиотек.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bem-project-stub&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;bem-core&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;9e5dc255421304fd652552c948cdf7af35dc8a68&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;bem-components&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bem/bem-components&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;И служебный файл &lt;a href=&quot;https://github.com/bem/project-stub/blob/5231f6a2de35dabfd2017574673e40a2a36ed435/.bowerrc&quot;&gt;.bowerrc&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Вместе с новой версией &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; блог теперь пользуется новыми библиотеками,
хотя вообще это не взаимосвязано — библиотеки могут быть использованы и со старым
сборщиком.&lt;/p&gt;
&lt;p&gt;Вместо &lt;code class=&quot;language-text&quot;&gt;bem-bl&lt;/code&gt; в основе лежат блоки библиотеки &lt;a href=&quot;https://github.com/bem/bem-core/tree/v1&quot;&gt;bem-core&lt;/a&gt;.
Она только только &lt;a href=&quot;http://clubs.ya.ru/bem/replies.xml?item_no=4301&quot;&gt;анонсирована&lt;/a&gt;.
Миграция на библиотеку делается &lt;a href=&quot;https://github.com/bem/bem-core/blob/v1/MIGRATION.ru.md&quot;&gt;по инструкции&lt;/a&gt;,
и она несложная. Несмотря на введение нового JavaScript-based синтаксиса для
BEMHTML шаблонов, старый лаконичный синтаксис тоже поддерживается. Так что в моём
случае нужно было только перевести JavaScript блоков на новую модульную систему.
&lt;a href=&quot;https://github.com/varya/bem-js-tutorial&quot;&gt;Туториал по BEM JavaScript&lt;/a&gt; как обычно
— готовится.&lt;/p&gt;
&lt;p&gt;Таким образом, сборка блога наконец-то вошла в относительно стабильное состояние,
а я теперь могу заниматься его контентом и улучшением frontend части.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Best Way to Hide]]></title><description><![CDATA[There is a well-known front-end pattern which is to have hidden elements in DOM
and make them visible when necessary. As with any good pattern, it can be
compromised by wrong implementation.
]]></description><link>http://varya.me/en/posts/best-way-to-hide/</link><guid isPermaLink="false">http://varya.me/en/posts/best-way-to-hide/</guid><content:encoded>&lt;p&gt;There is a well-known front-end pattern which is to have hidden elements in DOM
and make them visible when necessary. As with any good pattern, it can be
compromised by wrong implementation.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Most times, &lt;strong&gt;hidden&lt;/strong&gt; means that the DOM element gets a &lt;code class=&quot;language-text&quot;&gt;display: none&lt;/code&gt; property.
This approach has become even more widespread thanks to &lt;code class=&quot;language-text&quot;&gt;.hide()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;.show()&lt;/code&gt; jQuery helpers.&lt;/p&gt;
&lt;p&gt;Whenever you need to hide a visible block you use the &lt;code class=&quot;language-text&quot;&gt;.hide()&lt;/code&gt; helper which in
charge of assigning an inline &lt;code class=&quot;language-text&quot;&gt;display: none&lt;/code&gt; style property, making the block
invisible. When it has to become visible again, the &lt;code class=&quot;language-text&quot;&gt;.show()&lt;/code&gt; helper changes the
inline CSS &lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt; property.&lt;/p&gt;
&lt;p&gt;I believe this is a very nice example of wrong implementation.&lt;/p&gt;
&lt;p&gt;The solution unifies all the elements around the world and assumes all of them
can be hidden in the same way. But this assumption is far from reality.&lt;/p&gt;
&lt;p&gt;Let us say we have an element in a visible state. Guess what will happen when we
use &lt;code class=&quot;language-text&quot;&gt;.hide()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;.show()&lt;/code&gt;?
Yes, an inline style with a &lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt; property will be added.
In other words, the element will not return back to its original visible state.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;..&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot; style=&quot;display: none;&quot;&gt;..&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot; style=&quot;display: block;&quot;&gt;..&amp;lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;jQuery is clever enough to detect inline elements. By applying &lt;code class=&quot;language-text&quot;&gt;.hide()&lt;/code&gt; and
&lt;code class=&quot;language-text&quot;&gt;.show()&lt;/code&gt;, you get something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot; style=&quot;display: none;&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot; style=&quot;display: inline;&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Again, the block did not &lt;strong&gt;return&lt;/strong&gt; to its original state after being shown. For
sure, it became visible, but this state is not equivalent to the original one.
Any new CSS class appended to the element with an intention to change its
&lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt; property will not work as the inline style rule prevails.&lt;/p&gt;
&lt;p&gt;The other problem is that setting &lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt; property to &lt;code class=&quot;language-text&quot;&gt;none&lt;/code&gt; doesn’t always
work for making an element invisible. Maybe for some reason it has to be hidden
from a user with &lt;code class=&quot;language-text&quot;&gt;left: -9999px&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;It’s only the interface block implementation that should know about all the
block states, including the hidden one.&lt;/p&gt;
&lt;p&gt;Modifiers (no matter if you prefer &lt;a href=&quot;http://smacss.com/&quot;&gt;SMACCS&lt;/a&gt;,
&lt;a href=&quot;http://oocss.org/&quot;&gt;OOCSS&lt;/a&gt; or &lt;a href=&quot;http://bem.info/&quot;&gt;BEM&lt;/a&gt;) are designed to express
states of interface components. The same goes for the hidden state.&lt;/p&gt;
&lt;p&gt;Every block you would like to hide and show should be equipped with a proper
modifier:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.my-block_hidden&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then, by applying this modifier and removing it from a block you can be sure it
transitions into one of its predefined states:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-block_hidden&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block my-block_hidden&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-block_hidden&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This enables you to provide any type of hiding, not necessarily &lt;code class=&quot;language-text&quot;&gt;display: none&lt;/code&gt;,
and ensures the block returns to its original visible state when shown again.&lt;/p&gt;
&lt;p&gt;If you prefer not to mess with all those &lt;code class=&quot;language-text&quot;&gt;.addClass()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;.removeClass()&lt;/code&gt;
helpers, you can teach your JavaScript to work with modifiers (e.g. &lt;a href=&quot;https://github.com/varya/bem-js-tutorial/blob/master/02-Modifiers.md&quot;&gt;as
BEM does
it&lt;/a&gt;) which
will make your code even better:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setMod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hidden&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block my-block_hidden&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;

$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;delMod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hidden&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// &amp;lt;span class=&quot;my-block&quot;&gt;...&amp;lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;That’s all. From now on you are not allowed to use &lt;code class=&quot;language-text&quot;&gt;.hide()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;.show()&lt;/code&gt;.
Even for prototyping :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Blocks are bricks, and bundles are buildings]]></title><description><![CDATA[A couple of days ago I was asked about some basic things of using [BEM project
stub](https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c)
from someone who is enjoying the full BEM stack (BEM-CSS, i-bem.js and BEMHTML
templates) for their projects. Answering the questions I promised to turn the
information into text as we always skip many important things mistakenly
considering them being primitive.
]]></description><link>http://varya.me/en/posts/blocks-and-bundles/</link><guid isPermaLink="false">http://varya.me/en/posts/blocks-and-bundles/</guid><content:encoded>&lt;p&gt;A couple of days ago I was asked about some basic things of using &lt;a href=&quot;https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c&quot;&gt;BEM project
stub&lt;/a&gt;
from someone who is enjoying the full BEM stack (BEM-CSS, i-bem.js and BEMHTML
templates) for their projects. Answering the questions I promised to turn the
information into text as we always skip many important things mistakenly
considering them being primitive.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;The quesion was about &lt;code class=&quot;language-text&quot;&gt;.bem/make.js&lt;/code&gt; configuration file which is needed if you
use &lt;a href=&quot;http://bem.info/tools/bem/bem-tools/&quot;&gt;bem tools&lt;/a&gt; to build your pages. The
&lt;a href=&quot;https://github.com/bem/project-stub/blob/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c/.bem/make.js#L12&quot;&gt;12th and 13th
lines&lt;/a&gt;
describe regular expressions to match &lt;code class=&quot;language-text&quot;&gt;blocks&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;bundles&lt;/code&gt;. And the meaning of
these terms turned out to be unclear.&lt;/p&gt;
&lt;p&gt;First of all, the expressions are to detect folders on the project file system.
Those which end with &lt;code class=&quot;language-text&quot;&gt;.blocks&lt;/code&gt; store blocks, and those which end with &lt;code class=&quot;language-text&quot;&gt;.bundles&lt;/code&gt;
store bundles. The &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; folders of the project
stub demonstrate this.&lt;/p&gt;
&lt;p&gt;The purpose of &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; folder should be clear. As BEM is a modular
development pattern there has to be a place to store modules, the so-called
&lt;code class=&quot;language-text&quot;&gt;blocks&lt;/code&gt;. Each block has its own directory to keep all the files needed for this
particular interface module. E.g. &lt;a href=&quot;https://github.com/varya/online-shop-dummy/tree/master/desktop.blocks&quot;&gt;one project block
set&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; folder needs some comments. It stores pages, which are the
result of blocks applied. Every page has its own folder and inside you can find
different files needed for a page to function. Examine the &lt;a href=&quot;https://github.com/varya/online-shop-dummy/tree/gh-pages/desktop.bundles&quot;&gt;example
project&lt;/a&gt;
again.&lt;/p&gt;
&lt;p&gt;The difference is that block files are coded by a developer, as bundle files are
built with the tools. Block files are our dear CSS, JavaScript and sometimes templates.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.blocks/
│   ├── goods/
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.bemhtml&quot;&gt;goods.bemhtml&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.css&quot;&gt;goods.css&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.deps.js&quot;&gt;goods.deps.js&lt;/a&gt;
│   │   └── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.ie.css&quot;&gt;goods.ie.css&lt;/a&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Real world analogy of a BEM block (and actually any module of any modular
pattern) can be a buiding brick.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6730/14441195.30/0_7e0f8_33c1c86c_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Bundle files are also what a browser can read: CSS, JavaScript, HTML. &lt;em&gt;None of
them was written by a person, they are built with BEM tools&lt;/em&gt;. Have a look
inside to be sure that this is robot’s code.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.bundles/
│   ├── index/
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/_index.css&quot;&gt;_index.css&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/_index.js&quot;&gt;_index.js&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.bemjson.js&quot;&gt;index.bemjson.js&lt;/a&gt;
│   │   └── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.html&quot;&gt;index.html&lt;/a&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Think about bem tools as about building crane to pick up the bricks and make a
house with them.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/9058/14441195.30/0_7e0f3_ff76f66a_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Besides *.js, *.css and *.html files there is the only one here written by a
developer. This is
&lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.bemjson.js&quot;&gt;index.bemjson.js&lt;/a&gt;,
the JSON decription of what are the blocks on a page and what it their nested
structure. Sounds logical, as only we human can know what we would like to see
on a page. Everything else is produced by the &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt;. Once given
informaiton about which blocks to use for a page, they pick them up from
&lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; set of blocks and do their job.&lt;/p&gt;
&lt;p&gt;Extending the building-a-house example I can say that &lt;code class=&quot;language-text&quot;&gt;page.bemjson.js&lt;/code&gt; file
here is a draft.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6704/14441195.30/0_7e1ba_9dacd537_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;But why do &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; need the regular expessions?&lt;/p&gt;
&lt;p&gt;This is quite easy. The folders &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; operate with are &lt;code class=&quot;language-text&quot;&gt;levels&lt;/code&gt;. It can
help if you think about a level as about &lt;code class=&quot;language-text&quot;&gt;a set&lt;/code&gt;, a set of entities. There can be
a set of blocks wraped with &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; folder, and a set of result pages
wraped with &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; folder. In the
&lt;a href=&quot;https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c/.bem/levels&quot;&gt;.bem/levels/&lt;/a&gt;
cofiguration folder there are some instructions from which bem tools understand
what to do with those different types of levels.&lt;/p&gt;
&lt;p&gt;Dividing your project entities into blocks and bundles makes it possible to have
different sets of blocks and different bundles built with those sets. For
example, you can store blocks to a desktop and touch versions of your web site
into the same repository as well as the pages built with them.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.blocks/
├── desktop.bundles/
├── touch.blocks/
└── touch.bundles/&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Comming back to the real world, not only bricks are the modules but lego blocks
as well.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6704/14441195.30/0_7e0f6_f69c7d44_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;They also are to build a house. A pretty different house though.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/9326/14441195.30/0_7e0f4_3d999550_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Going futher you can detach code common for all the platforms and store it
separately.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── common.blocks/
├── desktop.blocks/
├── desktop.bundles/
├── touch.blocks/
└── touch.bundles/&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With that structure desktop version of a web site gets source code from both
&lt;code class=&quot;language-text&quot;&gt;common.blocks&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; levels as touch version gets it from
&lt;code class=&quot;language-text&quot;&gt;common.blocks&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;touch.blocks&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6725/14441195.30/0_7e0f5_3e107fd4_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;And before I wrap up, I cannot stop being delighted by the idea of &lt;a href=&quot;https://github.com/bem/project-stub/&quot;&gt;BEM project
stub&lt;/a&gt;. I use it a lot myself when starting
projects. The &lt;a href=&quot;http://bem.info/articles/start-with-project-stub/&quot;&gt;Full stack quick start
tutorial&lt;/a&gt; which you may
remember demostrates how exactly. So does a friend who asked me about the
basics. I never realized before that the project stub makes is possible to start
a BEM project with no knowledge above. :-)&lt;/p&gt;
&lt;p&gt;Having this written I see that describing the BEM basics is pretty easy and not very
time-consuming to me being (I hope!) useful for the others. If so, please ask
what you need to know.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Borschik helps with remote static assets]]></title><description><![CDATA[Last week I met the need to develop a web site which static assets have to be
hosted on a different server and respond by different URLs than its HTML. This
is the requirement to all the static files: stylesheets and JavaScript linked to
the page as well as imges and fonts mentioned in HTML, CSS and JavaScript
code.]]></description><link>http://varya.me/en/posts/borschik-static-assets/</link><guid isPermaLink="false">http://varya.me/en/posts/borschik-static-assets/</guid><content:encoded>&lt;p&gt;Last week I met the need to develop a web site which static assets have to be
hosted on a different server and respond by different URLs than its HTML. This
is the requirement to all the static files: stylesheets and JavaScript linked to
the page as well as imges and fonts mentioned in HTML, CSS and JavaScript
code.&lt;excerpt/&gt; However it is obvious that these resources should be local when developing.
Thus, the challenge was to introduce a piece of magic which knows where we aim
to host the statics and transforms all the relative paths into absolute ones
according to it.&lt;/p&gt;
&lt;p&gt;The tools which helped me is called
&lt;a href=&quot;http://bem.info/tools/optimizers/borschik/&quot;&gt;Borschik&lt;/a&gt;. The name is funny.
Besides it reffers to a famous Russian/Ukranian soup, it also alludes to a word
“сборщик” [sborschik], and so might be translated as
&lt;strike&gt;ass&lt;/strike&gt;embler. “Removing the ass part” as one of my friends says.
:-)&lt;/p&gt;
&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 80.11811023622047%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em&quot;
          &gt;
            &lt;center&gt;
&lt;iframe src=&quot;//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&amp;amp;sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;p&gt;In the &lt;a href=&quot;https://github.com/varya/st-deliverer&quot;&gt;varya/st-deliverer&lt;/a&gt; public repository
you can find a stub project illustrating the solution.&lt;/p&gt;
&lt;h3&gt;Project structure&lt;/h3&gt;
&lt;p&gt;As you will be able to see later &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; is very flexible. So you can use any
project structure. In my project I store everything in
&lt;a href=&quot;b.com/varya/st-deliverer/tree/master/src&quot;&gt;src folder&lt;/a&gt;.
When building I get HTML files in
&lt;a href=&quot;https://github.com/varya/st-deliverer/tree/gh-pages/dist/html&quot;&gt;dist/html directory&lt;/a&gt;.
Check out the code and make sure that static files are linked from a different
server by their absolute paths.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Deliver static assets with Borschik&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://varya.github.io/stor.../styles.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://varya.github.io/stor.../grungy.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://varya.me/st-deliverer/dist/html/&quot;&gt;Open in your browser&lt;/a&gt; to enjoy my visual
design and a tom-cat.&lt;/p&gt;
&lt;h3&gt;Bring borschik to your project&lt;/h3&gt;
&lt;p&gt;Borschik is an npm package. So, you can install it globally by runing&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g borschik&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;I personally prefer local project dependencies, so my project has a
&lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/package.json&quot;&gt;package.json&lt;/a&gt;
file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;borschik&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.4.2&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Configuration&lt;/h3&gt;
&lt;p&gt;Before we start the magic transformation it is needed to instruct &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; what
to transform and how to transform. The &lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/.borschik&quot;&gt;.borschik&lt;/a&gt;
configuration file serves for that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;paths&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/img/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/stor.../st-deliverer/img/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/css/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/stor.../st-deliverer/css/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/font/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/storage/fonts/&quot;&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Note that you can tune different replacements for different paths. Here I tried
to illustrate with the fonts.&lt;/p&gt;
&lt;h3&gt;Run the command&lt;/h3&gt;
&lt;p&gt;Run borschik over a file which contains links to local static assets, and you
will get the transformation result. For example,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./node_modules/borschik/bin/borschik \
  --input&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;src/css/styles.css&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Fot the building process you will also need an &lt;code class=&quot;language-text&quot;&gt;--output&lt;/code&gt; flag to instruct
&lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; where to place the result.&lt;/p&gt;
&lt;p&gt;Borschik knows the syntax of web technologies. It will not touch the links
mentioned in text, for example.&lt;/p&gt;
&lt;h3&gt;Build system&lt;/h3&gt;
&lt;p&gt;Now you can use &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; in your project build process. I simply wrote a
&lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/Makefile&quot;&gt;Makefile&lt;/a&gt; with a
lot of help from &lt;a href=&quot;https://github.com/alexeyten&quot;&gt;@alexeyten&lt;/a&gt; (tnx!).
There is also a grunt plugin &lt;a href=&quot;https://github.com/megatolya/grunt-borschik&quot;&gt;megatolya/grunt-borschik&lt;/a&gt;.&lt;br/&gt;
Indeed, &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; is included into &lt;a href=&quot;http://bem.info/tools/bem/bem-tools/&quot;&gt;bem-tools&lt;/a&gt;
and &lt;a href=&quot;https://github.com/enb-make/enb&quot;&gt;enb&lt;/a&gt; — the two competitive solutions for
building the projects with BEM structure.&lt;/p&gt;
&lt;h3&gt;Result&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://varya.me/st-deliverer/dist/html/&quot;&gt;Check the cat again&lt;/a&gt;. Still there?&lt;/p&gt;
&lt;p&gt;You also can learn about other features of &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; from the article:
&lt;a href=&quot;http://bem.info/articles/borschik/&quot;&gt;http://bem.info/articles/borschik/&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Локальная разработка и удаленный хостинг статики]]></title><description><![CDATA[На прошлой неделе мне понадобилось сделать сайт, статика которого раздаётся с
другого сервера. Это касалось всех статических файлов: как подключенных к HTML
документу CSS и JavaScript, так и изображений и шрифтов, использованных уже в
их коде.]]></description><link>http://varya.me/ru/posts/borschik-static-assets/</link><guid isPermaLink="false">http://varya.me/ru/posts/borschik-static-assets/</guid><content:encoded>&lt;p&gt;На прошлой неделе мне понадобилось сделать сайт, статика которого раздаётся с
другого сервера. Это касалось всех статических файлов: как подключенных к HTML
документу CSS и JavaScript, так и изображений и шрифтов, использованных уже в
их коде.&lt;excerpt/&gt; Хотя очевидно, что все они эти ресурсы должны быть локальными во
время разработки. То есть задача была придумать магию, которая знает, где будет
размещена статика, и преобразовывает относительные пути в коде в абсолютные
согласно этому знанию.&lt;/p&gt;
&lt;p&gt;Эту задачу я решила при помощи инструмента
&lt;a href=&quot;http://bem.info/tools/optimizers/borschik/&quot;&gt;Borschik&lt;/a&gt;. Борщик-сборщик, всем
должно быть понятно. :-)&lt;/p&gt;
&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 80.11811023622047%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em&quot;
          &gt;
            &lt;center&gt;
&lt;iframe src=&quot;//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&amp;amp;sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;p&gt;Демо-проект с этим решением находится в репозитории
&lt;a href=&quot;https://github.com/varya/st-deliverer&quot;&gt;varya/st-deliverer&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Структура проекта&lt;/h3&gt;
&lt;p&gt;Как вы позже увидите, &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; можно гибко настроить. Так что возможна любая
структура проекта. В моём проекте все хранится в директории
&lt;a href=&quot;b.com/varya/st-deliverer/tree/master/src&quot;&gt;src&lt;/a&gt;.
После сборки получается HTML-файлы в папке
&lt;a href=&quot;https://github.com/varya/st-deliverer/tree/gh-pages/dist/html&quot;&gt;dist/html&lt;/a&gt;.
Проверьте его код, и вы убедитесь, что статические файлы подключены с другого
хоста по абсолютному пути.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Deliver static assets with Borschik&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://varya.github.io/stor.../styles.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://varya.github.io/stor.../grungy.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Страничку можно &lt;a href=&quot;http://varya.me/st-deliverer/dist/html/&quot;&gt;открыть в браузере&lt;/a&gt; и
насладиться моим дизайном и прекрасным котиком.&lt;/p&gt;
&lt;h3&gt;Borschik в вашем проекте&lt;/h3&gt;
&lt;p&gt;Borschik — это npm-пакет. Его можно установить глобально при помощи команды&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g borschik&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Но лично я предпочитаю локальные зависимости, так что завожу в корне проекта
файл
&lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/package.json&quot;&gt;package.json&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;borschik&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.4.2&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Настройка&lt;/h3&gt;
&lt;p&gt;Прежде чем начинать преобразования, нужно проинструктировать &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt;, что
преобразовывать и как. Для этого нужен конфигурационный файл
&lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/.borschik&quot;&gt;.borschik&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;paths&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/img/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/stor.../st-deliverer/img/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/css/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/stor.../st-deliverer/css/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;src/font/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://varya.github.io/storage/fonts/&quot;&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Заметьте, для разных путей можно настроить разную замену. Здесь это видно на
примере с фонами.&lt;/p&gt;
&lt;h3&gt;Запускаем!&lt;/h3&gt;
&lt;p&gt;Запустите &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; над файлом, содержащим ссылки на локальные статические
ресурсы, и вы получите результат преобразования. Например,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./node_modules/borschik/bin/borschik \
  --input&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;src/css/styles.css&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Чтобы использовать это в сборке, понадобится ещё один флаг &lt;code class=&quot;language-text&quot;&gt;--output&lt;/code&gt;,
сообщающий куда записать получившееся.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; знаком с синтаксисом web-технологий. То есть “ссылки” размещенные в
простом тексте останутся нетронутыми.&lt;/p&gt;
&lt;h3&gt;Система сборки&lt;/h3&gt;
&lt;p&gt;Теперь &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; можно включить в систему сборки проекта. В моём случае это
небольшой
&lt;a href=&quot;https://github.com/varya/st-deliverer/blob/master/Makefile&quot;&gt;Makefile&lt;/a&gt;, спасибо
&lt;a href=&quot;https://github.com/alexeyten&quot;&gt;@alexeyten&lt;/a&gt; за 90% его содержания. :-) Но есть
также и плагин для grunt &lt;a href=&quot;https://github.com/megatolya/grunt-borschik&quot;&gt;megatolya/grunt-borschik&lt;/a&gt;.&lt;br/&gt;
Конечно, &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; включен в системы сборки БЭМ-проектов
&lt;a href=&quot;http://bem.info/tools/bem/bem-tools/&quot;&gt;bem-tools&lt;/a&gt;
и &lt;a href=&quot;https://github.com/enb-make/enb&quot;&gt;enb&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Результат&lt;/h3&gt;
&lt;p&gt;Для закрепления &lt;a href=&quot;http://varya.me/st-deliverer/dist/html/&quot;&gt;проведайте котика ещё раз&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;А узнать о многих других возможностях &lt;code class=&quot;language-text&quot;&gt;borschik&lt;/code&gt; можно из статьи
&lt;a href=&quot;http://ru.bem.info/articles/borschik/&quot;&gt;http://ru.bem.info/articles/borschik/&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Aspect of in-company communication for innovation]]></title><description><![CDATA[
Company internal communication is a crucial aspect of forming innovation-friendly environment, in which employees can
effectively apply their expertise and creativity for achieving business goals.

Creative people need “emotional ownership” in the goals and objectives, which becomes even more important speaking about
the corporate world where such people are not co-founders but employees. (Sarasvathy, 2008) Establishing right
communicational practices very much contributes to developing this kind of ownership and makes innovation possible.

]]></description><link>http://varya.me/en/posts/communication-culture/</link><guid isPermaLink="false">http://varya.me/en/posts/communication-culture/</guid><content:encoded>&lt;p&gt;Company internal communication is a crucial aspect of forming innovation-friendly environment, in which employees can
effectively apply their expertise and creativity for achieving business goals.&lt;/p&gt;
&lt;p&gt;Creative people need “emotional ownership” in the goals and objectives, which becomes even more important speaking about
the corporate world where such people are not co-founders but employees. (Sarasvathy, 2008) Establishing right
communicational practices very much contributes to developing this kind of ownership and makes innovation possible.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/communication-7ec71c9379f9a5af40e97eb85beb96c8-be609.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 750px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.53333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADE0lEQVQozzWS62tbdRjH8y/4D4gI4pv5QnB7UUEZCjoRBH2lYwpDVARXGR0KYwytFNzEtnY32xUXl5VesiSnycmluZ2cSy4nTXJyWXJyW9NudW6g/8LHJym++PE7/M7zfJ/v5fGUDh5wdNoU5d591JHjYu05pNtJnL8GOIddCgddqXGpH/ZpPhlSlrrifgNbemzp/R/Hkx81GR9r1Jg8dJ6OcB73CTdMQpUIer9Gpl8n3wqiu5qAjeg+28d8KAOdONbAwRy1pP8IZwI4ZlcVFunerrDpk+tV8dthkp1d1KbJZj5OOO8lUosJKxdjUCc9+aeTKviIOCniTQ1zTwCtvQYZASrstVjJ+ol3SqiNDN7sMko9Q9hS2Q4u4zejxLoV0rUc21aMaLvEzR0f/sSaDFIJlBUMwfDoQ4d4q0ispRERmfqgKdN01Ep4InfbTuHduI7fUMgNG8TLcYJWmFDTYlXAFFNF6zkEqhr6sIbHeFif+BX0LxOzE2S7BTKtLI3GXWIPbBmWJ+tW5LtIyNEJWX9y3wyQ6VZleF2ATQINA38tK77W8Ryl1SEuAaSsVaxqkuLhgG0nSbhpUBQZnb9H0lybpK8Ji5wEMfZ9bJchCrP5GKZYVXjUxmNLUeWgiWZNE1XfxeppBEo+FtfPsKbfoCqpViSo3ccuCbfEd/4lZjYXSXQK2M+G6Oo99E/eITc3Q/7QHafcknRq7KQ/Q/Efw2htsCHJnZ9/hfmtr0Sa2FHelB3tcD23xRs/f8nHK5dItQXw3wOyq78Qfvk5Ut9/QeHpEM94YQ03QShwnJ38LLZYoNg+Lv7+Ft70Va6snyVaucdtkbVihvh2Y57P7/xE9Z99rHYRq2UR+2CK5LnTFJ70BHC/TTT5KYH1FwXwMtnyFa7efZ8L16aY9X7I5dunCMj+/aj+wSXlFmfvzPL2r9+wuX4NY+kHMrfmiH/0Juprz2NoCh6zb6CEXp8wVIIniGnnmPOd5sLSCc4vvMpv978mUM8xs7XIqYVp3puf5qTcC0sXMYRV5OQx1KmXUI+/gB5d4z9u5POyUTes6gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;communication&quot;
        title=&quot;&quot;
        src=&quot;/static/communication-7ec71c9379f9a5af40e97eb85beb96c8-be609.png&quot;
        srcset=&quot;/static/communication-7ec71c9379f9a5af40e97eb85beb96c8-e50aa.png 200w,
/static/communication-7ec71c9379f9a5af40e97eb85beb96c8-5a5fd.png 400w,
/static/communication-7ec71c9379f9a5af40e97eb85beb96c8-be609.png 750w&quot;
        sizes=&quot;(max-width: 750px) 100vw, 750px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It is important to contribute to all aspects of internal company communication which are: transparency, constant
documenting, openness to feedback, cross-departmental communication, external events.&lt;/p&gt;
&lt;p&gt;In the context of communication, transparency usually means availability of information regarding company vision, goals
and project specific details. Transparency is crucial to internal communication because it breeds trust, accountability,
and open dialogue. If the team feels as though they are being left in the dark on certain matters, they may be afraid to
ask questions and share their thoughts on those matters. Not all information can be made available to everyone, of
course, but maintaining at least some transparency can have tremendous effects on the harmony and rapport within the
company. (Bovet, 2017 &amp;#x26; Rozen, 2016)&lt;/p&gt;
&lt;p&gt;Although company information transparency is more mindset rather than policy, it is possible to increase it by following
some specific practices. According to many examples of success, information availability is much easier to achieve when
practicing documenting. Active usage of documentation tools such as company wiki, tasks board, weekly mail lists etc
makes it much easier to find information. (Milinovich, 2008) Information availability contributes to overall company
environment because it is connected to emotional ownership and at the same time is a source for innovative practices.&lt;/p&gt;
&lt;p&gt;Often happens, that management has arguments against transparency as they are afraid to overwhelm the employees. In this
sense, it is important to remember that lack of information is often underestimated. However, by using right tools and
practices, it is possible to provide information upon request. For example, for weekly sharing about projects, it is
possible to use mailing lists (open for any employee to join) rather than direct emails. Cross-company chat solutions
like Slack, Flowdock or Microsoft Teams are even more flexible as they provide channels to join or not. (Bovet, 2017)
The freedom this approach provides also develops employees’ awareness of how they are trusted in the company, which in
turn translates into employees’ engagement.&lt;/p&gt;
&lt;p&gt;Another aspect of good communication practices is openness. Allowing people to step out into the open and talk about how
they feel has both helped them bond and accept ownership over the company. (Milinovich, 2015) In most cases, in startup
environment “karma” means more than an official title. Accordingly, in corporate organization, creative people should
not feel being limited by their official position and speak openly. This applies to both giving feedback and sharing
ideas. Speaking of feedback, it is needed to remember that getting feedback needs to be followed by actions. The best
organizations are the ones that not only solicit constructive feedback but actually do something with it.
(Milinovich, 2015)&lt;/p&gt;
&lt;p&gt;Unlike startups, corporate organizations tend to structure themselves. In many cases, these structures demonstrate
strong vertical connections but lack of horizontal connections. Such structure is quite an obstacle to any innovation
process. Taking this fact into account, internal communication should concentrate on building cross-departmental
connections and other kinds of horizontal interactions. Company-wide conversations, whether they are organized as
regular meetings and open forums or with a range of online communication tools, form special eco-system friendly to
innovation initiatives and processes. Besides sharing information, horizontal connections ensure cross-departmental
collaboration, which makes it possible for employees to act in uncertain environments like entrepreneurs do. (Rozen,
2016 &amp;#x26; Sarasvathy, 2008)&lt;/p&gt;
&lt;p&gt;External events are also a crucial part of company communication strategy. They provide an opportunity to develop
informal relationships and trust. Meeting outside the office changes the employees’ environment which reflects their
perception of each other and their relationships. Combined with positive emotions such events bring, this contributes
into their micro-environments which, in turn, form the whole company ecosystem.&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;Bovet C, (2017) &lt;em&gt;17 Internal Communications Best Practices for 2017&lt;/em&gt;&lt;br/&gt;
&lt;a href=&quot;https://blog.enplug.com/internal-communications-best-practices-2017&quot;&gt;https://blog.enplug.com/internal-communications-best-practices-2017&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Milinovich J. (2015) &lt;em&gt;How Fast-Growing Startups Can Fix Internal Communication Before It Breaks&lt;/em&gt;&lt;br/&gt;
&lt;a href=&quot;http://firstround.com/review/How-Fast-Growing-Startups-Can-Fix-Internal-Communication-Before-It-Breaks/&quot;&gt;http://firstround.com/review/How-Fast-Growing-Startups-Can-Fix-Internal-Communication-Before-It-Breaks/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Rozen M. (2016) &lt;em&gt;How to Create a Company Culture of Communication&lt;/em&gt;&lt;br/&gt;
&lt;a href=&quot;https://www.huffingtonpost.com/michelle-rozen/how-to-create-a-company-c_b_11055992.html&quot;&gt;https://www.huffingtonpost.com/michelle-rozen/how-to-create-a-company-c&lt;em&gt;b&lt;/em&gt;11055992.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sarasvathy, S. D. (2008) &lt;em&gt;What makes entrepreneurs entrepreneurial?&lt;/em&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.effectuation.org/sites/default/files/research_papers/what-makes-entrepreneurs-entrepreneurial-sarasvathy_0.pdf&quot;&gt;http://www.effectuation.org/sites/default/files/research&lt;em&gt;papers/what-makes-entrepreneurs-entrepreneurial-sarasvathy&lt;/em&gt;0.pdf&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Dealing atomically with icon fonts]]></title><description><![CDATA[
My recent huge project was developing a library of CSS and JavaScript components for sharing this code across a lot of
web services and mobile apps. In most cases such work brings up question about how to avoid blocking the processes.

The library has its own flow, and obviously the new things can only appear in new versions. Although I made my best to
provide fast releases, and so the library has them 2-3 times a week, it is still understandable that the library
customers sometimes cannot wait even an hour.

I belive that one of the must-haves of UI library is the freedom which it should give to its customers. You can easily
provide this if practice atomic approach everythere. For example, for the icon fonts.

]]></description><link>http://varya.me/en/posts/dealing-atomically-with-icon-fonts/</link><guid isPermaLink="false">http://varya.me/en/posts/dealing-atomically-with-icon-fonts/</guid><content:encoded>&lt;p&gt;My recent huge project was developing a library of CSS and JavaScript components for sharing this code across a lot of
web services and mobile apps. In most cases such work brings up question about how to avoid blocking the processes.&lt;/p&gt;
&lt;p&gt;The library has its own flow, and obviously the new things can only appear in new versions. Although I made my best to
provide fast releases, and so the library has them 2-3 times a week, it is still understandable that the library
customers sometimes cannot wait even an hour.&lt;/p&gt;
&lt;p&gt;I belive that one of the must-haves of UI library is the freedom which it should give to its customers. You can easily
provide this if practice atomic approach everythere. For example, for the icon fonts.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;h3&gt;Solid piece&lt;/h3&gt;
&lt;p&gt;Soon or not SVG will conquer the world. But now we still have icon fonts in some projects. The same story was with that
library.&lt;/p&gt;
&lt;p&gt;However the icon font perfectly suited for the displaying icons onto the web pages, it was integration and flow which
created the problem. All the icons fit into one font file (well, in 4 different formats):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  fonts/
    iconfont.eot
    iconfont.svg
    iconfont.ttf
    iconfont.woff&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Also the library provided CSS to make the icon-symbol matching:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;scss&quot;&gt;
      &lt;pre class=&quot;language-scss&quot;&gt;&lt;code class=&quot;language-scss&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.icon &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$global-font-icon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;&lt;span class=&quot;token parent important&quot;&gt;&amp;amp;&lt;/span&gt;:before &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* Some common icon stuff */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;&lt;span class=&quot;token parent important&quot;&gt;&amp;amp;&lt;/span&gt;--support &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;&lt;span class=&quot;token parent important&quot;&gt;&amp;amp;&lt;/span&gt;:before &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;&lt;span class=&quot;token parent important&quot;&gt;&amp;amp;&lt;/span&gt;--chat &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;&lt;span class=&quot;token parent important&quot;&gt;&amp;amp;&lt;/span&gt;:before &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  ...
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Customers get the library as a bower or npm package. When they need a new icon to be in the set, they might request this
and wait for the package to update. As usual, the fastest way to get something happened is to do this yourself. So, it
possible to contribute and even release yourself. But still any further change would need you to go through the
development process.&lt;/p&gt;
&lt;h3&gt;Atomic and buildable&lt;/h3&gt;
&lt;p&gt;Often you need to divide into smaller pieces in order to make things more mantainable. The same goes with icons. In the
library we changed it so that the source is now a set of SVG files:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  icons/
    1000-support.svg
    1010-chat.svg
    1020-users.svg&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The file names are important, these words are used to generate the CSS classes, which are the API for the customer.
Numbers are for the right order. If building the icon system from very beginning, they are not needed. But in the
library case I wanted backward compatibility.&lt;/p&gt;
&lt;p&gt;Then, these icons are built into the same icon fonts with &lt;code class=&quot;language-text&quot;&gt;gulp-iconfont&lt;/code&gt; plugin:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; gulp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gulp&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; iconfont &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gulp-iconfont&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; consolidate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gulp-consolidate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sourcePath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;build:icons&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/icons/*.svg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;iconfont&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fontName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;myicons&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        formats&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ttf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;eot&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;woff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;svg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        centerHorizontally&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        fixedWidth&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;glyphs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;glyphs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        glyphs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;icon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          icon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; icon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/^\d+\-/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/icons/util/*.scss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Template&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;consolidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lodash&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                glyphs&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; glyphs&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                fontName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;myiconfont&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                fontPath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../fonts/&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/scss/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/fonts/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Besides the icon files this task needs the templates to produce the CSS (or SCSS, as in this case) which makes the
symbol-class matching. I found it logical to store it together with the icon files:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  icons/
    utils/
      iconfont__icons.scss
      iconfont__variables.scss&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It’s possible to manage with one template only, but for even more flexibility I have two. The main one makes the
classes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@font-face&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $global-font-icon&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token url&quot;&gt;url(&quot;&amp;lt;%= fontPath %&gt;&amp;lt;%= fontName %&gt;..eot&quot;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token url&quot;&gt;url(&quot;&amp;lt;%= fontPath %&gt;&amp;lt;%= fontName %&gt;.?#iefix&quot;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;embedded-opentype&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;,
    &lt;span class=&quot;token url&quot;&gt;url(&quot;&amp;lt;%= fontPath %&gt;&amp;lt;%= fontName %&gt;.woff&quot;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;woff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;,
    &lt;span class=&quot;token url&quot;&gt;url(&quot;&amp;lt;%= fontPath %&gt;&amp;lt;%= fontName %&gt;.ttf&quot;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;truetype&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;,
    &lt;span class=&quot;token url&quot;&gt;url(&quot;&amp;lt;%= fontPath %&gt;&amp;lt;%= fontName %&gt;.#&amp;lt;%= fontName %&gt;&quot;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;svg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; normal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; normal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.icon&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $global-font-icon&lt;span class=&quot;token selector&quot;&gt;;

  &amp;amp;:before&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* Some common icon stuff */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;&amp;lt;% _.each(glyphs, function(glyph)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token selector&quot;&gt;%&gt;
  &amp;amp;.--&amp;lt;%= glyph.name %&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;&amp;amp;:before&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $icon--&amp;lt;%= glyph.name %&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&amp;lt;% &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; %&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And another one makes the varibles:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;&amp;lt;% _.each(glyphs, function(glyph)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; %&gt;
$icon-&amp;lt;%= glyph.name %&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\&amp;lt;%= glyph.unicode[0].charCodeAt(0).toString(16).toUpperCase() %&gt;&quot;&lt;/span&gt; !default&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&amp;lt;% &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; %&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Running the task produces the fonts and 2 generic SCSS files:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  font/
    iconfont.eot
    iconfont.svg
    iconfont.ttf
    iconfont.woff
  scss/
    icons.scss // Not generic
    iconfont__icons.scss
    iconfont__variables.scss&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;icons.scss&lt;/code&gt;, which is normal SCSS file, the result is requested:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;// Icons
//
// Lists all the icons that are used in the services.
//
// Styleguide 5

&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iconfont__variables.scss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iconfont__icons.scss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Extend on fly&lt;/h3&gt;
&lt;p&gt;The variables may be redefined on the customer’s side. This makes is a fast way to change the icon, if the replacement
already sit in the font bundle.&lt;/p&gt;
&lt;p&gt;If not, it is almost zero amout of work to implement this build-from-atoms process on the customer side.&lt;/p&gt;
&lt;p&gt;The customer has all the library code, let’s say in &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt;, and can have its own folder of icons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;bower_components/
  ui-library/
    dist/
      icons/
      scss/
src/
  icons/
    2000-rabbit.svg
    2010-gift.svg&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;When building the font they need to use both their set of icons and the library icons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sourcePath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;build:icons&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/icons/*.svg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bower_components/ui-library/dist/icons/*.svg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;iconfont&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* The same as above */&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;glyphs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;glyphs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bower_components/ui-library/dist/icons/util/*.scss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;consolidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lodash&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/* The same as above */&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/scss/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourcePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/fonts/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It is not even needed to implement template for the output SCSS, it comes in the library dist.&lt;/p&gt;
&lt;p&gt;With such a flow a UI library customer stays completely independent from the library release cycle and may bring a new
icon into her product as soon as the atomic SVG file is copied into the needed folder. As a background process it is
needed to contribute the same icon into the library, but not necessarily the same moment. And even the contributing
process is changed to be better because it came to adding an SVG file.&lt;/p&gt;
&lt;p&gt;As other atomical things, such font flow makes git history more useful. Now it is easier to see
if the provided change affected many or just one icon. Also, SVG images are rendered nicely in pull requests.&lt;/p&gt;
&lt;p&gt;Even simultaneous changes of the icons in both library and customer websites are possible and should not cause any
conflict.&lt;/p&gt;
&lt;p&gt;And the last but not least nice thing: all the icons are now in the library as SVG files. Hopefully later we come up
with using next century technologies and not the icons fonts. When this sweet moment comes, half of the work will have
been done :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Docpad with the taste of BEM]]></title><description><![CDATA[Let me present a stub for **docpad-run** project with
**bem-built** static assets. If you ever wanted to be
a generic blog holder equiped with nice and neat static
files, here we go.
]]></description><link>http://varya.me/en/posts/docpad-with-bem-taste/</link><guid isPermaLink="false">http://varya.me/en/posts/docpad-with-bem-taste/</guid><content:encoded>&lt;p&gt;Let me present a stub for &lt;strong&gt;docpad-run&lt;/strong&gt; project with
&lt;strong&gt;bem-built&lt;/strong&gt; static assets. If you ever wanted to be
a generic blog holder equiped with nice and neat static
files, here we go.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;h2&gt;How to start&lt;/h2&gt;
&lt;p&gt;You need install the docpad first. Follow their &lt;a href=&quot;http://docpad.org/docs/install&quot;&gt;Installation Guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Then, the installation of the blog is super short and easy. Clone, fork or
copy from the &lt;a href=&quot;https://github.com/varya/docpad-bem-stub&quot;&gt;docpad-bem-stub repository&lt;/a&gt;.
Then, go though the 3 installation steps:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;
./node_modules/bower-npm-install/bin/bower-npm-install
docpad run&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With these 3 steps you will get:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a local server with a generic docpad blog;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-core/2.2.0/&quot;&gt;bem-core&lt;/a&gt; and &lt;a href=&quot;http://bem.info/libs/bem-components/v2/&quot;&gt;bem-components&lt;/a&gt;
libraries of reusable CSS/JavaScript/templates code;&lt;/li&gt;
&lt;li&gt;fully tuned static-build instructions which run on changes
in your source code;&lt;/li&gt;
&lt;li&gt;initial blog structure.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How to write&lt;/h2&gt;
&lt;p&gt;In the given structure you can write either pages or blog posts.
The posts are listed in the index page. Once you added a new
item, you can see it in this list and navigate to its page;
the docpad rebuilds from source automatically.&lt;/p&gt;
&lt;p&gt;Place the pages as &lt;code class=&quot;language-text&quot;&gt;*.html.md&lt;/code&gt; files into &lt;code class=&quot;language-text&quot;&gt;src/documents/pages&lt;/code&gt;
directory. The posts are kept into &lt;code class=&quot;language-text&quot;&gt;src/documents/posts&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;How to develop statics&lt;/h2&gt;
&lt;p&gt;The statics is developed with &lt;a href=&quot;http://bem.info/&quot;&gt;BEM&lt;/a&gt;.
You can get CSS and JavaScript files for your pages in
&lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; directory. The pages are built with blocks
from &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;The rebuild process for statics runs under docpad server.&lt;/p&gt;
&lt;p&gt;Sometimes you may prefer to develop static pages separately.
For this run&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;./node_modules/enb/bin/enb server&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You will get another server which rebuilds statics. It
produces static html files from &lt;code class=&quot;language-text&quot;&gt;*.bemjson.js&lt;/code&gt; files in
&lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt;. You can develop the layout inserting
json there and providing &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt; templates for the
corresponding block. Find the documentation about &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt;
here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-core/2.2.0/templating/intro/&quot;&gt;BEMHTML quick start&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For the same blocks you can provide &lt;code class=&quot;language-text&quot;&gt;*.css&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;*.js&lt;/code&gt; files
and get them built into pages.&lt;/p&gt;
&lt;h2&gt;How to publish&lt;/h2&gt;
&lt;p&gt;The blog is tuned to be deployed on GitHub. Thus, your
repository has to be named as &lt;code class=&quot;language-text&quot;&gt;&amp;lt;username&amp;gt;.github.com&lt;/code&gt;. You
can develop in its &lt;code class=&quot;language-text&quot;&gt;source&lt;/code&gt; branch. For deploying on
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;username&amp;gt;.github.io&lt;/code&gt; host run this command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docpad deploy-ghpages&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This will create &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt; branch of the repository whose
source is linked to the host.&lt;/p&gt;
&lt;p&gt;You can also attach your own domain to the blog like I did.
Also, it is possible to host your blog in differently named
repository. However this will make you to provide changes
on &lt;code class=&quot;language-text&quot;&gt;docpad.coffee&lt;/code&gt; configuration file.&lt;br/&gt;
Study &lt;a href=&quot;https://pages.github.com/&quot;&gt;Github Pages&lt;/a&gt; to learn more.&lt;/p&gt;
&lt;h2&gt;Why Docpad?&lt;/h2&gt;
&lt;p&gt;This blog had been running on Jekyll for a while. This was an
acceptable soltuion for a quick start. However with the growth
of the posts base I started to suffer from not very fast
rebuilds. Also, sometimes providing changes into the blog
layout was hard, mostly due to the limitations of &lt;code class=&quot;language-text&quot;&gt;liquid&lt;/code&gt;
templates.&lt;/p&gt;
&lt;p&gt;I’ve decided that &lt;a href=&quot;http://docpad.org/&quot;&gt;Docpad&lt;/a&gt; should be much
better alternative. It is served as an npm package, possible to
be extended with plugins and has an active fast-growing
developers community.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;docpad-bem-stub&lt;/code&gt; gives you initial structure, from which
you already can write and publish. If you want to provide changes
into the build process, modify the templates or extend with
plugins, &lt;a href=&quot;http://docpad.org/&quot;&gt;learn at Docpad website&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Moreover, &lt;a href=&quot;http://stackoverflow.com/&quot;&gt;Stackoverflow&lt;/a&gt; indeed already
has an answer to almost all the questions you have. If not, create a new
one.&lt;/p&gt;
&lt;h2&gt;Why BEM?&lt;/h2&gt;
&lt;p&gt;BEM is a very flexible modular solution for frontend which
enables to develop reusable CSS and JavaScript components. Plus, some code
can be taken from their open source libraries.&lt;/p&gt;
&lt;p&gt;You can learn a lot about BEM from &lt;a href=&quot;/en/content&quot;&gt;my articles and talks&lt;/a&gt;
or at the &lt;a href=&quot;http://bem.info/&quot;&gt;official BEM site&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Inside about&lt;/h2&gt;
&lt;p&gt;Above I described all you need to know for using your blog. Below there
are a little more technical details on what is behind.&lt;/p&gt;
&lt;h3&gt;ENB&lt;/h3&gt;
&lt;p&gt;I use &lt;a href=&quot;https://github.com/enb-make/enb&quot;&gt;enb&lt;/a&gt; for building pages with block
components. This solution is preferable to bem-tools because of it is much
faster. When rebuilding pages on every change, this is sensetive.&lt;/p&gt;
&lt;h3&gt;i-bem.js and modules&lt;/h3&gt;
&lt;p&gt;I personally love that this solution brings &lt;code class=&quot;language-text&quot;&gt;i-bem.js&lt;/code&gt; library to the
project. Hope to demonstrate its amazing capabilities here in near future.
But before I stuff my blog with complex JavaScript components, you
can see some examples and very detailed explanations in &lt;a href=&quot;http://bem.info/tutorials/bem-js-tutorial/&quot;&gt;Step-by-step tutorial on
i-bem.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Another JavaScript feature you can enjoy is &lt;a href=&quot;/en/issues/ym-modular-system&quot;&gt;YM modular system&lt;/a&gt;.
These are JavaScript modules with asynchronious resolving.&lt;/p&gt;
&lt;h3&gt;BEMHTML&lt;/h3&gt;
&lt;p&gt;As mentioned above, &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt; is a templating solution. Being JavaScript-based,
these templates can be applied on both server and client side. There are
a couple of documents for a deeper dive into it here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-core/2.2.0/templating/rationale/&quot;&gt;BEMHTML templates description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-core/2.2.0/templating/reference/&quot;&gt;BEMHTML tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;bem-core and bem-components&lt;/h3&gt;
&lt;p&gt;BEM is also nice for a possibility to borrow the components from libraries.
&lt;code class=&quot;language-text&quot;&gt;docpad-bem-stub&lt;/code&gt; uses 2 now available libraries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-core/2.2.0/&quot;&gt;bem-core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bem.info/libs/bem-components/v2/&quot;&gt;bem-components&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope to see more in the future.&lt;/p&gt;
&lt;h2&gt;What next?&lt;/h2&gt;
&lt;p&gt;Indeed everything can be improved. These are my thoughts on how
to continue.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;detect changes in static files&lt;br/&gt;
Docpad watches over the changes in &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt; directory. This means that
when developing statics you will not get the rebuild. I am thinking
on running &lt;code class=&quot;language-text&quot;&gt;enb server&lt;/code&gt; under &lt;code class=&quot;language-text&quot;&gt;docpad run&lt;/code&gt; and proxy. This maybe
better than watch over a lot of files in &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt;
and all the libraries.&lt;/li&gt;
&lt;li&gt;css preprocessors&lt;br/&gt;
The blog styles are in pure CSS now. But with a little
change into enb configuration we can learn it to build with
preprocessors.&lt;/li&gt;
&lt;li&gt;fresh design&lt;br/&gt;
Creating a simple layout is the most difficult design task. Don’t you agree?&lt;/li&gt;
&lt;li&gt;nice initial posts&lt;br/&gt;
This is even harder than the desing tasks but I think the users feel much
more comfortable when getting a blog with predefined texts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you feel your oats and want to do your bit, fork &lt;a href=&quot;https://github.com/varya/docpad-bem-stub&quot;&gt;the repository&lt;/a&gt;
and start :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Мобильное приложение на Steroids]]></title><description><![CDATA[На днях я написала своё первое мобильное приложение. Суммарно это заняло всего
пару часов, и всё благодаря фреймворку
[Steroids](http://www.appgyver.com/steroids) от AppGyver. С его помощью делать
гибридные приложения (это когда HTML5/JavaScript внутри) очень легко, а
инструменты `Steroids` позволяют легко деплоить приложение и делиться им с
друзьями.]]></description><link>http://varya.me/ru/posts/first-steroids-app/</link><guid isPermaLink="false">http://varya.me/ru/posts/first-steroids-app/</guid><content:encoded>&lt;p&gt;На днях я написала своё первое мобильное приложение. Суммарно это заняло всего
пару часов, и всё благодаря фреймворку
&lt;a href=&quot;http://www.appgyver.com/steroids&quot;&gt;Steroids&lt;/a&gt; от AppGyver. С его помощью делать
гибридные приложения (это когда HTML5/JavaScript внутри) очень легко, а
инструменты &lt;code class=&quot;language-text&quot;&gt;Steroids&lt;/code&gt; позволяют легко деплоить приложение и делиться им с
друзьями.&lt;excerpt/&gt;&lt;/p&gt;
&lt;h3&gt;Легко посмотреть приложение&lt;/h3&gt;
&lt;p&gt;Приложение у меня пока “игрушечное” — это всего одна страница, где озвучены
случайные числительные на финском языке.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9827/14441195.30/0_81ae7_60ff43b1_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; title=&quot;&quot; alt=&quot;&quot; border=&quot;0&quot;&gt;
&lt;/div&gt;
&lt;p&gt;Сейчас увидеть работающее приложение в телефоне можно только через &lt;code class=&quot;language-text&quot;&gt;Appgyver
Scaner&lt;/code&gt; — вспомогательную программу для обмена Steroids-based мобильными
приложениями до релиза. Поставьте сейчас, чтобы позже загрузить моё приложение:&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;a href=&quot;https://itunes.apple.com/us/app/appgyver-scanner/id575076515?mt=8&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Appstore&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/appstore-df950585b54bd081a7826913fc715cd4.png&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://play.google.com/store/apps/details?id=com.appgyver.android&amp;amp;feature=nav_result#?t=W251bGwsMSwxLDMsImNvbS5hcHBneXZlci5hbmRyb2lkIl0.&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Googleplay&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/googleplay-2cef882d62e402fbdbfe8cdac5794069.png&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Теперь вы можете открыть в компьютере эту
&lt;a href=&quot;http://bit.ly/finnish-counting-001&quot;&gt;страницу с QR-кодом&lt;/a&gt;. Отсканируйте QR-код
при помощи
свежеустановленного AppGyver Scaner, и моё приложение загрузится к вам в
телефон.&lt;/p&gt;
&lt;p&gt;Я сознательно не релизила пока приложение. Во-первых, оно ещё сырое. А
во-вторых, хочу, чтобы вы увидели как легко поделиться готовящимся
приложением с другими, причем на любом этапе разработки.&lt;/p&gt;
&lt;h3&gt;Запустить dev-версию&lt;/h3&gt;
&lt;p&gt;Код приложения открытый, хостится на Github:
&lt;a href=&quot;https://github.com/varya/finnish-counting&quot;&gt;varya/finnish-counting&lt;/a&gt;. Чтобы
развернуть проект у себя на машине, понадобится npm-пакет &lt;code class=&quot;language-text&quot;&gt;steroids&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install steroids -g&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Если до этого npm-пакеты на машину не устанавливались, то придется пройти через
все шаги &lt;a href=&quot;http://academy.appgyver.com/categories/1/contents/1&quot;&gt;инструкции по
установке&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Затем нужно склонировать код проекта и установить зависимости:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone git@github.com:varya/finnish-counting.git -b develop
cd finnish-counting
npm install&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Для начала работы с проектом запускаем&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;steroids connect --watch&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Ключ &lt;code class=&quot;language-text&quot;&gt;--watch&lt;/code&gt; нужен для отслеживания изменений и перезагрузки приложения.&lt;/p&gt;
&lt;p&gt;После запуска этой команды в браузере откроется страница с QR-кодом.
Отсканировав QR-код всё тем же AppGyver Scaner, вы получите приложение прямо в
телефоне. Только имейте в виду, что телефон и компьютер должны находиться в
одной сети. При каждой редакции кода приложение будет обновляться – очень
удобно, особенно если работаешь над внешним видом интерфейса.&lt;/p&gt;
&lt;p&gt;Если телефона под рукой нет, можно открыть приложение на макет в iOS simulator.
Для этого в терминале с запущенным &lt;code class=&quot;language-text&quot;&gt;steroids&lt;/code&gt; нужно просто написать&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;simulator&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Что писать?&lt;/h3&gt;
&lt;p&gt;Основной код приложения находится в
&lt;a href=&quot;https://github.com/varya/finnish-counting/blob/vesions/0.0.1/www/javascripts/application.js&quot;&gt;www/application.js&lt;/a&gt;.
Оно ещё маленькое и не использует все возможности Steroids. Но уже очевидно, что
когда страниц станет больше, мне понадобится &lt;a href=&quot;http://docs.appgyver.com/en/edge/steroids_Steroids%20Native%20UI_index.md.html#Steroids%C2%A0Native%C2%A0UI&quot;&gt;Steroids Native
UI&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Другие возможности фреймворка такие как удобное обращение к камере, файловой
системе телефона, нотификациям — хорошо задокументированы на страницах &lt;a href=&quot;http://docs.appgyver.com/en/edge/index.html&quot;&gt;API
Docs&lt;/a&gt;. Там же есть примеры
использования &lt;code class=&quot;language-text&quot;&gt;Cordova API&lt;/code&gt; — именно с его помощью в моём приложении
проигрывается звук.&lt;/p&gt;
&lt;p&gt;Новые приложения появляются каждый день, можно релизить и хвастаться в &lt;a href=&quot;http://x.appgyver.com/xapps&quot;&gt;AppGyver
Apps Gallery&lt;/a&gt;. Только успевай с идеями: я вот
хотела написать мобильный аналог игры 2048, а он уже там есть. Значит, буду
развивать свою «считалку» :-)&lt;/p&gt;
&lt;p&gt;Кстати, у кого есть телефон на Андроиде — проверьте, скачивается у вас моё
приложение, работает ли? Я пока могу проверить только на iOS, а одно из
преимуществ приложений на Steroids — то, что они кросс-платформенные, с
нативными фичами для каждой платформы, конечно.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Блоки как кирпичи и бандлы как дома]]></title><description><![CDATA[Некотрое время назад мой знакомый, который делает проект на полном стеке БЭМ
(BEM-CSS, i-bem.js и BEMHTML-шаблоны),
задал мне несколько вопросов об использовании
[BEM project
stub](https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c).
Отвечая на вопрос, я пообещала опубликовать ответ в виде текста, потому что
многие вещи вокруг БЭМ не проговариваются, считаясь слишком простыми — и
ошибочно!]]></description><link>http://varya.me/ru/posts/blocks-and-bundles/</link><guid isPermaLink="false">http://varya.me/ru/posts/blocks-and-bundles/</guid><content:encoded>&lt;p&gt;Некотрое время назад мой знакомый, который делает проект на полном стеке БЭМ
(BEM-CSS, i-bem.js и BEMHTML-шаблоны),
задал мне несколько вопросов об использовании
&lt;a href=&quot;https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c&quot;&gt;BEM project
stub&lt;/a&gt;.
Отвечая на вопрос, я пообещала опубликовать ответ в виде текста, потому что
многие вещи вокруг БЭМ не проговариваются, считаясь слишком простыми — и
ошибочно!&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Вопрос был о конфигурационном файле &lt;code class=&quot;language-text&quot;&gt;.bem/make.js&lt;/code&gt;, который нужен при
использовании
&lt;a href=&quot;http://bem.info/tools/bem/bem-tools/&quot;&gt;bem tools&lt;/a&gt;
для сборки страниц.
&lt;a href=&quot;https://github.com/bem/project-stub/blob/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c/.bem/make.js#L12&quot;&gt;Строчки 12 и
13&lt;/a&gt;
описывают регулярные выражения для &lt;code class=&quot;language-text&quot;&gt;blocks&lt;/code&gt; и &lt;code class=&quot;language-text&quot;&gt;bundles&lt;/code&gt;. Не сразу понятно,
что это значит.&lt;/p&gt;
&lt;p&gt;Вообще эти выражения нужны, чтобы распознать папки на файловой системе. Те,
которые заканчиваются на &lt;code class=&quot;language-text&quot;&gt;.blocks&lt;/code&gt; — для блоков, а те, что заканчиваются на
&lt;code class=&quot;language-text&quot;&gt;.bundles&lt;/code&gt; — для бандлов (страниц). Под эти выражения, например, подходят папки
&lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; и &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; из project-stub.&lt;/p&gt;
&lt;p&gt;Для чего нужна папка &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt;, должно быть понятно. Поскольку БЭМ —
модульный паттерн, необходимо место для хранения модулей, то есть блоков. Каждый
блок — это директория, содержащая все файлы, нужные для каждого конкретного
интерфейсного модуля.&lt;/p&gt;
&lt;p&gt;Вот, например, &lt;a href=&quot;https://github.com/varya/online-shop-dummy/tree/master/desktop.blocks&quot;&gt;набор блоков одного
проекта&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Папка &lt;code class=&quot;language-text&quot;&gt;desktop.bundles&lt;/code&gt; нуждается в пояснении. Она содержит страницы – результат
использования блоков. Каждая страница помещена в отдельную директорию, внутри
которой располагаются все файлы, нужные для страницы.
Можно снова посмотреть
&lt;a href=&quot;https://github.com/varya/online-shop-dummy/tree/gh-pages/desktop.bundles&quot;&gt;пример из предыдущего
проекта&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Разница в том, что файлы блоков созданы разработчиком, а файлы бандлов созданы
bem tools. Для блоков это знакомые нам CSS, JavaScript и иногда шаблоны.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.blocks/
│   ├── goods/
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.bemhtml&quot;&gt;goods.bemhtml&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.css&quot;&gt;goods.css&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.deps.js&quot;&gt;goods.deps.js&lt;/a&gt;
│   │   └── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/master/desktop.blocks/goods/goods.ie.css&quot;&gt;goods.ie.css&lt;/a&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Проводя параллели для БЭМ (и любого другого модульного паттерна) в реальном
мире, можно сказать, что блок — это кирпичик.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6730/14441195.30/0_7e0f8_33c1c86c_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Файлы бандлов — это тоже файлы, нужные для браузера: CSS, JavaScript, HTML. &lt;em&gt;Ни
один из них не написан разработчиком, они созданы bem tools&lt;/em&gt;. Можете посмотреть
внутрь файлов и убедиться, что код абсолютно “роботный”.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.bundles/
│   ├── index/
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/_index.css&quot;&gt;_index.css&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/_index.js&quot;&gt;_index.js&lt;/a&gt;
│   │   ├── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.bemjson.js&quot;&gt;index.bemjson.js&lt;/a&gt;
│   │   └── &lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.html&quot;&gt;index.html&lt;/a&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Для понимания bem tools представьте, что это строительный кран. Он берет
строительные блоки и возводит из них дом.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/9058/14441195.30/0_7e0f3_ff76f66a_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Хотя, кроме *.js, *.css и *.html файлов, всё-таки есть один файл, написанный
разрабочиком.
Это
&lt;a href=&quot;https://github.com/varya/online-shop-dummy/blob/gh-pages/desktop.bundles/index/index.bemjson.js&quot;&gt;index.bemjson.js&lt;/a&gt;
— JSON описание того, что за блоки нужны на странице и какова их древовидная
структура. Звучит логично, ведь только человек знает, что нужно показать на
странице. Всё остальное делают bem tools. Получив информацию о том, какие блоки
нужны для страницы, они берут их код из &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt; и формируют с их
помощью страницу.&lt;/p&gt;
&lt;p&gt;Продолжая пример со строительством дома, можно сказать что &lt;code class=&quot;language-text&quot;&gt;page.bemjson.js&lt;/code&gt; —
это чертеж.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6704/14441195.30/0_7e1ba_9dacd537_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Но почему же &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; нужно регулярное выражение в настройках?&lt;/p&gt;
&lt;p&gt;Это несложно. Все папки, которыми оперирует &lt;code class=&quot;language-text&quot;&gt;bem tools&lt;/code&gt; — это &lt;code class=&quot;language-text&quot;&gt;уровни
переопределения&lt;/code&gt;. Должно быть легче, если представлять уровень как набор
сущностей. Уровень блоков представлен папкой &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt;, а уровень страниц
— папкой &lt;code class=&quot;language-text&quot;&gt;desktop.pages&lt;/code&gt;. В конфигурационной папке
&lt;a href=&quot;https://github.com/bem/project-stub/tree/14e24fd17ba66a357a2f6fcdce045065b4eb5d6c/.bem/levels&quot;&gt;.bem/levels/&lt;/a&gt;
есть инструкции, по которым bem tools понимают, что делать с уровнями разных
типов.&lt;/p&gt;
&lt;p&gt;Выделяя в проекте блоки и бандлы, можно делать разные наборы блоков и разные
бандлы, собранные из этих наборов. Например, блоки для desktop и touch версий
сайта могут храниться в одном репозитории. И страницы, собранные из таких блоков
— тоже.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── desktop.blocks/
├── desktop.bundles/
├── touch.blocks/
└── touch.bundles/&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Возвращаясь к примерам из реального мира, не только кирпичики могут быть
модулями, но и детальки LEGO.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6704/14441195.30/0_7e0f6_f69c7d44_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Из них также можно построить дом. Немножечко другой, конечно.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/9326/14441195.30/0_7e0f4_3d999550_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Если пойти дальше, вы можете выделить код блоков, общий для всех платформ, и
хранить его отдельно.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;├── common.blocks/
├── desktop.blocks/
├── desktop.bundles/
├── touch.blocks/
└── touch.bundles/&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;С такой структурой desktop версия формируется из кода блоков уровней
&lt;code class=&quot;language-text&quot;&gt;common.blocks&lt;/code&gt; и &lt;code class=&quot;language-text&quot;&gt;desktop.blocks&lt;/code&gt;, а touch версия — из уровней &lt;code class=&quot;language-text&quot;&gt;common.blocks&lt;/code&gt;
и &lt;code class=&quot;language-text&quot;&gt;touch.blocks&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6725/14441195.30/0_7e0f5_3e107fd4_L.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;И в заключении, я не перестаю радоваться идее проекта
&lt;a href=&quot;https://github.com/bem/project-stub/&quot;&gt;BEM project
stub&lt;/a&gt;. Сама постоянно использую его,
начиная новые проекты. Туториал о
&lt;a href=&quot;http://ru.bem.info/articles/start-with-project-stub/&quot;&gt;старте проекта на полном стеке
БЭМ&lt;/a&gt; показывает, как именно.
Так же БЭМ использует и знакомый, задавший мне вопрос. Я никогда раньше не
подозревала, что project stub позволяет начать работы с БЭМ без знания всего
того, что описано выше. :-)&lt;/p&gt;
&lt;p&gt;Кстати, написав все это, я поняла, что описание основ БЭМ для меня несложно и
занимает разумное время. При этом (я надеюсь!), это очень полезно для других.
Так что спрашивайте всё, что вы хотите знать.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[XSLT - результативные технологии программирования]]></title><description><![CDATA[
Перевод документа [XSLT - Efficient Programming
Techniques](http://www.xml.org/sites/www.xml.org/files/xslt_efficient_programming_techniques.pdf),
который мне очень помог.

С ростом популярности XML как средства взаимодействия с различными системами,
все больше и больше организаций приходят к XML, чтобы решить свои вопросы
функциональной совместимости.]]></description><link>http://varya.me/ru/posts/efficient_xslt_techniques/</link><guid isPermaLink="false">http://varya.me/ru/posts/efficient_xslt_techniques/</guid><content:encoded>&lt;p&gt;Перевод документа &lt;a href=&quot;http://www.xml.org/sites/www.xml.org/files/xslt_efficient_programming_techniques.pdf&quot;&gt;XSLT - Efficient Programming
Techniques&lt;/a&gt;,
который мне очень помог.&lt;/p&gt;
&lt;p&gt;С ростом популярности XML как средства взаимодействия с различными системами,
все больше и больше организаций приходят к XML, чтобы решить свои вопросы
функциональной совместимости.&lt;excerpt/&gt; Вместе с попытками архитекторов достигнуть ясного
разделения между отображением и бизнес-логикой, XSLT становится важнее. XSL, по
сути, - это XML-документ (дерево, согласно спецификации DTD), который
применяется к древовидным структурам данных (XML-документ), чтобы выработать
результирующее дерево.&lt;/p&gt;
&lt;p&gt;Эта статья представляет список лучших приемов, используемых для написания
XSLT-преобразований. Эта статья может быть использована как направление к
лучшему пути достижения нужных результатов в XSL. Она предназначается для
разработчиков, которые знакомы с основами XSL, но нуждаются в указателе на
действенный путь программирования на XSL. Информация в этой статье основана на
моём собственном опыте в XML и XSL. Список лучших приемов составлен по различным
источникам, чтобы сделать всеобъемлющий документ, который будет расти, если
найдётся больше хороших приемов. Если у вас есть несколько очень хороших
приёмов, которым вы следуете и которых нет в этом списке, скиньте мне на email
&lt;em&gt;&lt;a href=&quot;mailto:pboundre@gr.com&quot;&gt;pboundre@gr.com&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Подключение внешних файлов - правильный путь&lt;/h2&gt;
&lt;p&gt;Есть три способа включения внешних файлов в ваш xsl:&lt;/p&gt;
&lt;p&gt;Если у вас есть дополнительные HTML-файлы, которые вы хотите включить в ваш
результат без изменений, возможно самый простой путь получить его в вашем
результирующем дереве - это включить его как внешнюю синтаксическую сущность
(entity) в преобразование. Это влечет за собой объявление сущности и
обращение к ней в вашем преобразовании.&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;header.html&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/movies/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Movies&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/shop/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Shop&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;data.xsl&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot;?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;stylesheet&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[&lt;/span&gt;
&lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;!--&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;declares&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;header.html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;external&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;parsed&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;entity&lt;/span&gt;
&lt;span class=&quot;token attr-name&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;!ENTITY&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;SYSTEM&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;&quot;header.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
]&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;stylesheet&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token attr-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;xmlns:&lt;/span&gt;xsl&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://www.w3.org/1999/XSL/Transform&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;People&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- includes header.html directly --&gt;&lt;/span&gt;
            &lt;span class=&quot;token entity&quot; title=&quot;&amp;header;&quot;&gt;&amp;amp;header;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;apply-templates&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;stylesheet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt; Или у вас есть дополнительные XML-файле, которые вы хотели бы преобразовать и
включить в документ, над которым вы работаете.&lt;/p&gt;
&lt;p&gt;Если у вас есть XML-файл, который вы хотели бы включить в результат, вам нужно
использовать функцию &lt;code class=&quot;language-text&quot;&gt;document()&lt;/code&gt;, чтобы поучить доступ к информации, и вам нужны
шаблоны в вашем преобразовании, чтобы обработать их и включить в результирующее
дерево:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;header.xml&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/movies/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Movies&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/shop/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Shop&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;data.xsl&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet version=&amp;quot;1.0&amp;quot;
xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;&amp;gt;
    &amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
        &amp;lt;html&amp;gt;
            &amp;lt;head&amp;gt;&amp;lt;title&amp;gt;People&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;
            &amp;lt;body&amp;gt;
                &amp;lt;!-- applies templates to the information contained in
                header.xml --&amp;gt;
                &amp;lt;xsl:apply-templates select=&amp;quot;document(&amp;#39;header.xml&amp;#39;)&amp;quot;/&amp;gt;

                &amp;lt;!-- applies templates to the input file --&amp;gt;
                &amp;lt;xsl:apply-templates /&amp;gt;
            &amp;lt;/body&amp;gt;
        &amp;lt;/html&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;!-- transforms the XML in header.xml into the table we want --&amp;gt;
    &amp;lt;xsl:template match=&amp;quot;menu&amp;quot;&amp;gt;
        &amp;lt;table&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;xsl:for-each select=&amp;quot;item&amp;quot;&amp;gt;
                    &amp;lt;td&amp;gt;&amp;lt;a href=&amp;quot;{@href}&amp;quot;&amp;gt;&amp;lt;xsl:value-of select=&amp;quot;.&amp;quot;/&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
                &amp;lt;/xsl:for-each&amp;gt;
            &amp;lt;/tr&amp;gt;
        &amp;lt;/table&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Или же у вас есть внешние дополнительные XSLT-файлы, которые вы бы хотели
использовать, чтобы формировать результирующее дерево:&lt;br/&gt;
Пусть у вас есть входящий XML-документ, который включает включает некоторую
информацию, нужную вам как и остальные данные на странице, вы захотите
импортировать (import) или включить (include) преобразования для них, так чтобы
шаблоны, определённые в них использовались будто они часть основного
преобразования. То, что вам нужно: &lt;code class=&quot;language-text&quot;&gt;xsl:import&lt;/code&gt; или &lt;code class=&quot;language-text&quot;&gt;xsl:include&lt;/code&gt; - зависит от того,
хотите ли вы переопределять шаблоны (или часть из них), которые заданы во
включаемом преобразовании. Если хотите, используйте xsl:import, в противном
случае - &lt;code class=&quot;language-text&quot;&gt;xsl:include&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;data.xml&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot;?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;doc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/movies/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Movies&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/shop/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Shop&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;people&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;person&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;50&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;larry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;person&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;50&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;larry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;people&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;doc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;header.xsl&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet version=&amp;quot;1.0&amp;quot;
  xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;&amp;gt;

  &amp;lt;xsl:template match=&amp;quot;menu&amp;quot;&amp;gt;
    &amp;lt;table&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;xsl:for-each select=&amp;quot;item&amp;quot;&amp;gt;
          &amp;lt;td&amp;gt;&amp;lt;a href=&amp;quot;{@href}&amp;quot;&amp;gt;&amp;lt;xsl:value-of select=&amp;quot;.&amp;quot; /&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;/xsl:for-each&amp;gt;
      &amp;lt;/tr&amp;gt;
    &amp;lt;/table&amp;gt;
  &amp;lt;/xsl:template&amp;gt;

&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;data.xsl&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet version=&amp;quot;1.0&amp;quot;
xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;&amp;gt;

  &amp;lt;!-- includes the templates from header.xsl stylesheet --&amp;gt;
  &amp;lt;xsl:include href=&amp;quot;header.xsl&amp;quot; /&amp;gt;

  &amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
    &amp;lt;html&amp;gt;
      &amp;lt;head&amp;gt;&amp;lt;title&amp;gt;People&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;
      &amp;lt;body&amp;gt;

        &amp;lt;!-- applies templates to the menu definition to create the
          header - the templates come from header.xsl --&amp;gt;
        &amp;lt;xsl:apply-templates select=&amp;quot;doc/menu&amp;quot; /&amp;gt;

        &amp;lt;!-- applies templates to the data to create the rest of the
          document --&amp;gt;
        &amp;lt;xsl:apply-templates select=&amp;quot;doc/people&amp;quot; /&amp;gt;

      &amp;lt;/body&amp;gt;
    &amp;lt;/html&amp;gt;
  &amp;lt;/xsl:template&amp;gt;
  ...

&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Вам также стоит иметь преобразование, включающее шаблоны для видоизменения
информации в что-то, что вам нужно.&lt;/p&gt;
&lt;h2&gt;Используйте XSL шаблоны проектирования (patterns)&lt;/h2&gt;
&lt;h3&gt;Метод Кая для нахождения пересечения, разности и дизъюнкции множеств&lt;/h3&gt;
&lt;p&gt;Единственная операция над множествами, предоставляемая XSLT, - это объединение.
Оно может быть описано с использованием оператора объединения из XPath и XSLT -
”&lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt;”. Можно выразить пересечение двух наборов узлов (node set) на чистом XPath.
Этот способ был открыт Майклом Каем (Michael Kay) и известен как метод Кая
(Kaysian method).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:variable name=&amp;quot;intersection&amp;quot; select=&amp;quot;$ns[count(.|$ns2) = count ($ns2)]&amp;quot;/&amp;gt;

&amp;lt;xsl:variable name=&amp;quot;set-difference&amp;quot; select=&amp;quot;$ns1[count(.|$ns2) != count($ns2)]&amp;quot;/&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Пример:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;
                xmlns:data=&amp;quot;crane&amp;quot; version=&amp;quot;1.0&amp;quot;&amp;gt;
    &amp;lt;xsl:output method=&amp;quot;text&amp;quot;/&amp;gt;
    &amp;lt;data:data&amp;gt; &amp;lt;!--data source for testing purposes--&amp;gt;
        &amp;lt;item&amp;gt;1&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;2&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;3&amp;lt;/item&amp;gt;
        &amp;lt;item&amp;gt;4&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;5&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;6&amp;lt;/item&amp;gt;
    &amp;lt;/data:data&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt; &amp;lt;!--root rule--&amp;gt;
        &amp;lt;xsl:variable name=&amp;quot;ns1&amp;quot; select=&amp;quot;//item[position()&amp;gt;1]&amp;quot;/&amp;gt;
        &amp;lt;xsl:variable name=&amp;quot;ns2&amp;quot; select=&amp;quot;//item[position()&amp;amp;lt;5]&amp;quot;/&amp;gt;

        &amp;lt;xsl:for-each select=&amp;quot;$ns1[count(.|$ns2)=count($ns2)]&amp;quot;&amp;gt;
            Intersection: &amp;lt;xsl:value-of select=&amp;quot;.&amp;quot;/&amp;gt;
        &amp;lt;/xsl:for-each&amp;gt;

        &amp;lt;xsl:for-each select=&amp;quot;(
                        $ns1[count(.|$ns2)!=count($ns2)] |
                        $ns2[count(.|$ns1)!=count($ns1)]
                        )&amp;quot;&amp;gt;
            Difference: &amp;lt;xsl:value-of select=&amp;quot;.&amp;quot;/&amp;gt;
        &amp;lt;/xsl:for-each&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Результат:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Intersection: 2
Intersection: 3
Intersection: 4
Difference: 1
Difference: 5
Difference: 6&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Метод Вендела Пая для нерекурсивного цикла&lt;/h3&gt;
&lt;p&gt;Метод Вендела Пая (Wendell Pie) демонстрирует способ избежать XSLT-рекурсии при
применении циклов.&lt;/p&gt;
&lt;p&gt;Пример:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Tag&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;4&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Tag&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Tag&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Tag&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Требующийся результат:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TABLE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TR&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TABLE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TABLE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TR&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;TABLE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Другими словами, я хочу создать набор новых узлов, количество которых основано
на значении Value, содержащемся в документе. Ниже я представляю маленькое
обобщение,  которое не  зависит от числа узлов в исходном XML-документе и
использует вместо этого число узлов в преобразовании:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:template match=&amp;quot;TAG&amp;quot;&amp;gt;
&amp;lt;TABLE&amp;gt;
  &amp;lt;TR ID=&amp;quot;@ID&amp;quot;&amp;gt;
    &amp;lt;xsl:for-each select=&amp;quot;(document(&amp;#39;&amp;#39;)//*)[position() &amp;amp;lt;= Value]&amp;quot;&amp;gt;
      &amp;lt;TD&amp;gt; &amp;lt;/TD&amp;gt;
    &amp;lt;/xsl:for-each&amp;gt;
  &amp;lt;/TR&amp;gt;
&amp;lt;/TABLE&amp;gt;
&amp;lt;/xsl:template&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Здесь используется количество элементов в преобразовании. Это количество будет
значительно превышено, если мы будем проверять на разные типы узлов, например:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:for-each
  select=&amp;quot;($st//node()| $st//@* | $st//namespace::*) [position() &amp;amp;lt;= Value]&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;где &lt;code class=&quot;language-text&quot;&gt;$st&lt;/code&gt; определено как  &lt;code class=&quot;language-text&quot;&gt;document(&amp;#39;&amp;#39;)&lt;/code&gt;, то есть корневой узел преобразования.&lt;/p&gt;
&lt;h3&gt;Метод условной выборки Оливера Беккера&lt;/h3&gt;
&lt;p&gt;Воможность XPath выбирать список узлов, основываясь на сложных условиях, очень
мощная. Хотя ей недостаёт возможностей для определения строки как
противоположного набору узлов. Вам часто нужно использовать навороченную
xsl:choose конструкцию только чтобы определить, что-то вроде “в случае 1
используй строку 1, в случае 2 - строку 2, …, в случае N - строку N.?&lt;/p&gt;
&lt;p&gt;Во всех таких случаях нам нужен способ, который позволил бы нам определять в
XPath-выражении строку, которая зависит от условия или условий.&lt;/p&gt;
&lt;p&gt;Теперь о том, как это сделать:&lt;br/&gt;
Мы хотим получить XPath-выражение, которое возвращает строку, когда некоторое
заданное условие истинно, и возвращает пустую строку, если это условие ложно.
Можно условиться, что true - это “1”, а false - это “0”. Но как подогнать “1” к
какой-то строке? Какую функцию для работы со строкой мы могли бы использовать?
&lt;em&gt;substring()&lt;/em&gt; кажется достаточно удобной. А вот и трюк: мы можем
использовать substring() только с двумя аргументами: substring(str, nOffset)
возвратит остаток строки str, начинающийся с позиции nOffset.&lt;/p&gt;
&lt;p&gt;В частности:&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;substring(str, 1)&lt;/code&gt; возвращает целую строку&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;substring(str, [очень большое число])&lt;/code&gt; возвратит пустую строку, если это
большое число гарантированно больше, чем длина строки.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Таким образом, выражение, которое мы могли бы использовать, будет:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;
      &lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; str1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; условие &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; str2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;условие&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;и мы хотим, чтобы &lt;code class=&quot;language-text&quot;&gt;exp(условие)&lt;/code&gt; было 1, если условие истинное и Infinity, если
условие ложное.&lt;/p&gt;
&lt;p&gt;Мы выражаем exp(условие) так:&lt;br/&gt;
&lt;code class=&quot;language-text&quot;&gt;1 div условие&lt;/code&gt;, потому что булево значение сначала преобразуется в число (true&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;в 1, а false - в 0), мы получим в точности:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;
      &lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token function&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Infinity&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Итог:&lt;br/&gt;
XPath-выражение, возвращающее одну строку, если условие истинно и другую, если
оно ложно, такое:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;
      &lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Str1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; div условие&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Str2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; div условие&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Впервые это было использовано Оливером Беккером (Oliver Becker) и названо как
метод Беккера.&lt;/p&gt;
&lt;p&gt;Например:&lt;br/&gt;
Я хочу написать темплейт, который создаёт текст: “My department”,  если передан
параметр “IT” и текст “Some other department”, если значение параметра другое.&lt;/p&gt;
&lt;p&gt;Конечно, никаких &lt;code class=&quot;language-text&quot;&gt;xsl:if&lt;/code&gt; или &lt;code class=&quot;language-text&quot;&gt;xsl:when&lt;/code&gt; не допускается.&lt;/p&gt;
&lt;p&gt;Пример кода:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;
                xmlns:data=&amp;quot;crane&amp;quot; version=&amp;quot;1.0&amp;quot;&amp;gt;

  &amp;lt;xsl:output method=&amp;quot;text&amp;quot;/&amp;gt;

  &amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
    IT:
    &amp;lt;xsl:call-template name=&amp;quot;whoIs&amp;quot;&amp;gt;
      &amp;lt;xsl:with-param name=&amp;quot;department&amp;quot; select=&amp;quot;&amp;#39;IT&amp;#39;&amp;quot; /&amp;gt;
    &amp;lt;/xsl:call-template&amp;gt;
    &amp;lt;br/&amp;gt;
    Finance:
    &amp;lt;xsl:call-template name=&amp;quot;whoIs&amp;quot;&amp;gt;
      &amp;lt;xsl:with-param name=&amp;quot;department&amp;quot; select=&amp;quot;&amp;#39;Finance&amp;#39;&amp;quot; /&amp;gt;
    &amp;lt;/xsl:call-template&amp;gt;
  &amp;lt;/xsl:template&amp;gt;

  &amp;lt;xsl:template name=&amp;quot;whoIs&amp;quot;&amp;gt;
    &amp;lt;xsl:param name=&amp;quot;department&amp;quot; select=&amp;quot;someDepartment&amp;quot; /&amp;gt;
    &amp;lt;br/&amp;gt;
    &amp;lt;xsl:value-of select=&amp;quot;
      concat(
        substring(&amp;#39;My department&amp;#39;, 1 div ($department = &amp;#39;IT&amp;#39;)),
        substring(&amp;#39;Some other department&amp;#39;, 1 div not(($department = &amp;#39;IT&amp;#39;)))
      )&amp;quot; /&amp;gt;
    &amp;lt;br/&amp;gt;
  &amp;lt;/xsl:template&amp;gt;
&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Используйте метод Мюнха для группировки&lt;/h3&gt;
&lt;p&gt;Группировка часто плохо осуществляется в XSL. Обычно эта задача возникает, когда
вы получаете XML-вывод (несгруппированный) из базы данных и должны сгруппировать
его средствами XSL. База данных обычно выдаёт вам результаты, структурированные
согласно записям в ней. Например, давайте рассмотрим таблицу служащих, из
которой получается такой XML:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;employee&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Prathit Bondre&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;IT&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;employee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;employee&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Adheet Bondre&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Finance&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;employee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;employee&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Sinan Edil&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;IT&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;employee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;employee&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Jeremy King&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Finance&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;department&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;employee&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Требуется такой вывод:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;strong&amp;gt;Finance&amp;lt;/strong&amp;gt;
Adheet Bondre
Jeremy King

&amp;lt;strong&amp;gt;IT&amp;lt;/strong&amp;gt;
Prathit Bondre
Sinan Edil&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Задача состоит в том, чтобы превратить этот плоский вывод в список,
сгруппированный по департаментам, чтобы дать требуемый результат, который
показан выше.&lt;/p&gt;
&lt;p&gt;Есть два шага на пути к решению:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Узнать, какие департаменты существуют&lt;/li&gt;
&lt;li&gt;Получить всех служащих, которые относятся к одному департаменту&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Узнать, какие департаменты существуют, можно выбрав по одному сотруднику из
каждого департамента в XML, который может с успехом быть первым, кто попадётся.
Один способ найти их - это взять тех сотрудников, которые не относятся к
департаменту из множества департаментов предыдущих сотрудников.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;employee[not(department = preceding-sibling::employee/department)]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Определив таких сотрудников, легко найти их департаменты и собрать вместе всех
сотрудников из одного и того же департамента:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:apply-template
  select=&amp;quot;data/employee[department = current()/department]&amp;quot;/&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Проблема этого метода в том, что он включает в себя два XPath-выражения,
вычисление которых потребует много ресурсов для больших XML-документов. Поиск по
всем предыдущим братьям с осью ‘preceding-sibling’ занимает много времени, если
вы ближе к конце записей. Кроме того, получение всех контактов определённых
департаментов каждый раз включает в себя поиск одного сотрудника.&lt;/p&gt;
&lt;h4&gt;Метод Мюнха&lt;/h4&gt;
&lt;p&gt;Этот метод разработан Стивом Мюнхом (Steve Muench) для представления этих
функций более эффективным способом с использованием ключей. Ключи работают путём
назначения значения ключа узлу и дают прямой доступ к узлу через такое значение.
Если элементов, у которых один и тот же ключ, много, то все эти элементы
найдутся, когда вы воспользуетесь этим ключом. В сущности, это означает, что
если вы хотите сгруппировать множество узлов согласно какому-то свойству узла,
вы можете использовать ключи.&lt;/p&gt;
&lt;p&gt;В примере выше мы хотим сгруппировать сотрудников согласно их департаментам,
поэтому мы создаём ключ, который назначает каждому сотруднику значение ключа,
которое берётся из департамента этого сотрудника. Узлы, которые мы хотим
сгруппировать должны быть подставлены в атрибут “match”. Значение ключа, которые
мы хотим использовать записывается в атрибут “use”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:key name=&amp;quot;employees-by-department&amp;quot; match=&amp;quot;employee&amp;quot; use=&amp;quot;department&amp;quot;/&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Однажды определив ключ, зная департамент, мы можем быстро получить доступ ко
всем сотрудникам этого департамента.&lt;br/&gt;
Например, ключ &lt;code class=&quot;language-text&quot;&gt;key(&amp;#39;employees-by-department&amp;#39;, &amp;#39;IT&amp;#39;)&lt;/code&gt; даст записи с
департаментом “IT”.&lt;/p&gt;
&lt;p&gt;Однако, первое, что нам надо сделать,- это определить, какие бывают
департаменты, что включает в себя нахождение первого сотрудника в XML для
каждого департамента. Здесь мы снова можем использовать ключи. Мы знаем, что
сотрудник будет частью списка узлов, которые можно получить по ключу данного
департамента: вопрос в том, будет ли он первым в этом списке (который упорядочен
как записи в XML-документе) или ниже? Нас интересуют только записи, идущие
первыми в списке.&lt;br/&gt;
Выяснение, является ли сотрудник первым в списке, возвращённом по ключу,
подразумевает сравнение узла employee с первым узлом в списке. Этот способ также
может быть использован для получения отдельных элементов в XML-файле. Есть пара
характерных способов проверки, идентичны ли два узла:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Сравнить уникальные идентификаторы, сгенерированные для узлов (используя
&lt;code class=&quot;language-text&quot;&gt;generate-id()&lt;/code&gt;):&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;employee[generate-id() = generate-id(key(&amp;#39;employees-by-department&amp;#39;, department)[1])]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Посмотреть, сколько узлов включает в себя результат объединения двух узлов:
один или два - узлы не могут повторяться во множестве, так что если там
только один узел, то они должны быть одним и тем же узлом:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;employee[count(.|key(&amp;#39;employees-by-department&amp;#39;, department)[1]) = 1]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Однажды определив группы, вы можете отсортировать их так, как вам нравится.
Также вы можете отсортировать узлы в рамках группы так, как вы хотите. Вот
шаблон, который создаёт результат, который мы описали, из XML, полученного из
базы данных:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;xsl:stylesheet version=&amp;quot;1.0&amp;quot;
  xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;&amp;gt;

  &amp;lt;xsl:output method = &amp;quot;html&amp;quot; encoding=&amp;quot;Windows-1252&amp;quot; /&amp;gt;
  &amp;lt;xsl:key name = &amp;quot;employees-by-department&amp;quot; match =&amp;quot;employee&amp;quot; use = &amp;quot;department&amp;quot; /&amp;gt;

  &amp;lt;xsl:template match=&amp;quot;data&amp;quot;&amp;gt;
    &amp;lt;html&amp;gt;
      &amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;
      &amp;lt;body&amp;gt;
        &amp;lt;xsl:for-each select = &amp;quot;employee[count(.|key(&amp;#39;employees-bydepartment&amp;#39;,
department)[1])=1]&amp;quot;&amp;gt;
          &amp;lt;xsl:sort select=&amp;quot;department&amp;quot; /&amp;gt;
          &amp;lt;b&amp;gt;&amp;lt;u&amp;gt;&amp;lt;xsl:value-of select=&amp;quot;department&amp;quot; /&amp;gt;&amp;lt;/u&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;br/&amp;gt;
            &amp;lt;xsl:for-each select=&amp;quot;key(&amp;#39;employees-bydepartment&amp;#39;,
department)&amp;quot;&amp;gt;
              &amp;lt;xsl:sort select=&amp;quot;name&amp;quot;/&amp;gt;
              &amp;lt;xsl:value-of select=&amp;quot;name&amp;quot; /&amp;gt;&amp;lt;br/&amp;gt;
            &amp;lt;/xsl:for-each&amp;gt;
          &amp;lt;/xsl:for-each&amp;gt;
        &amp;lt;/body&amp;gt;
      &amp;lt;/html&amp;gt;
  &amp;lt;/xsl:template&amp;gt;

&amp;lt;/xsl:stylesheet&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Метод Мюнха обычно лучше использовать для группировки узлов из XML-документа,
потому что он не подразумевает прохождения через большое число узлов, и поэтому
он более эффективен. Он особенно полезен, когда у вас есть плоская выдача из
базы данных, например, которую вам нужно преобразовать в какую-нибудь
иерархичную структуру. Он может быть применён в любой ситуации, где нужно
группировать узлы согласно их свойствам, которые можно получить через
XPath.&lt;/p&gt;
&lt;p&gt;Обратная сторона состоит в том, что метод Мюнха будет работать только с
XSLT-процессором, поддерживающим ключи. Вдобавок, использование ключей может
быть достаточно затратным по памяти, потому что все узлы и их ключи хранятся в
памяти. Наконец, может быть трудно использовать ключи, если узлы, которые вы
хотите сгруппировать, получены из разных подключенных источников.&lt;/p&gt;
&lt;h2&gt;Использование xsl:import&lt;/h2&gt;
&lt;p&gt;Используйте &lt;code class=&quot;language-text&quot;&gt;&amp;lt;xsl:import&amp;gt;&lt;/code&gt;, чтобы подключить общие, основные правила в
преобразование, задуманное для определённых трансформаций. Если можете, не
импортируйте больше шаблонов, чем вам нужно.&lt;/p&gt;
&lt;h2&gt;Использование статического HTML&lt;/h2&gt;
&lt;p&gt;Для любых “неизменных” порций html на странице (таких как шапка, подвал,
элементы навигации) определённо более эффективно хранить фрагменты как внешние
xml-файлы и копировать их в результирующее дерево используя &lt;code class=&quot;language-text&quot;&gt;xsl:copy-of&lt;/code&gt; и
функцию &lt;code class=&quot;language-text&quot;&gt;document()&lt;/code&gt;, чем использовать именованные шаблоны или &lt;code class=&quot;language-text&quot;&gt;xsl:import&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Разница между call и apply templates&lt;/h2&gt;
&lt;p&gt;Call-template, в отличие от aplly-templates, не меняет контекстный (текущий)
узел. И атрибут select имеет значение только в aplly-templates, и не имеет в
call-template.&lt;/p&gt;
&lt;h2&gt;Повторное использование кода и рефакторинг&lt;/h2&gt;
&lt;p&gt;Проблема с использованием одного темплейта с множеством условий - это то, что
очень быстро делает код отвратительным, нечитаемым и неподддерживаемым. Проблема
многих шаблонов состоит в том, что вы часто дублируете код. Золотая середина -
использовать много шаблонов, а при необходимости повторить код - вызывать
именованные шаблоны, иногда с параметрами, если имеют место небольшие изменения,
которые должны быть учтены. Именованные шаблоны похожи на подпрограммы или
приватные методы.&lt;/p&gt;
&lt;p&gt;Например. Допустим, вы хотите обработать элементы item, имея один шаблон для
узлов со значением атрибута type - ‘Book’, один - для ‘CD’, и один для всех
остальных.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:template match=&amp;quot;item[@type=&amp;#39;Book&amp;#39;]&amp;quot;/&amp;gt;
&amp;lt;xsl:template match=&amp;quot;item[@type=&amp;#39;CD&amp;#39;]&amp;quot;/&amp;gt;
&amp;lt;xsl:template match=&amp;quot;item&amp;quot;/&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;И они переопределят шаблон, привязанный к ”*” (любой элемент). Шаблоны с более
точной адресацией будут иметь более высокий приоритет для сопоставления.&lt;/p&gt;
&lt;h2&gt;Автоматизируйте XSL-документацию&lt;/h2&gt;
&lt;p&gt;Программисты обычно ненавидят документацию и поэтому обычно не пишут её.
Javadocs в Java даёт большое утешение программистскому сообществу, обеспечивая
способ автоматически генерировать документацию. Есть похожий инструмент, который
написан для XSL и называется xsldoc. Его можно бесплатно скачать на
&lt;a href=&quot;http://www.xsldoc.org/&quot;&gt;www.xsldoc.org&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Этот инструмент обеспечит автоматизированный, стандартизированный и надежный
способ создания документации о ваших XSL-файлах, и поскольку он управляется из
командной строки, то может стать частью процесса сборки.&lt;/p&gt;
&lt;h2&gt;Не изобретайте велосипед, используйте XSLT-библиотеку&lt;/h2&gt;
&lt;p&gt;XSLT-библиотека - это open source репозиторий XSL-шаблонов, которые были
написаны и проверены. В библиотеке множество шаблонов для работы со строками,
датами, обработки узлов и т.п., что может быть эффективно использовано в ваших
xsl-файлах. Так что сэкономьте своё время с этой библиотекой. Её можно
посмотреть по адресу &lt;a href=&quot;http://xsltsl.sourceforge.net&quot;&gt;http://xsltsl.sourceforge.net&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Уменьшайте размер ваших HTML-документов&lt;/h2&gt;
&lt;p&gt;Уменьшайте размер вашего HTML, используя &lt;code class=&quot;language-text&quot;&gt;indent=&amp;quot;no&amp;quot;&lt;/code&gt; в теге
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;xsl:output/&amp;gt;&lt;/code&gt;. Этот атрибут сообщает XSLT-процессору не делать отступы в
HTML-документе, что делает файлы меньше и они грузятся быстрее.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:output method=&amp;quot;html&amp;quot; indent=&amp;quot;no&amp;quot;/&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Custom fonts with no cramp]]></title><description><![CDATA[A developer using custom fonts in web (don't say this is evil) usually face a
dilemma.

The users' main interest is the content of the page not the
view. It is nice to provide it as fast as possible and then apply a custom font.
This blog used to work this way. I provided a script among others in the bundle
linked by the end of the page.
]]></description><link>http://varya.me/en/posts/fonts-no-cramp/</link><guid isPermaLink="false">http://varya.me/en/posts/fonts-no-cramp/</guid><content:encoded>&lt;p&gt;A developer using custom fonts in web (don’t say this is evil) usually face a
dilemma.&lt;/p&gt;
&lt;p&gt;The users’ main interest is the content of the page not the
view. It is nice to provide it as fast as possible and then apply a custom font.
This blog used to work this way. I provided a script among others in the bundle
linked by the end of the page.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addFont&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; h&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
h &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;head&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
l &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;link&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;stylesheet&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
h&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;addFont&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;//fonts.googleapis.com/css?&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;family=Noto+Serif&amp;amp;subset=latin,cyrillic-ext,cyrillic&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The drawback is obvious. Once a font is loaded and apllied, a user notice
twitching as a page is being re-rendering. It is recommended to define a
suitable system font in the &lt;code class=&quot;language-text&quot;&gt;font-face&lt;/code&gt;. But there never is a good fit.
Otherwise there was no need in a custom font.&lt;/p&gt;
&lt;p&gt;The only way to avoid the font rendering jerk is to provide the font in advance.
With inlining a base64 of a font into CSS and linking it in &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; no
twitching is guaranteed as well as increasing page loading time.&lt;/p&gt;
&lt;p&gt;For a while I was deciding between the two variants until my colleague &lt;a href=&quot;http://kizu.ru/en/&quot;&gt;Roman
Komarov aka kizu&lt;/a&gt; suggested an elegant solution which is in
use right now.&lt;/p&gt;
&lt;p&gt;At the first time a user opens any page of this site, a CSS with the font is
loaded and stored as a piece of text in the &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Storage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;varya.me.fonts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        $&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../data/fonts.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            success&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;varya.me.fonts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            dataType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;text&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;But I do not apply this CSS after loading. So, not jerks. As request is only to
fill up the storage, it goes after the &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;By the time of requesting the next page the custom font is already in the user’s
computer. Checking that it is available I apply it to the page. The faster the
better, and as the action costs almost nothing an inline &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; script goes
here.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;varya.me.fonts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;style&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;varya.me.fonts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;/style&gt;&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Storage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With that the blog looks as it should do with 2+ pages loaded. I consider this
price for no-twitching custom font as reasonable.&lt;/p&gt;
&lt;p&gt;Any ideas of making it even better?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The so different frontend community and how we deal with it]]></title><description><![CDATA[Long time ago I could read and learn about web development in Russian only. Later, having completed an English language course, I began to read articles and blogs in English more and more. The same went for conferences: I visited
Russian-speaking conferences at first and later switched to English-speaking conferences in Europe. In both articles and conference talks, I noticed how the content was different depending on the language used. Sometime I even thought that the communities evolve in different ways and follow different directions.
]]></description><link>http://varya.me/en/posts/frontend-babel-alpha/</link><guid isPermaLink="false">http://varya.me/en/posts/frontend-babel-alpha/</guid><content:encoded>&lt;p&gt;Long time ago I could read and learn about web development in Russian only. Later, having completed an English language course, I began to read articles and blogs in English more and more. The same went for conferences: I visited
Russian-speaking conferences at first and later switched to English-speaking conferences in Europe. In both articles and conference talks, I noticed how the content was different depending on the language used. Sometime I even thought that the communities evolve in different ways and follow different directions.
&lt;excerpt/&gt;
My Russian-speaking colleagues indeed know the ”&lt;a href=&quot;http://vitaly.harisov.name/article/independent-blocks.html&quot;&gt;HTML/CSS markup with independent blocks&lt;/a&gt;”
article by Vitaly Harisov. He published
this in 2008 and outlined the main principles of HTML/CSS development which is known as BEM nowadays. We can say
that was the moment BEM started being used in Russia and neighbouring countries. As for English-speaking developers, they
learned about BEM only in 2012 from &lt;a href=&quot;http://www.smashingmagazine.com/2012/04/16/a-new-front-end-methodology-bem/&quot;&gt;my article in
SmashingMagazine&lt;/a&gt;. Then, as you might
know, &lt;a href=&quot;http://csswizardry.com/about/&quot;&gt;Harry Roberts&lt;/a&gt; caught sight
of that and thanks to his publications BEM became known to the rest of the world.&lt;/p&gt;
&lt;p&gt;Thus, 4 years passed since the technology was released until a typical English-speaking web developer got a chance to learn about it. This could have been enough time for a technology to mature and slowly die.&lt;/p&gt;
&lt;p&gt;No doubt, a better option would be to make it available back in 2008. I suppose that modular trend on the web would have started earlier and we would have got the results faster. Today we
would use Web Components (they implement some component ideas of BEM) everywhere (and for a long time, already).&lt;/p&gt;
&lt;p&gt;With all this in mind, I decided to dedicate some of my free time to publish translations on my blog.
So the translated articles on &lt;a href=&quot;/en/issues/ym-modular-system&quot;&gt;Ymaps modules&lt;/a&gt; and
&lt;a href=&quot;/en/issues/beml-html-preprocessor&quot;&gt;BEML&lt;/a&gt; were published. I also had more articles in the queue for translation. Reading
a lot of developer blogs in Russian, I realized that a lot of interesting content is still being produced. “Is this for Russia only?” I asked myself.&lt;/p&gt;
&lt;p&gt;Imagine all these new approaches, libraries, and frameworks that exist today all over the world!.. but you will never
learn them because their authors publish in Arabic, Spanish, Japanese or other languages you do not speak.&lt;/p&gt;
&lt;p&gt;Nevertheless, we frontend developers have a wonderful community. Open source culture
and technologies like GitHub enable us to help each other and get better results together. To contribute, one does not have to be an expert. For example, many products get their documentation improved just with the help of people who like the project.&lt;/p&gt;
&lt;p&gt;This encouraged me to create a collaboration web site for translating frontend articles from local languages into English.&lt;/p&gt;
&lt;p&gt;The project is called &lt;strong&gt;Frontend Babel&lt;/strong&gt; and here is the URL: &lt;a href=&quot;http://frontendbabel.info&quot;&gt;http://frontendbabel.info&lt;/a&gt;.
Technically, it is a statically generated blog (thanks to DocPad). Any person can take it and run a local copy, then add
a translated article and submit a pull request into the original source.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/about/&quot;&gt;About the project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com&quot;&gt;Repository on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/how-to-contribute&quot;&gt;How to contribute&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The first couple of articles were already translated by &lt;a href=&quot;https://www.google.com/+MaxShirshin&quot;&gt;Max Shirshin&lt;/a&gt;. These are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;an interesting &lt;a href=&quot;http://frontendbabel.info/articles/webpage-rendering-101&quot;&gt;post about web page rendering by Alexander
Skutin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;an awesome &lt;a href=&quot;http://frontendbabel.info/articles/graphical-interface&quot;&gt;article about graphical interface by Danil
Kovchy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can already share these links with your English-speaking colleagues :-)&lt;/p&gt;
&lt;p&gt;Max and I have plans to translate more during the next weeks. I encourage all of you who knows Arabic, Japanese, Polish, French, Spanish (and any other language) to join the project and help us translate. English-speaking developers can do proofreading.&lt;/p&gt;
&lt;p&gt;Translating into a foreign language is hard work indeed, but with the help of English-speaking people in our community, we will get the texts improved. So, if you were thinking about writing in English, this may be a good chance to start and learn.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Interesting articles will attract visitors. With this, both an author and a translator get more attention on the web and establish new proffesional contacts throught their websites and social networks.&lt;/p&gt;
&lt;p&gt;Always remember: a contribution to an open source project can be small, but it is always appreciated! Here are just
some ideas on what you can do:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues/new&quot;&gt;Add new source articles into our task
queue&lt;/a&gt;&lt;br/&gt;
If you know an interesting article worth to be published, create an issue about it. So another
contributer can grab this task and translate it.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/how-to-contribute#push-new-translation&quot;&gt;Push new translations&lt;/a&gt;&lt;br/&gt;
Find a nice article in a language you know, translate it into English and publish on this website.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tell friends about the project&lt;/strong&gt;&lt;br/&gt;
Mentioning this project in social networks and your blog posts you can involve people from
all over the world!&lt;/li&gt;
&lt;li&gt;Fix English in the texts&lt;br/&gt;
If you spot a grammatical error, you can edit an article (there is a link to an editor below) and submit
a pull request.&lt;/li&gt;
&lt;li&gt;Propose site changes&lt;br/&gt;
Suggest what can be improved on this web site by adding your ideas to &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=%40+Translation&amp;#x26;state=open&quot;&gt;the list of
issues&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=&amp;#x26;page=1&amp;#x26;state=open&quot;&gt;Grab an issue to do&lt;/a&gt;&lt;br/&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Your contributions will help improve this project a lot!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Про дружбу народов во frontend сообществе]]></title><description><![CDATA[Когда-то я читала о web-разработке только на русском. Позднее, выучившись на курсах английского, я стала всё больше и
больше читать англоязычные блоги и статьи. Также было и с конференциями: начав с русскоязычных, я затем стала посещать и
зарубежные. Иногда и со статьями, и с
докладами, я замечала, что контент очень разный. Бывало, складывалось впечатление, что каждое сообщество безусловно
развивается, но своим путём.
]]></description><link>http://varya.me/ru/posts/frontend-babel-alpha/</link><guid isPermaLink="false">http://varya.me/ru/posts/frontend-babel-alpha/</guid><content:encoded>&lt;p&gt;Когда-то я читала о web-разработке только на русском. Позднее, выучившись на курсах английского, я стала всё больше и
больше читать англоязычные блоги и статьи. Также было и с конференциями: начав с русскоязычных, я затем стала посещать и
зарубежные. Иногда и со статьями, и с
докладами, я замечала, что контент очень разный. Бывало, складывалось впечатление, что каждое сообщество безусловно
развивается, но своим путём.
&lt;excerpt/&gt;
Думаю, многие русскоязычные разработчики знают статью Виталия Харисова «&lt;a href=&quot;http://vitaly.harisov.name/article/independent-blocks.html&quot;&gt;Вёрстка независимыми
блоками&lt;/a&gt;».
Виталий опубликовал её в 2008 году, обозначив основные принципы вёрстки, известные сейчас под именем БЭМ. Можно считать,
что с того момента началось развитие БЭМ в России и соседних странах. А разработчики, владеющие английским языком,
узнали про БЭМ лишь в 2012 году из &lt;a href=&quot;http://www.smashingmagazine.com/2012/04/16/a-new-front-end-methodology-bem/&quot;&gt;моей статьи в
SmashingMagazine&lt;/a&gt;.
Потом, как вы знаете, методология понравилась &lt;a href=&quot;http://csswizardry.com/about/&quot;&gt;Гари Робертсу&lt;/a&gt; и благодаря его публикациям распространилась и на Западе.&lt;/p&gt;
&lt;p&gt;Итак, прошло &lt;strong&gt;4 года&lt;/strong&gt; между тем как технология была выпущена в свет и тем как о ней узнал обычный фронтендер из Алабамы.
За такой срок многие технологические вещи даже успевают устареть.&lt;/p&gt;
&lt;p&gt;Нет никаких сомнений: и для технологии, и для индустрии было бы намного лучше, узнай массовый пользователь о БЭМ в
далеком 2008. Скорее всего развитие модульных технологий в Web началось бы раньше, и пошло бы быстрее. Уже сейчас мы бы
использовали WebComponents (реализующие идеи компонентного подхода БЭМ) повсеместно.&lt;/p&gt;
&lt;p&gt;Некоторое время назад, размышляя над фактами, изложенными выше, я решила посвящать часть своего времени и страниц в блоге
переводам. Так появились посты-переводы про &lt;a href=&quot;/en/issues/ym-modular-system&quot;&gt;Ymaps modules&lt;/a&gt; и
&lt;a href=&quot;/en/issues/beml-html-preprocessor&quot;&gt;BEML&lt;/a&gt;. Сразу скажу, на очереди для перевода были и другие статьи. Читая личные блоги и
Хабр, я видела, что люди пишут уйму всего интересного. Но… разве только в России?&lt;/p&gt;
&lt;p&gt;Представьте, сколько новых решений, библиотек, фреймворков есть на сегодняшний момент в других уголках света!
Только вы о них не узнаете, ведь их авторы говорят на арабском, испанском, японском и на многих других неизвестных вам
языках :-)&lt;/p&gt;
&lt;p&gt;И всё-таки мы живём в удивительное время, и у нас, разработчиков интерфейсов, потрясающее сообщество. Open source
культура и такие технологии как GitHub позволяют нам помогать друг другу и добиваться намного больших результатов
вместе. При этом вовсе не обязательно коммитить в NodeJS, чтобы внести свой вклад. Так, например, работает известный многим
проект &lt;a href=&quot;http://frontender.info/&quot;&gt;Frontender.info&lt;/a&gt; — благодаря коллективному труду у русскоязычных разработчиков есть постоянно обновляемый ресурс с
переводами самых актуальных статей с английского языка на русский.&lt;/p&gt;
&lt;p&gt;Всё это подтолкнуло меня к созданию сервиса коллективных переводов на английский.&lt;/p&gt;
&lt;p&gt;Проект называется **Frontend Babel ** и уже доступен по адресу &lt;a href=&quot;http://frontendbabel.info&quot;&gt;http://frontendbabel.info&lt;/a&gt;.
Это статический блог (здесь я говорю спасибо DocPad за генерацию) — любой может развернуть его у себя, добавить
статью-перевод и пул-реквестом влить в сайт.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/about/&quot;&gt;о проекте&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com&quot;&gt;репозиторий&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/how-to-contribute&quot;&gt;как контрибьютить&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Первые статьи уже перевёл с русского &lt;a href=&quot;https://www.google.com/+MaxShirshin&quot;&gt;Макс Ширшин&lt;/a&gt;. Это&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;интересная &lt;a href=&quot;http://frontendbabel.info/articles/webpage-rendering-101&quot;&gt;заметка Александра Скутина о рендеринге
страниц&lt;/a&gt; (вы могли читать её на Хабре)&lt;/li&gt;
&lt;li&gt;и прекрасная &lt;a href=&quot;http://frontendbabel.info/articles/graphical-interface&quot;&gt;статья Данила
Ковчего о графическом интерфейсе&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Можете уже сейчас поделиться этими
ссылками со своими англоязычными коллегами :-) Пусть узнают, какой у нас создаётся хороший контент.&lt;/p&gt;
&lt;p&gt;Мы с Максом собираемся переводить всё новые и новые статьи. Также я приглашаю присоединиться к проекту арабо- японо-
испано- (тут даже бессмысленно перечислять каких ещё) язычных разработчиков. Надеюсь, они откликнутся, и мы наконец-то сможем узнать об
идеях и технических новинках наших коллег. Правда, вдохновить их на работу можно будет только собственным примером. Так
что, присоединяйтесь и вы.&lt;/p&gt;
&lt;p&gt;Конечно, переводить на чужой язык намного сложнее, чем на родной. Но всё равно я хочу вас воодушевить. Все статьи
будут вычитываться (пока нами с Максом, а очень скоро — нейтивами), если вы ещё не пишете на английском, но хотели
начать, это отличная возможность потренироваться и научиться новому.&lt;br/&gt;
Статьи с хорошим контентом получают траффик. И упоминание автора и переводчика статьи (со ссылками на сайт и
социальные сети) — это заслуженные ими упоминание и новые профессиональные контакты.&lt;/p&gt;
&lt;p&gt;Всегда помните: вклад в open source проект может быть небольшим, но в любом случае он неоценим! Вот лишь несколько идей,
каким может быть ваше участие:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues/new&quot;&gt;Добавьте статью в очередь на
перевод&lt;/a&gt;&lt;br/&gt;
Если вы знаете интересную статью (да хоть вашу собственную), которую стоит опубликовать, заведите issue об этом. Другой
участник проекта увидит эту задачу и переведёт.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://frontendbabel.info/how-to-contribute#push-new-translation&quot;&gt;Сделайте свой перевод&lt;/a&gt;&lt;br/&gt;
Найдите интересную статью на русском, переведите её на английский и опубликуйте на сайте.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Расскажите друзьям и коллегам о проекте&lt;/strong&gt;&lt;br/&gt;
Написав о Frontend Babel в Twitter, Facebook или своём блоге, вы поможете привлечь новых участников проекта. Особенно
круто вставить несколько мотивационных слов от себя :-)&lt;/li&gt;
&lt;li&gt;Поправьте английский в статьях&lt;br/&gt;
Если вы видите грамматическую ошибку или опечатку, статью можно отредактировать (внизу, под текстом, есть ссылка) и
предложить свой pull request.&lt;/li&gt;
&lt;li&gt;Предложите улучшения на сайте&lt;br/&gt;
Посоветуйте, что можно было бы улучшить, изложив свои идеи в
&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=%40+Translation&amp;#x26;state=open&quot;&gt;списке
задач&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=&amp;#x26;page=1&amp;#x26;state=open&quot;&gt;Возьмите на себя задачу&lt;/a&gt;&lt;br/&gt;
С вашим участием сайт может стать намного лучше!&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Первая неделя Frontend Babel]]></title><description><![CDATA[В прошлый понедельник запустился новый проект коллективных переводов фронтендерских статей на английский [Frontend
Babel](http://frontendbabel.info/). Я писала об этом [подробный пост](/ru/posts/frontend-babel-alpha), который очень
хорошо разошелся благодаря ретвитам и попаданию на Хабр. И насколько я могу судить по статистике, неделя прошла
отлично.
]]></description><link>http://varya.me/ru/posts/frontend-babel-first-week/</link><guid isPermaLink="false">http://varya.me/ru/posts/frontend-babel-first-week/</guid><content:encoded>&lt;p&gt;В прошлый понедельник запустился новый проект коллективных переводов фронтендерских статей на английский &lt;a href=&quot;http://frontendbabel.info/&quot;&gt;Frontend
Babel&lt;/a&gt;. Я писала об этом &lt;a href=&quot;/ru/posts/frontend-babel-alpha&quot;&gt;подробный пост&lt;/a&gt;, который очень
хорошо разошелся благодаря ретвитам и попаданию на Хабр. И насколько я могу судить по статистике, неделя прошла
отлично.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Первый перевод проекта — статья «&lt;a href=&quot;http://frontendbabel.info/articles/webpage-rendering-101/&quot;&gt;What Every Frontend Developer Should Know About Webpage
Rendering&lt;/a&gt;» попала в популярные рассылки &lt;a href=&quot;http://css-weekly.com/&quot;&gt;CSS
Weekly&lt;/a&gt; и &lt;a href=&quot;http://html5weekly.com/&quot;&gt;HTML5 Weekly&lt;/a&gt;. Благодаря им уже на следующий день сайт
посетило больше 9 тысяч человек! А всего за неделю было 35 тысяч просмотров.&lt;/p&gt;
&lt;p&gt;А вот картинка про то, какую аудиторию получили публикации, которые могли рассчитывать только на русскоязычных читателей
всего две недели тому назад:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6745/14441195.32/0_85670_478637f6_orig.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Более того, спустя ещё день devrel Google Chrome Пол Льюис (&lt;a href=&quot;https://twitter.com/aerotwist&quot;&gt;@aerotwist&lt;/a&gt;) опубликовал
в своём блоге пост с дополнительной информацией, о том как именно браузер рисует страницу — «&lt;a href=&quot;http://aerotwist.com/blog/pixels-are-expensive/&quot;&gt;Pixels are
expensive&lt;/a&gt;». Упоминание Полом Frontend Babel стало ещё одним источником трафика — более
полутора тысяч посетителей. Но главное даже не это, а то что благодаря Frontend Babel &lt;strong&gt;состоялся диалог&lt;/strong&gt;. Языковые
границы стираются, и развитие нашей индустрии ускоряется. Очень круто видеть такой результат уже в первую неделю работы!&lt;/p&gt;
&lt;p&gt;Если вы уже вдохновлены стать причастными к этому успеху, &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=%24+Russian&amp;#x26;page=1&amp;#x26;state=open&quot;&gt;берите и
переводите&lt;/a&gt; :-)
Кстати, не бойтесь сделать ошибку. Frontend Babel — это ресурс для англоязычной аудитории, и среди читателей обязательно
найдётся кто-то, кто исправит вас Pull-Request’ом. Это тоже &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/pull/42&quot;&gt;подтверждено
опытом&lt;/a&gt;, даже &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/pull/74&quot;&gt;несколько
раз&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Или можно &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues/new&quot;&gt;добавить статью в пул на перевод&lt;/a&gt;. Там
уже есть сколько-то, но много не мало.&lt;/p&gt;
&lt;p&gt;Ближайшее время (за вычетом переводов) я планирую посвятить расширению языковой географии Frontend Babel. Уже сейчас в
очереди есть статьи &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=%24+French&amp;#x26;page=1&amp;#x26;state=open&quot;&gt;на
французском&lt;/a&gt; и
&lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues?labels=%24+Polish&amp;#x26;page=1&amp;#x26;state=open&quot;&gt;польском&lt;/a&gt;. Дело
за малым — надо найти переводчиков :-)&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;p&gt;Сам сайт Frontend Babel претерпел изменения и внешнего вида, и сборки. Здесь спасибо &lt;a href=&quot;http://kizu.ru/&quot;&gt;Роме Комарову&lt;/a&gt;, он
насоздавал кучу issue, и их реализация делает сайт намного лучше с точки зрения UX.&lt;/p&gt;
&lt;p&gt;Изменения же генерации сайта понадобились, чтобы у статей появились мета-описание и кратинка. Это делает их более
привлекательными, когда делишься ссылкой в Facebook или LinkedIn. Сниппет третьей статьи «&lt;a href=&quot;http://frontendbabel.info/articles/developing-cross-browser-extensions/&quot;&gt;Developing Cross-Browser
Extensions&lt;/a&gt;» уже выглядел вот так:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6843/14441195.32/0_8566f_734ee93c_orig.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Хорошо бы ещё иметь такую картинку для корня проекта. Кто-нибудь может нарисовать? Ну и если у вас есть другие идеи по
улучшению, не стесняйтесь &lt;a href=&quot;https://github.com/frontendbabel/frontendbabel.github.com/issues/new&quot;&gt;завести issue&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Мобильное приложение на HTML5 со штатным интерфейсом]]></title><description><![CDATA[Недавно я побывала на конференции [Front Trends 2014](http://2014.front-trends.com/)
в Варшаве. Конференция очень крутая, обязательно посетите её в следующем году.
У них всегда интересная основная программа, и кроме неё есть ещё
мини-доклады от всех желающих. В этом году одним из таких докладов был мой,
о фреймворке и инструментах для разработки HTML5/JavaScript мобильных
приложений [Steroids](http://www.appgyver.com/steroids).
Если вы не были на конференции, то можете прочесть мою презентацию в тексте.
]]></description><link>http://varya.me/ru/posts/html5-mobile-app-width-native-ui/</link><guid isPermaLink="false">http://varya.me/ru/posts/html5-mobile-app-width-native-ui/</guid><content:encoded>&lt;p&gt;Недавно я побывала на конференции &lt;a href=&quot;http://2014.front-trends.com/&quot;&gt;Front Trends 2014&lt;/a&gt;
в Варшаве. Конференция очень крутая, обязательно посетите её в следующем году.
У них всегда интересная основная программа, и кроме неё есть ещё
мини-доклады от всех желающих. В этом году одним из таких докладов был мой,
о фреймворке и инструментах для разработки HTML5/JavaScript мобильных
приложений &lt;a href=&quot;http://www.appgyver.com/steroids&quot;&gt;Steroids&lt;/a&gt;.
Если вы не были на конференции, то можете прочесть мою презентацию в тексте.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#Cover&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Я совсем новичок в разработке мобильных приложений, но всё равно решилась
показать, как пользоваться Steroids, потому что благодаря ему я смогла сделать
приложение с системным интерфейсом (native UI) и безболезненно пройти через
весь цикл разработки за считанные минуты.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#summary&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Инструменты Steroids — это пакет с command line интерфейсом. Вместе с ним вы получите
JavaScript-фреймворк Steroids. А также инструменты обеспечат вам сборку проекта,
удобный процесс разработки, отладки и релиза. Всё написано под NodeJS, так что
потребуется его установить.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#3&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Нужна версия &lt;code class=&quot;language-text&quot;&gt;0.10.25&lt;/code&gt;. В инструкции &lt;a href=&quot;http://academy.appgyver.com/categories/1/contents/1&quot;&gt;Installation and Setup
Guide&lt;/a&gt;
подробно написано, как устанавливать.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#4&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Самая первая команда, которой вы воспользуетесь, — это &lt;code class=&quot;language-text&quot;&gt;steroids create&lt;/code&gt;.
Затем, в получившейся папке проекта наберите &lt;code class=&quot;language-text&quot;&gt;steroids connect --watch&lt;/code&gt; —
запустится процесс steroids. Флаг &lt;code class=&quot;language-text&quot;&gt;--watch&lt;/code&gt; нужен, чтобы Steroids отслеживал
изменения файлов и каждый раз пересобирал проект и обновлял его на подключенных
устройствах.&lt;/p&gt;
&lt;p&gt;Вы можете подключить к проекту реальный телефон. После запуска &lt;code class=&quot;language-text&quot;&gt;steroids connect&lt;/code&gt;
откроется окно браузера с QR-кодом. Считайте этот QR-код мобильным приложением
&lt;code class=&quot;language-text&quot;&gt;AppGyver Scanner&lt;/code&gt; — и проект окажется в вашем телефоне (а кроме того — будет
обновляться).&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;a href=&quot;https://itunes.apple.com/us/app/appgyver-scanner/id575076515?mt=8&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Appstore&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/appstore-df950585b54bd081a7826913fc715cd4.png&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://play.google.com/store/apps/details?id=com.appgyver.android&amp;amp;feature=nav_result#?t=W251bGwsMSwxLDMsImNvbS5hcHBneXZlci5hbmRyb2lkIl0.&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Googleplay&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/googleplay-2cef882d62e402fbdbfe8cdac5794069.png&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Другой способ — открыть проект в Simulator. Для этого наберите &lt;code class=&quot;language-text&quot;&gt;simulator&lt;/code&gt;
в окне терминала, где запускали &lt;code class=&quot;language-text&quot;&gt;steroids connect&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Теперь можете изменить исходный код приложения. Например, напишите
свой текст в файле &lt;code class=&quot;language-text&quot;&gt;www/index.html&lt;/code&gt;. После этого можете проверить,
что приложение в подключенном телефоне или в симуляторе изменилось.&lt;/p&gt;
&lt;p&gt;Научиться, как сделать более серьезные изменения в проекте, вы
можете из примеров и туториалов. Запустите &lt;code class=&quot;language-text&quot;&gt;steroids generate&lt;/code&gt;, и
получите нужный код.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#5&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Можете смотреть, как устроены эти примеры, учиться по
&lt;a href=&quot;http://academy.appgyver.com/&quot;&gt;туториалам&lt;/a&gt; и
&lt;a href=&quot;http://docs.appgyver.com/en/stable/index.html&quot;&gt;API документации&lt;/a&gt;.
Дальше я покажу как использовать в вашем приложении
некоторые штатные элементы интерфейса, то есть
писать на HTML5/JavaScript приложение с &lt;em&gt;native UI&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#examples-list&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Давайте начнем с табов.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#7&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Вы можете найти закомментированный пример использования
табов в файле &lt;code class=&quot;language-text&quot;&gt;config/application.coffee&lt;/code&gt;. Это список табов
с их иконками и ссылками, на которые они ведут.&lt;/p&gt;
&lt;p&gt;В моём приложении я создаю 3 таба для следующих страниц:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;index.html&lt;/li&gt;
&lt;li&gt;notificationExample.html&lt;/li&gt;
&lt;li&gt;knowledge.html&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;steroids.config.tabBar.enabled = true
steroids.config.tabBar.tabs = [
  {
    title: &amp;quot;Index&amp;quot;
    icon: &amp;quot;icons/pill@2x.png&amp;quot;
    location: &amp;quot;http://localhost/index.html&amp;quot;
  },
  {
    title: &amp;quot;Notifications&amp;quot;
    icon: &amp;quot;icons/bell.png&amp;quot;
    location: &amp;quot;http://localhost/notificationExample.html&amp;quot;
  },
  {
    title: &amp;quot;Knowledge base&amp;quot;
    icon: &amp;quot;icons/coding.png&amp;quot;
    location: &amp;quot;http://localhost/knowledge.html&amp;quot;
  }
]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Положите html-файлы этих страниц в папку &lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt;. Пока они могут
быть пустыми. Также не забудьте об иконках, можете взять из моего
репозитория всю папку &lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/tree/master/www/icons&quot;&gt;icon
folder&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;После того как все изменения будут сделаны, подождите пересборки и
убедитесь в результате.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9088/14441195.32/0_84262_ae854cb8_orig.png&quot; width=&quot;340&quot; height=&quot;89&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;Дальше можно поиграть с нотификациями.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#8&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Разместите код этих кнопок внутри тега &lt;code class=&quot;language-text&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; на странице
&lt;code class=&quot;language-text&quot;&gt;www/notificationExample.html&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showAlert()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show alert dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showConfirm()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show confirm dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showPrompt()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show prompt dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;vibrate()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Vibrate the device&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Кнопки реагируют на прикосновения пользователя и запускают
различные JavaScript-функции. Чтобы сделать страницу работающей,
нужно задать эти функции в &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; или &lt;code class=&quot;language-text&quot;&gt;*.js&lt;/code&gt; файле страницы.
Каждая из них иллюстрирует работу своего вида нотификации, такого
как:
a kind of notification which are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.alert&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.confirm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.prompt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.vibrate&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Код функций можете взять
&lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/blob/master/www/notificationExample.html#L15&quot;&gt;из моего репозитория&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Теперь вы можете перейти на эту страницу по соответствующему
табу и увидеть, как работает каждый тип нотификации.&lt;/p&gt;
&lt;p&gt;Следующий системный элемент — кнопка на навигационной панели
(navigation bar).&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#9&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Навигационная панель может быть изменена при помощи JavaScript-хелперов
фреймворка Steroids. Если вы хотите сделать её одинаковой для всех страниц
приложения, то разместите код в файле &lt;code class=&quot;language-text&quot;&gt;www/javascripts/application.js&lt;/code&gt;,
который подключен ко всем &lt;code class=&quot;language-text&quot;&gt;*.html&lt;/code&gt; файлам.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; loginButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;buttons&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NavigationBarButton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
loginButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;the Button&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

loginButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onTap&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;notification&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;You tapped the button!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;the Alert&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;I did!&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;view&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigationBar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    buttons&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      right&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;loginButton&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Этот код вставит кнопку в правую часть навигационной панели.
Касание кнопки запустит нотификацию, уже знакомую вам по предыдущему
примеру.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9115/14441195.32/0_84264_7f27d435_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;И последний пример штатного интерфейса в этом приложении
— модальное окно.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#10&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Разместите эту кнопку в файле &lt;code class=&quot;language-text&quot;&gt;www/index.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showModal()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Open modal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;И определите функцию &lt;code class=&quot;language-text&quot;&gt;showModal&lt;/code&gt;, которая открывает модальное
окно с соответствующим содержанием.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; webView &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;views&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/views/modalExample/show.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webView&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Что показывать в модальном окне, должно быть написано в файле
&lt;code class=&quot;language-text&quot;&gt;app/views/modalExample/show.html&lt;/code&gt;. Кстати, не забудьте, что там
должна быть кнопка закрывания модального окна. Чтобы всё прошло
быстрее, позаимствуйте
&lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/blob/master/app/views/modalExample/show.html&quot;&gt;код из репозитория приложения&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;С этими и &lt;a href=&quot;http://docs.appgyver.com/en/stable/steroids_Steroids%20Native%20UI_index.md.html#Steroids%C2%A0Native%C2%A0UI&quot;&gt;другими элементами интерфейса&lt;/a&gt;
вы можете сделать приложение с системным интерфейсом, которое
будет выглядеть натурально на том устройстве, на котором запускается
приложение.&lt;/p&gt;
&lt;p&gt;Когда приложение закончено (или даже в процессе), вы можете захотеть
показать его другу, клиенту или даже маме.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#sharing&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Можно воспользоваться QR-кодом, упоминаемым в начале статьи. Он
принесет код с вашего компьютера на любое устройство. Но вы оба должны
быть подключены к одной сети.&lt;/p&gt;
&lt;p&gt;Если вы хотите показать приложение удаленно, разместите код в облаке.
Для этого есть команда &lt;code class=&quot;language-text&quot;&gt;steroids deploy&lt;/code&gt;. В результате вы тоже получите
страницу с QR-кодом. Его можно считать при помощи &lt;code class=&quot;language-text&quot;&gt;AppGyver Scaner&lt;/code&gt; и
получить в своём телефоне приложение прямо из облака.&lt;/p&gt;
&lt;p&gt;Вы можете делиться всеми своими приложениями из облака. А также
настраивать их и собирать релизы. Всё это делается через web-интерфейс
&lt;a href=&quot;https://cloud.appgyver.com/applications&quot;&gt;cloud.appgyver.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Отсюда же приложения можно отправлять в AppStore и GooglePlay.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9062/14441195.32/0_84265_d03d686e_orig.png&quot; width=&quot;500&quot; height=&quot;327&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;Видите, это просто. Настолько просто, что даже новичок может не только
разработать приложение, но и сделать об этом презентацию с живым кодом
на конференции.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#links&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Узнать больше о Steroids и Cordova (в основе Steroids лежит PhoneGap)
можно в &lt;a href=&quot;http://academy.appgyver.com/&quot;&gt;AppGyver Academy&lt;/a&gt;. Там есть:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;подробные обучающие материалы,&lt;/li&gt;
&lt;li&gt;документация,&lt;/li&gt;
&lt;li&gt;сообщество разработчиков.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;И, конечно, вы можете читать &lt;a href=&quot;/ru/posts&quot;&gt;этот блог&lt;/a&gt;. Я собираюсь
делиться своими следующими открытиями относительно Steroids в ближайшее время :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[HTML5 mobile apps with native UI on Steroids]]></title><description><![CDATA[Recently I attended [Front Trends 2014](http://2014.front-trends.com/) in Warsaw.
This is an awesome conference which you should (no, definitely have to!) attend
in 2015. Besides incredible main programm Front Trends provides a set of Lighting Talks.
This year I was a part of it presenting [Steroids](http://www.appgyver.com/steroids),
a framework and a toolkit for developing HTML5 mobile apps. If you did not have
a chance to hear it, this offline text presentation is for you.]]></description><link>http://varya.me/en/posts/html5-mobile-app-width-native-ui/</link><guid isPermaLink="false">http://varya.me/en/posts/html5-mobile-app-width-native-ui/</guid><content:encoded>&lt;p&gt;Recently I attended &lt;a href=&quot;http://2014.front-trends.com/&quot;&gt;Front Trends 2014&lt;/a&gt; in Warsaw.
This is an awesome conference which you should (no, definitely have to!) attend
in 2015. Besides incredible main programm Front Trends provides a set of Lighting Talks.
This year I was a part of it presenting &lt;a href=&quot;http://www.appgyver.com/steroids&quot;&gt;Steroids&lt;/a&gt;,
a framework and a toolkit for developing HTML5 mobile apps. If you did not have
a chance to hear it, this offline text presentation is for you.&lt;excerpt/&gt;&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#Cover&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Being an absolute newbie in developing mobile apps I decided to showcase
Steroids because it enables me to create pretty native-looking application
and smoothly go through the developing and releasing flow in a few minutes.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#summary&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;The Steroids toolkit is a CLI; it brings Steroids JavaScript framewrok into
your project and takes care of building an app, developing flow, debugging
and releasing. It is based on NodeJs, so you have to have it installed.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#3&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;The required version for now is &lt;code class=&quot;language-text&quot;&gt;0.10.25&lt;/code&gt;. Follow the &lt;a href=&quot;http://academy.appgyver.com/categories/1/contents/1&quot;&gt;Installation and Setup
Guide&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#4&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Your very first start would be creating a project using &lt;code class=&quot;language-text&quot;&gt;steroids create&lt;/code&gt;
command. Then, typing &lt;code class=&quot;language-text&quot;&gt;steroids connect --watch&lt;/code&gt; in the gotten project
folder launches steroids process. The &lt;code class=&quot;language-text&quot;&gt;--watch&lt;/code&gt; flag as you can guess tells
Steroids to watch over the file changes, rebuild the app and push the results
to the connected devices.&lt;/p&gt;
&lt;p&gt;You can connect a physical smartphone to the project. After running
&lt;code class=&quot;language-text&quot;&gt;steroids connect&lt;/code&gt; you get a web page with a QR code opened in your browser.
Use &lt;code class=&quot;language-text&quot;&gt;AppGyver Scanner&lt;/code&gt; to read this QR code, it will bring the application
into your phone and keep it connected.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;a href=&quot;https://itunes.apple.com/us/app/appgyver-scanner/id575076515?mt=8&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Appstore&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/appstore-df950585b54bd081a7826913fc715cd4.png&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://play.google.com/store/apps/details?id=com.appgyver.android&amp;amp;feature=nav_result#?t=W251bGwsMSwxLDMsImNvbS5hcHBneXZlci5hbmRyb2lkIl0.&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;Googleplay&quot; class=&quot;appstore_icon&quot; src=&quot;https://share.appgyver.com/assets/googleplay-2cef882d62e402fbdbfe8cdac5794069.png&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Another way to watch the app is to bring it into a desktop simulator.
To do this, type &lt;code class=&quot;language-text&quot;&gt;simulator&lt;/code&gt; in the terminal wich launched
&lt;code class=&quot;language-text&quot;&gt;steroids connect&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can change the application source files. E.g. edit a text
in &lt;code class=&quot;language-text&quot;&gt;www/index.html&lt;/code&gt; and make sure that the app in the connected device
or in the simulator has been changed.&lt;/p&gt;
&lt;p&gt;To provide more powerful changes you can learn from the examples
and tutorials. Run &lt;code class=&quot;language-text&quot;&gt;steroids generate&lt;/code&gt; command and get the relevant
code.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#5&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;You can learn from this code examples, from &lt;a href=&quot;http://academy.appgyver.com/&quot;&gt;tutorials&lt;/a&gt;
and &lt;a href=&quot;http://docs.appgyver.com/en/stable/index.html&quot;&gt;API Docs&lt;/a&gt;.
Below I demonstrated some of the features which enable
to use &lt;em&gt;native UI&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#examples-list&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Let us start with showing the native tabs.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#7&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;config/application.coffee&lt;/code&gt; file you can find a commented
example of defining a list of tabs with their icons and
locations (URLs) they lead to.&lt;/p&gt;
&lt;p&gt;In my application I created 3 tabs. They are for&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;index.html&lt;/li&gt;
&lt;li&gt;notificationExample.html&lt;/li&gt;
&lt;li&gt;knowledge.html&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;steroids.config.tabBar.enabled = true
steroids.config.tabBar.tabs = [
  {
    title: &amp;quot;Index&amp;quot;
    icon: &amp;quot;icons/pill@2x.png&amp;quot;
    location: &amp;quot;http://localhost/index.html&amp;quot;
  },
  {
    title: &amp;quot;Notifications&amp;quot;
    icon: &amp;quot;icons/bell.png&amp;quot;
    location: &amp;quot;http://localhost/notificationExample.html&amp;quot;
  },
  {
    title: &amp;quot;Knowledge base&amp;quot;
    icon: &amp;quot;icons/coding.png&amp;quot;
    location: &amp;quot;http://localhost/knowledge.html&amp;quot;
  }
]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Place the pages into &lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt; directory and keep them empty yet.
Do not forget the icons. You can borrow the whole &lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/tree/master/www/icons&quot;&gt;icon
folder&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After making the change wait for rebuild and check.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9088/14441195.32/0_84262_ae854cb8_orig.png&quot; width=&quot;340&quot; height=&quot;89&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;Next, we can play with notifications.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#8&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Place these buttons inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; container of the
&lt;code class=&quot;language-text&quot;&gt;www/notificationExample.html&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showAlert()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show alert dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showConfirm()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show confirm dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showPrompt()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Show prompt dialogue&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;vibrate()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Vibrate the device&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As you can see, they run different JavaScript functions on
touch. To finish the page you need to define these functions
in the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; or linked &lt;code class=&quot;language-text&quot;&gt;*.js&lt;/code&gt; file. Each function demonstrates
a kind of notification which are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.alert&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.confirm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.prompt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.notification.vibrate&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Borrow the JavaScript code from &lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/blob/master/www/notificationExample.html#L15&quot;&gt;my repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now you can navigate to this page using the tabs and try
each type of notification with tapping.&lt;/p&gt;
&lt;p&gt;Another native element could be a button in the application navigation
bar.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#9&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;The navigation bar can be modified with JavaScript on Steroids.
If you want it to be the same across all the application pages,
provide this JavaScript in the &lt;code class=&quot;language-text&quot;&gt;www/javascripts/application.js&lt;/code&gt; file
which is linked to all the &lt;code class=&quot;language-text&quot;&gt;*.html&lt;/code&gt; files.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; loginButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;buttons&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NavigationBarButton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
loginButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;the Button&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

loginButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onTap&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;notification&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;You tapped the button!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;the Alert&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;I did!&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;view&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigationBar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    buttons&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      right&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;loginButton&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This will bring the button to the right side of the
navigation bar. Tapping on it you can see a notification; one
of those you studied recently.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9115/14441195.32/0_84264_7f27d435_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;The last of native UI examples in this app is showing
modal views.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#10&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;Add this button into &lt;code class=&quot;language-text&quot;&gt;www/index.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;button button-block&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;ontouchend&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showModal()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Open modal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And code &lt;code class=&quot;language-text&quot;&gt;showModal&lt;/code&gt; method to open a view as a modal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; webView &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;views&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/views/modalExample/show.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  steroids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webView&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The related view is a piece of html, which you should place into
&lt;code class=&quot;language-text&quot;&gt;app/views/modalExample/show.html&lt;/code&gt;. BTW, it has to have an interface
element closing the view. To make the process faster, pick up the
&lt;a href=&quot;https://github.com/varya/steroids-fronttrends2014/blob/master/app/views/modalExample/show.html&quot;&gt;code from the application repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With this and &lt;a href=&quot;http://docs.appgyver.com/en/stable/steroids_Steroids%20Native%20UI_index.md.html#Steroids%C2%A0Native%C2%A0UI&quot;&gt;other UI features&lt;/a&gt;
you can build a mobile interface which looks absolutely native for a
device where you application runs.&lt;/p&gt;
&lt;p&gt;Once finished coding (or even in process) you may need to show the
application to your friend, client or Mom.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#sharing&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;You can use the QR code from the beginning of our session which can
bring your application to any any device directly from your computer.
However this only will work if them both are connected to the same
network.&lt;/p&gt;
&lt;p&gt;If you want to share with someone remotely, deploy your app into the cloud.
The &lt;code class=&quot;language-text&quot;&gt;steroids deploy&lt;/code&gt; command serves for it. As a result you get
a page (also with a QR code) which can be scanned with AppGyver Scaner on
a phone and thus your pal get the same app from the cloud.&lt;/p&gt;
&lt;p&gt;All your applications in the cloud can be shared, tuned and built with
web interface at &lt;a href=&quot;https://cloud.appgyver.com/applications&quot;&gt;cloud.appgyver.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;From there you also push the app into AppStore and GooglePlay.&lt;/p&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;http://img-fotki.yandex.ru/get/9062/14441195.32/0_84265_d03d686e_orig.png&quot; width=&quot;500&quot; height=&quot;327&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;/div&gt;
&lt;p&gt;This is easy. As easy that a newbie can develop an app in a few minutes
and show you the how-to.&lt;/p&gt;
&lt;div class=&quot;slide&quot;&gt;
  &lt;iframe class=&quot;slide__frame&quot; scrolling=&quot;no&quot;
    src=&quot;http://varya.me/start-with-steroids/?full#links&quot;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;You can learn more about Steroids and Cordova (Steroids is based on PhoneGap)
at the &lt;a href=&quot;http://academy.appgyver.com/&quot;&gt;AppGyver Academy&lt;/a&gt; where you find:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;detailed tutorials,&lt;/li&gt;
&lt;li&gt;documentation,&lt;/li&gt;
&lt;li&gt;big community of devs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And, of course, you can read &lt;a href=&quot;/en/posts/&quot;&gt;this blog&lt;/a&gt;. I promise to share my next findings
regarding Steroids soon :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Visual diffs for the images in a git repo]]></title><description><![CDATA[
My first task for new projects is to create a git repository. Whether it is a new app, or conference slides, or even an
article, I prefer to keep everything in Git. It is an excellent tool, and, personally, I enjoy its command line
interface.

However, there is always room for improvement. Recently I found an idea how to make my git visualize the changes that
I've done to the images in a repository.

]]></description><link>http://varya.me/en/posts/image-diffs-with-git/</link><guid isPermaLink="false">http://varya.me/en/posts/image-diffs-with-git/</guid><content:encoded>&lt;p&gt;My first task for new projects is to create a git repository. Whether it is a new app, or conference slides, or even an
article, I prefer to keep everything in Git. It is an excellent tool, and, personally, I enjoy its command line
interface.&lt;/p&gt;
&lt;p&gt;However, there is always room for improvement. Recently I found an idea how to make my git visualize the changes that
I’ve done to the images in a repository.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;
      &lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;Varyas-MBP £ ~/path/to/project ⤳ master*
  › git status
On branch master
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)

    modified:   desktop.blocks/social-ico/social-ico__rss.png
    modified:   desktop.blocks/social-ico/social-ico__twitter.png

no changes added to commit (use &amp;quot;git add&amp;quot; and/or &amp;quot;git commit -a&amp;quot;)
Varyas-MBP £ ~/path/to/project ⤳ master*&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;I can run &lt;code class=&quot;language-text&quot;&gt;git diff&lt;/code&gt; over each of the modified images to see the following:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/diff1-46040b6f4a288812c1abdb04c0faf888-f911d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 432px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.51851851851851%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACcElEQVQozyWSWUhUARSG72MbFERQDwa99CBED9J7Qk/Ri8/1JpolFWRRZASBSlAmYRsZ0aKjpU4lEjkTUpFCOs6UszneZruzXWfGZba7zHK/rnrg5xz4+Q/nnP8I+bFxVkKzhuodYDoyw8t/g0jBKMFQEJ/Hi9PpwjE/b8KBz+dn0e1m3qzdHjfxWAw5mTBSqaQhyzImSkLqYZ8R8trJOe4z4vvK7YUePAtuZmdnsE3ZeW0Z4Z1lGOunCUY+jGL9OIFlaJhxq5U5l4elUBwxGGY5sGSIoohQBNZDDiPjnESJ+6EKiqKgaBrqehY1EkCPiCb3j/xaAl0rUTVA11XWfN9YdY4b+XTEUCubupIhFGw95HqOke+uZ/3BCQqOt2yFplIJLFDLLpsQqYRdFP9OU6uVqZVLbLw/T66rnrypXe9vRA3PbMkE+VYd6TfnSA+3kLlbj9x9HG01RDUpUY66UAeeotsnqJpN9cBvakWFjZ+PkTsPkx6/QuZFE+nOI6SfnaFaVhCkq/tJjLaTif5AHmxG6jhAwW+jkoxSji9SbGmleLYZbXKMcspHJZshPXIR6WYdqV/9ZPwTJHtPIt05ir4aQRAv7yPS20h0qJlo/2nEa4dQV5aoxCNo0h+UoVcUb1xHtX1Gi7gwCgrpqR7ES3uJPm9CsrQQ7mog3N1gTlhCiA224r2wG1/bLrzte5Cn7m3dolbIofrnUJNu1EwAJeQg77RTq+iUS1mCfafwtu0wdTvxdxw0zbFSNs0SjE2XPV+Qpx+RD81uG2Jsp0p+DS3qRw96Uc2s5hLUqvo2pxfJzg+z8v0JirmRZn5HLCbxH5tWWnYW+h0aAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;diff1&quot;
        title=&quot;&quot;
        src=&quot;/static/diff1-46040b6f4a288812c1abdb04c0faf888-f911d.png&quot;
        srcset=&quot;/static/diff1-46040b6f4a288812c1abdb04c0faf888-908da.png 200w,
/static/diff1-46040b6f4a288812c1abdb04c0faf888-28198.png 400w,
/static/diff1-46040b6f4a288812c1abdb04c0faf888-f911d.png 432w&quot;
        sizes=&quot;(max-width: 432px) 100vw, 432px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/diff2-cdaec8aed7a78f5fa4a8c7a6e4c41d24-f911d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 432px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.51851851851851%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACh0lEQVQozyWRW0iTcRjGv4sguqibIomCiC4KJTKqYQepEEsQsgNFZQQdbgvKiCAIutnqIpSiZrUWpQt1zbZZUZkXaeZh+1K3zzlb37RNt9mROXc0/7++1gsvD7wPz3t4Xmn6mY1YsEckh810jPdg+mIhpH5FDar4lGFkt4y7tx93nwufbwSP14vL5carKITCE0QiURGJRkUsFkPLpBStrRUTygtyrmvYfG1ckQ0ospfu7g+8ff2GhtZWLA479pcvaWlq4rndgcXShE2re4Y+EfqqMqYN9/tHRSAQQMoiGAj/Fg7fLwKTcchBKpUincsyo2HM2cH3h1amegeJzqTyNTRNJpOhsy9AW4cixsPfhJjLkUylhGSSI+x7rlJlH6NKwxYlxr8Q2RzB6hqGFuvwFmzFs2wbQ4YH/GuXSWe5UvuO3acaKNfy0LkWegZCeZ1U/tTHwdbPnHb6OWYPsKfRi5oRTJutfFqwjuHVZYys2olvRSkDy0sRmm8Nr7zoDtzl6PlmLt14xY5qE9U1zcwkM0hbzAOccypkM2nufAyy6b5Mx2SCnxf1uBdtQNXtJ3tZj7qyFPcSHdk377lq6qa4spYL+jbM1j62H6ln1/F7qKEfSBuNvRxvHuT2B5W9lkFKjD2MJP8QNzbSP28to0UVhCpP4ykoQV5aAgGVepvMmjIDh88+4eSlJjZW1VF5xsR0Io10rX2E9be6KKzrovh2F7c6A3kvZuMJ/BWn6J9fhEs73b2wGPm8Ie9hPJ7kRE0ja8sNFO6+zuaqmzjaPRozh4QQdH6Z4nH/GH3j3/n/EZGHdCJJ+OEzJvVGIq+7iGobpHOzeS6VzuFs9/LI2stocAoxN0s4HOYvWZUyA88lwgAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;diff2&quot;
        title=&quot;&quot;
        src=&quot;/static/diff2-cdaec8aed7a78f5fa4a8c7a6e4c41d24-f911d.png&quot;
        srcset=&quot;/static/diff2-cdaec8aed7a78f5fa4a8c7a6e4c41d24-908da.png 200w,
/static/diff2-cdaec8aed7a78f5fa4a8c7a6e4c41d24-28198.png 400w,
/static/diff2-cdaec8aed7a78f5fa4a8c7a6e4c41d24-f911d.png 432w&quot;
        sizes=&quot;(max-width: 432px) 100vw, 432px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;For every picture displayed, I can see a previous version (on the left side), a current version (on the right side) and
visually represented difference (in between). This feature is useful for tracking exact changes in the image. Now, I can
easily spot if some particular details were shifted, some colors were changed, or a picture was accidentally blended
with another one.&lt;/p&gt;
&lt;p&gt;You can configure git to do the same. First, install ImageMagick to provide a visual comparison. Note that for the
latest versions of OS X you need to install a package with a support of X11. To install with &lt;code class=&quot;language-text&quot;&gt;brew&lt;/code&gt;, do the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  › brew install imagemagick --with-x11&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then, create a script to compare two given images. Run &lt;code class=&quot;language-text&quot;&gt;cat ~/bin/git-imgdiff&lt;/code&gt;, and paste inside:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#!/bin/sh
compare $2 $1 png:- | montage -geometry +4+4 $2 - $1 png:- | display -title &amp;quot;$1&amp;quot; -&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now, test the script. It should do the comparison of two processed images:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  › ~/bin/git-imgdiff img1.png img2.png&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;At this step, you need to show git how to use compariing script. For that, define the image files their extensions
in a special file. Run &lt;code class=&quot;language-text&quot;&gt;cat ~/.gitattributes&lt;/code&gt; and paste the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;*.gif diff=image
*.jpg diff=image
*.png diff=image&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Provide git with this configuration by:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  › git config --global core.attributesfile &amp;#39;~/.gitattributes&amp;#39;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The last step is to instruct git to use your script when &lt;code class=&quot;language-text&quot;&gt;diff&lt;/code&gt; command is applied to the matching files:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  › git config --global diff.image.command &amp;#39;~/bin/git-imgdiff&amp;#39;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;That’s it. Now, running a &lt;code class=&quot;language-text&quot;&gt;git diff&lt;/code&gt; over your images you will get a human-friendly output. Enjoy!&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[1] &lt;a href=&quot;http://www.akikoskinen.info/image-diffs-with-git/&quot;&gt;http://www.akikoskinen.info/image-diffs-with-git/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[2] &lt;a href=&quot;http://paulmestemaker.com/imagemagick-display-mac-os-x/&quot;&gt;http://paulmestemaker.com/imagemagick-display-mac-os-x/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[JavaScript components low basics]]></title><description><![CDATA[This article features common problems that developers often face, or maybe used
to face before the current open source era, when writing JavaScript for the
client side; showcase of possible solutions to these problems and explanations
of my choices.
]]></description><link>http://varya.me/en/posts/javascript-component-solutions/</link><guid isPermaLink="false">http://varya.me/en/posts/javascript-component-solutions/</guid><content:encoded>&lt;p&gt;This article features common problems that developers often face, or maybe used
to face before the current open source era, when writing JavaScript for the
client side; showcase of possible solutions to these problems and explanations
of my choices.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;h2&gt;Client-side magic&lt;/h2&gt;
&lt;p&gt;I am going to write about client-side JavaScript code only which runs under a
browser and empowers an interface with interactivity.&lt;/p&gt;
&lt;p&gt;A piece of interface is represented with some HTML (and obviously styled with
CSS). Also it can be equiped with JavaScript usually describing how to react to
user’s actions.&lt;/p&gt;
&lt;p&gt;So, when developing a piece of interface, we write:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;HTML/CSS&lt;/li&gt;
&lt;li&gt;JavaScript&lt;/li&gt;
&lt;li&gt;Some code to link 2 to 1.&lt;br/&gt;
(This code says which part of HTML on a page corresponds to a JavaScript
component.)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;A few ways to matchmake&lt;/h2&gt;
&lt;p&gt;Thus, the so-called ‘linking’ joins designated piece of JavaScript to its
corresponding piece of HTML. There are different ways around this.&lt;/p&gt;
&lt;h3&gt;Linking with event attributes. The old school way.&lt;/h3&gt;
&lt;p&gt;Since, in most cases running JavaScript is a reaction to some events firing,
there is an obvious way to declare in HTML what the reaction should be. These
are the &lt;a href=&quot;http://www.w3.org/TR/html401/interact/scripts.html#events&quot;&gt;intrinsic event
attributes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For example, if you need a hidden &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; with an authorization form to be shown
when a user clicks on a ‘log in’ link you can write a JavaScript function for
that. Then, call it in with an &lt;code class=&quot;language-text&quot;&gt;onclick&lt;/code&gt; attribute.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/login-page&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;return showLogin()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;log in&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login-form&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    ...
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;dom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getElementById &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;showLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; dom &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;forms&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;login-form&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;That works fine, except it uses global variables and demonstrates constraint
with choosing a script loading strategy, which will be detailed below. Also in
this case you cannot code any predefined action; everything happens after a user
does something.&lt;br/&gt;
I personally don’t like this method because it leaves JavaScript implants in
HTML code, whose main purpose is to describe the document structure, not page
behavior.&lt;/p&gt;
&lt;h3&gt;Moving JavaScript into JavaScript&lt;/h3&gt;
&lt;p&gt;Therefore, a better way would be to stack everything related to JavaScript into
the page &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;From here I will write jQuery code to save time and space. If you prefer another
library, just get the gist.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myPlugin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;normal&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;#element&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With plugins you can describe behavioral pattern and then apply it to the
elements needed. In this case you don’t need to inject JavaScript into HTML any
more, which makes maintenance easier. But for every single element you still
have to write a line of code to apply the plugin.&lt;/p&gt;
&lt;h3&gt;Declaring behavior with CSS classes&lt;/h3&gt;
&lt;p&gt;When having many controls per page it’s not useful to initialize each of them
separately. A better way would be to mark HTML block with a matching CSS class.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;js-myPlugin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myPlugin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;normal&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.js-myPlugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With that you need your ‘linking’ code only once for a plugin; it can be written
in the plugin file to maintain consistency.&lt;/p&gt;
&lt;h3&gt;One CSS class to rule them all&lt;/h3&gt;
&lt;p&gt;However, when the variety of components grows, the ‘linking’ solution should be
even more declarative. If there is JavaScript to run for a component, it will be
visible from the block HTML structure. You can mark all the ‘alive’ parts of
your page with a special CSS class; for now let’s stick with &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; class.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;inpt js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;data-component&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;myPlugin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The step up of this method is the need of information which plugin is to apply
to a particular control and a little more code to initialize. This leads onto a
question about how to parametrize the component. This example suggests data
attributes although there is another idea (spoiler!).&lt;/p&gt;
&lt;p&gt;With minor change there is the code initializing a proper JavaScript component
for all the blocks on a page:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;$&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Parametrizing&lt;/h2&gt;
&lt;p&gt;Not only a component name has to be provided when initializing with &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; CSS
class. Different instances of the same component also may need to pass some
information. For example, an input plugin can validate the field value. But
depending on the input different kinds of data can be expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myInput&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;zipcode&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It is easy to provide per-instance parameters when initializing every instance
separately.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;input[name=&quot;login&quot;]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myInput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  validator&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;login&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;input[name=&quot;zipcode&quot;]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myInput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  validator&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;zipcode&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;data attributes&lt;/h3&gt;
&lt;p&gt;With more declarative manner you need to include such information into a
component HTML structure. Already mentioned data attributes can help with that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;inpt js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;data-component&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;data-validator&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;inpt js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;data-component&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;data-validator&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;zipcode&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myInput&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;validator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Supported by many frameworks&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Data attributes is a brainchild of HTML5, so carry a doctype when using them.&lt;/p&gt;
&lt;p&gt;As a widespread solution with many libraries providing helpers for them, data
attributes make parametrizing not difficult. Although the limitation of being
able to use key-value pairs only can affect the plugin architecture.&lt;/p&gt;
&lt;h3&gt;onclick&lt;/h3&gt;
&lt;p&gt;An elegant way is to provide data for a JavaScript component using natural
JavaScript format, such as hashes. Here the event attributes can serve us again.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;return {
        validator: &lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;
    }&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;When a user normally clicks, the hash is booleanized into &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;, so the default
browser click reaction is exactly as expected. From your plugin you can call the
event-named method and get the data in its native JavaScript format without any
need to parse and convert.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myInput&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;validator &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;login&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As JavaScript, this data can be of any type. Not only strings and numbers, but
large treeish hashes, arrays and even functions are possible. Such flexibility
is extra salutary for organizing data when writing complex components and for
customization.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;inpt js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;return {
        component: &lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;,
        validator: function() { ... }
    }&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With nested hashes an HTML block can be operated by 2 or more different
JavaScript components, each with its own set of parameters.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;inpt js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;return {
        &lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt; : {
            validator: function() { ... }
        },
        &lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;anotherPlugin&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt; : {}
    }&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Start fast&lt;/h2&gt;
&lt;h3&gt;Initializing components&lt;/h3&gt;
&lt;p&gt;Applying plugins to elements is only possible when the page is loaded and your
library can look for these elements in the document.&lt;/p&gt;
&lt;p&gt;First, you can link the script file after its related piece of HTML code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;myInput&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onclick&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;return {
        validator: &lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;
    }&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;js/plugins/myInput.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Whilst it can work sometimes, the method is just unreliable. It’s not certain
that the DOM will be ready by the time of the script loaded. Loading every
plugin as a separate file definitely slows down the page. In addition, this is
just ugly.&lt;/p&gt;
&lt;p&gt;The page needs to be loaded when running scripts. So, logically an &lt;code class=&quot;language-text&quot;&gt;onload&lt;/code&gt; event
on the &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt; object can help.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;$&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The drawback is that &lt;code class=&quot;language-text&quot;&gt;window.onload&lt;/code&gt; occurs when all the content is loaded.
Including images, which mostly are not necessary to run scripts.&lt;/p&gt;
&lt;p&gt;The time to safely initialize your components is right after the document has
been loaded and parsed into DOM, which is accompanied by a &lt;code class=&quot;language-text&quot;&gt;document.ready&lt;/code&gt; event.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;$&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With that all the plugins used can be bundled into one JavaScript file and
linked to a page within the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; element as usual. Purposely loaded in
advance, the script will be run when the page is ready.&lt;/p&gt;
&lt;h3&gt;Loading scripts&lt;/h3&gt;
&lt;p&gt;Although, putting &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag into &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; also delays page loading. A better
strategy is to draw a page as fast as possible and then introduce JavaScript
magic. Reach that by placing &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; before the closing &lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; tag.&lt;/p&gt;
&lt;p&gt;On the other hand, when a user sees a page, it is expected to work. By now, it’s
hardly possible to respond user actions with plain HTML; people are used to rich
interfaces. If that’s crucial for your page functioning, divide the script file
into 2. The first one linked in &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; provides major functionality. And the
second, placed before &lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; contains all the magic tricks.&lt;/p&gt;
&lt;h2&gt;Common best practises&lt;/h2&gt;
&lt;h3&gt;Cover up&lt;/h3&gt;
&lt;p&gt;In this article, I switched from calling &lt;code class=&quot;language-text&quot;&gt;showLogin&lt;/code&gt; function to jQuery plugins
and some improvements were made in linking components to HTML code. But more
than this, giving JavaScript responsibility for the page behavior also enables
to step forward with avoiding global variables in the code.&lt;/p&gt;
&lt;p&gt;This is true not only for JavaScript. The ids, form names and input names (all
the things that can be named in HTML) are also a kind of global object.&lt;/p&gt;
&lt;p&gt;Common advice is to avoid their use.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By reducing your global footprint to a single name, you significantly reduce
the chance of bad interactions with other applications, widgets, or libraries.
Douglas Crockford&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With the &lt;a href=&quot;http://www.adequatelygood.com/JavaScript-Module-Pattern-In-Depth.html&quot;&gt;module
pattern&lt;/a&gt;
wrapping your component into self-invoking anonymous function all the global
variables turn into local ones.&lt;/p&gt;
&lt;p&gt;Use CSS classes instead of &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; attributes to identify elements and
access them from JavaScript. This makes code more declarative, introduces
flexibility and is easier to maintain in the long run.&lt;/p&gt;
&lt;h3&gt;Doublecheck you don’t double-do&lt;/h3&gt;
&lt;p&gt;Initializing components can take time and resources. So, when first initialized,
the result can be saved and reused later. jQuery provides a nice &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; method
suitable for that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myPlugin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;myPlugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// init...&lt;/span&gt;
    $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;myPlugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Life beyond the element&lt;/h3&gt;
&lt;p&gt;If the corresponding block has been removed from a page, it’s the component’s
responsibility to clean up. Event listeners, constant background calculations
and even layout changes, that could have happend before. When being deactivated,
a component has to place things back with a &lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt; method.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myPlugin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;myPlugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// init...&lt;/span&gt;
    $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;myPlugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      destroy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Initializing by request&lt;/h3&gt;
&lt;p&gt;With dynamically changed pages it’s not enough to initialize components just the
ones after &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt;. There has to be some code to run every time you append
new block onto a page, which turns HTML fragment into a functioning component.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$.fn.myInit = function() {
    this.find(&amp;#39;.js&amp;#39;).each(function() {
        var $this = $(this);
        $this[$this.data(&amp;#39;component&amp;#39;)]();
    });
    return this;
})&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;A special method to destroy the components being removed has similar sense.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myDestroy&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        $&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Lazy initialization&lt;/h3&gt;
&lt;p&gt;One more trick is a &lt;a href=&quot;http://en.wikipedia.org/wiki/Lazy_initialization&quot;&gt;lazy
initialization&lt;/a&gt; of components.
The idea is similar to &lt;a href=&quot;https://github.com/stevekwan/best-practices/blob/master/javascript/best-practices.md#lazy-load-assets-that-arent-immediately-required&quot;&gt;lazy
loading&lt;/a&gt;
and merely means do as less as possible beforehand.&lt;/p&gt;
&lt;p&gt;Instead of initializing all the components when &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt; fires, you can do
this separately for every component at the time the particular component needs
that. Usually that’s after a user started to interact with
it and the respective events triggered. So, all the necessary predefined actions
won’t be run in advance and won’t
slow down page rendering and the work of other components. Objects corresponding
to never-used components won’t be created, which saves memory.&lt;/p&gt;
&lt;h2&gt;Component core&lt;/h2&gt;
&lt;p&gt;Many code practises above would be repeated again and again when implementing
a lot of components. As you can guess, all the common things can be wrapped with
a framework representing the core code for the components.&lt;/p&gt;
&lt;p&gt;One of the examples of this is jQuery UI. As many other frameworks it provides
API to create your own JavaScript components.&lt;/p&gt;
&lt;h3&gt;Predefined component structure&lt;/h3&gt;
&lt;p&gt;With a component framework a developer uses API and describes a predefined
component structure. All the common things are in the core.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;widget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my.component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    _create&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    destroy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    myMethod&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;High-level patterns&lt;/h3&gt;
&lt;p&gt;Besides predefined structure, frameworks also provide architectural solutions to
different problems.&lt;br/&gt;
For example, with the releaving modules a core can provide an API to extend the
main component functionality.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;widget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ui.dialog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ui&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dialog&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    close&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;confirm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Close???&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;close&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Component frameworks define basics for reusing code and implementing reusable
JavaScript modules.&lt;/p&gt;
&lt;p&gt;Another example of such a high-level component framework is JavaScript part of
&lt;a href=&quot;http://bem.info/&quot;&gt;BEM&lt;/a&gt;. A developer can operate components with OOP common
patterns; create classes, their dynamic and static methods, as well as inherit
component and extend their functionality and reuse basics with super calls.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;BEM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DOM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;decl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-dialog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; baseBlock&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dialog&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        myMethod&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;__base&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myStaticMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    myStaticMethod&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*...*/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;From now on&lt;/h2&gt;
&lt;p&gt;A number of JavaScript frameworks and libraries were created last years.
Generally they contain the solutions to the problems listed and also cover
others, like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;loading by request&lt;/li&gt;
&lt;li&gt;building page &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt; files&lt;/li&gt;
&lt;li&gt;dependency system&lt;/li&gt;
&lt;li&gt;complex component relations and data sharing&lt;/li&gt;
&lt;li&gt;data binding&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With comparing articles like &lt;a href=&quot;http://blog.stevensanderson.com/2012/08/01/rich-javascript-applications-the-seven-frameworks-throne-of-js-2012/&quot;&gt;Rich JavaScript Applications – the Seven
Frameworks&lt;/a&gt;
by Steven Sanderson you can choose the one you like and have a quick look under
the hood.&lt;/p&gt;
&lt;h2&gt;Credits&lt;/h2&gt;
&lt;p&gt;Before I wrap up, let me
thank &lt;a href=&quot;https://github.com/veged&quot;&gt;Sergey Berezhnoy&lt;/a&gt; also known as
&lt;a href=&quot;https://twitter.com/veged&quot;&gt;@veged&lt;/a&gt; for his presentation about creating
JavaScript components. Russian speaking readers can also enjoy the video! &lt;a href=&quot;http://events.yandex.ru/events/yasubbotnik/msk-jul-2012/talks/302/&quot;&gt;
Сергей Бережной, Яндекс
Разные способы создания клиентских
js-компонентов&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript в BEMJSON]]></title><description><![CDATA[Обычно разработка страницы начинается с прототипирования интерфейса и затем
продолжается созданием статической странички при помощи HTML/CSS и элементарного
JavaScript. Если использууется полный стек БЭМ, переход от прототипирования к
полноценному сайту происходит постепенно. Можно склонировать проект
[project-stub](https://github.com/bem/project-stub)
и сделать статическую страницу, об этом уже опубликован
[туториал](http://bem.info/articles/start-with-project-stub/).]]></description><link>http://varya.me/ru/posts/javascript-in-bemjson/</link><guid isPermaLink="false">http://varya.me/ru/posts/javascript-in-bemjson/</guid><content:encoded>&lt;p&gt;Обычно разработка страницы начинается с прототипирования интерфейса и затем
продолжается созданием статической странички при помощи HTML/CSS и элементарного
JavaScript. Если использууется полный стек БЭМ, переход от прототипирования к
полноценному сайту происходит постепенно. Можно склонировать проект
&lt;a href=&quot;https://github.com/bem/project-stub&quot;&gt;project-stub&lt;/a&gt;
и сделать статическую страницу, об этом уже опубликован
&lt;a href=&quot;http://bem.info/articles/start-with-project-stub/&quot;&gt;туториал&lt;/a&gt;.&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Благодаря &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt; вам не нужно писать весь HTML для страницы вручную. Описывая
страницу в BEMJSON, вы экономите время, ведь не нужно писать каждый тег. Но в
случае больших страниц этого мало.&lt;/p&gt;
&lt;p&gt;К счастью, в BEMJSON можно включать JavaScript, результатом которого будет
описание блоков.
Вот пример такой страницы:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Button &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/dynamic-bemjson/blob/master/desktop.bundles/page1/page1.bemjson.js&quot;&gt;полный
код&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Когда страница собирается при помощи &lt;code class=&quot;language-text&quot;&gt;bem-tools&lt;/code&gt;, этот JavaScript создает 10
блоков &lt;code class=&quot;language-text&quot;&gt;button&lt;/code&gt;.
Можете проверить &lt;a href=&quot;http://varya.me/dynamic-bemjson/desktop.bundles/page1/page1.html&quot;&gt;результирующую страницу&lt;/a&gt;
чтобы увидеть их.&lt;/p&gt;
&lt;p&gt;Ещё одним примером может служить блок &lt;code class=&quot;language-text&quot;&gt;menu&lt;/code&gt;. Такой интерфейсный компонент
обычно состоит из множества повторяющихся пунктов с минимальными различиями.
Получается копипаст, которого можно избежать, используя JavaScript в BEMJSON.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;menu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Index&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Products&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Contact&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;menu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    elem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;item&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    mods&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        selected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isSelected
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/dynamic-bemjson/blob/master/desktop.bundles/page2/page2.bemjson.js&quot;&gt;full
code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;В результате получается &lt;a href=&quot;http://varya.me/dynamic-bemjson/desktop.bundles/page2/page2.html&quot;&gt;страница с меню из 3х пунктов&lt;/a&gt;.
Чем больше массив с пунктами меню, тем больше пользы. Особенно если структура
меню меняется в процессе разработки.&lt;/p&gt;
&lt;p&gt;Конечно, этой возможностью не придется пользоваться, если BEMJSON — это
результат первого слоя шаблонов (таких как BEMTREE или priv.js) — там вы можете
произвести столько BEMJSON, сколько требуется. Но на первом этапе разработки,
когда делается статическая страница, трюки с JavaScript в BEMJSON помогут
избежат копипаста.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JSCS in use]]></title><description><![CDATA[This time I would like to share my experience of keeping a codestyle in one of my working projects. This is about a new
tool called **JSCS** which we have recently chosen with the team and now are very pleased with the result.
]]></description><link>http://varya.me/en/posts/jscs-in-use/</link><guid isPermaLink="false">http://varya.me/en/posts/jscs-in-use/</guid><content:encoded>&lt;p&gt;This time I would like to share my experience of keeping a codestyle in one of my working projects. This is about a new
tool called &lt;strong&gt;JSCS&lt;/strong&gt; which we have recently chosen with the team and now are very pleased with the result.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Once I joined &lt;a href=&quot;http://styleguide.sc5.io/&quot;&gt;SC5 Styleguide&lt;/a&gt; project, I discovered that it was not consistent enough from
its codestyle perspective. It was not frightening by that time, but it was already clear that the project was going to
grow fast and the sooner we start bothering about keeping the codestyle the better. I was already aware about JSCS and
its features because had published &lt;a href=&quot;http://frontendbabel.info/articles/jscs-javascript-code-style/&quot;&gt;a translation of author’s tool
introduction&lt;/a&gt; in one of my side-projects. So the
decision which tool to use was made quickly.&lt;/p&gt;
&lt;p&gt;There are indeed many other solutions, such as JSLint and JSHint, the most mentioned once. But let me first tell you a
story.&lt;/p&gt;
&lt;p&gt;Interesting enough that JSHint authors liked JSCS so much that they prefered to contribute into it rather than develop
style checkings in their tool. So they removed all the style enforcement rules out of JSHint and keep it now for
more complex things not about coding style but about programming patterns.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; lang=&quot;en&quot;&gt;&lt;p&gt;And with that, JSCS now has all the style enforcement rules that are
being dropped in &lt;a href=&quot;https://twitter.com/JSHint&quot;&gt;@JSHint&lt;/a&gt; 3.0: &lt;a
href=&quot;https://t.co/W98EMSiTN5&quot;&gt;https://t.co/W98EMSiTN5&lt;/a&gt; cc &lt;a
href=&quot;https://twitter.com/valueof&quot;&gt;@valueof&lt;/a&gt;&lt;/p&gt;&amp;mdash; Mike Sherov (@mikesherov) &lt;a
href=&quot;https://twitter.com/mikesherov/status/419596672520318976&quot;&gt;4 Jan 2014&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;p&gt;This means that there is no question if you choose JSLint, JSHint &lt;strong&gt;or&lt;/strong&gt; JSCS. Currently you can choose between
JSLint and JSHint + JSCS working together.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;jslint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jshint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jscs&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Assuming that JSCS is a new tool with not yet spoiled structure, I suppose that it would be a pleasure to contribute
into it. Also, the tool’s youth promises that future possible bugs would be fixed soon as there is no legacy.&lt;/p&gt;
&lt;p&gt;Moreover, I personally find encouraging that JSCS has been already chosen by such respectable teams as jQuery, Bootsrap
and AngularJS.&lt;/p&gt;
&lt;p&gt;Long story short, JSCS is an npm package. You can install it either globally or locally for a particular project:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install jscs&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Besides, you will need a configuration file &lt;code class=&quot;language-text&quot;&gt;.jscsrc&lt;/code&gt; and define what kind of JavaScript style you prefer for the
project. This file should be put into the root of your project.&lt;/p&gt;
&lt;p&gt;JSCS support tonns of rules. Nethertheless, your config file would not be too heavy thanks to presets. In most cases we
choose from popular JavaScript styles and so there is no need to define the rules over and over again. You only need to
write who you prefer to look like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;airbnb&lt;/li&gt;
&lt;li&gt;crockford&lt;/li&gt;
&lt;li&gt;google&lt;/li&gt;
&lt;li&gt;jquery&lt;/li&gt;
&lt;li&gt;mdcs&lt;/li&gt;
&lt;li&gt;wikimedia&lt;/li&gt;
&lt;li&gt;yandex&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Even if you want to be special, you still can choose the most similar preset and redefine some of its rules below.&lt;/p&gt;
&lt;p&gt;Important thing is that JSCS is already quite a mature thing, which means that you can easily find acompanying packages
and needed plug-ins for editors.&lt;/p&gt;
&lt;h2&gt;The Success Story&lt;/h2&gt;
&lt;p&gt;Assuming these facts, we decided to give JSCS a try. We started with defining a lovely configuration but excluded all
the files from the checking process yet. Our project already had modular structure, so this was easy.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    ...

    &amp;quot;excludeFiles&amp;quot;: [
      &amp;quot;node_modules/**&amp;quot;,
      &amp;quot;src/modules/a/**&amp;quot;,
      &amp;quot;src/modules/b/**&amp;quot;,
      &amp;quot;src/*.js
    ]
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then, we agreed that if any of us starts coding or changing a module, he/she will fix the codestyle and swipe out the
fixed module from the &lt;code class=&quot;language-text&quot;&gt;excludeFiles&lt;/code&gt; list. Following this, we got our files fixed quite fast and even avoid conflicts.&lt;/p&gt;
&lt;p&gt;Keeping the codestyle when maintaining these files lately turned out to be more challengeable. Automatic checkings are
very helpful here, but we needed to decide how strict we should be. The codestyle should not be our main goal instead of
development.&lt;/p&gt;
&lt;p&gt;Finally we came up with “separation of concerns” model. Thus, for the upstream repository we have strict codestyle
policy, and for the forks it is more suggestive. We taught Travis to check codestyle in the pull requests we are
getting. If codestyle is broken, the Travis build fails. So, pull requests with wrong codestyle cannot be merged into
the upstream. This ensures us that we will never get bad code there. However for the forks it is not that strict. We
turned down the idea of using pre-push hooks but recommend a developer to install a pre-commit hook in their repository
clone as well as using JSCS IDE plugins in order to learn about wrong codestyle while developing and not when their pull
request gets broken. These recommendations are described in our documentation for developers and all the team members
follow them.&lt;/p&gt;
&lt;p&gt;Everyone especially likes that JSCS can work with the code editors. The codestyle configuration is stored in the project
repository and so an editor reads on its own. The most wonderful thing is that when switching between the projects with
different codestyles, it does not require any change of settings.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://varya.me/jscs-talk/pictures/sublime.gif&quot;&gt;&lt;/p&gt;
&lt;p&gt;And of course it is always possible to check the codestyle manually running a gulp task.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://varya.me/jscs-talk/pictures/travis.png&quot;&gt;&lt;/p&gt;
&lt;h2&gt;Word of caution&lt;/h2&gt;
&lt;p&gt;We faced a couple of problems when applying the tool. I believe they are worth to be mentioned, especially as I can
provide the solutions.&lt;/p&gt;
&lt;p&gt;The most painful was “out of memory” error when running a gulp task with JSCS checking. Turned out, that excluding files
in the configuration is not enough. Gulp tries to process all the files that match the mask and is soon run out of
memory. We fixed this with using &lt;code class=&quot;language-text&quot;&gt;gulp-ingnore&lt;/code&gt; package:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;#39;jscs&amp;#39;, function() {
  return gulp.src([
    &amp;#39;**/*.js&amp;#39;
  ])
  .pipe(gulpIgnore.exclude([
    &amp;#39;node_modules/**&amp;#39;,
    &amp;#39;demo-output/**&amp;#39;
  ]))
  .pipe(jscs());
})&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is not the best solution because we need to list the excluded files in both &lt;code class=&quot;language-text&quot;&gt;.jscs&lt;/code&gt; configuration and the
&lt;code class=&quot;language-text&quot;&gt;gulpfile.js&lt;/code&gt;. But there is nothing better yet.&lt;/p&gt;
&lt;p&gt;The second trick is about checking the codestyle while watching the project files with Gulp. You would probably like to
see the errors reported in your terminal but still have the &lt;code class=&quot;language-text&quot;&gt;watch&lt;/code&gt; task running. This is possible with the help of
&lt;code class=&quot;language-text&quot;&gt;gulp-plumber&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;#39;jscs&amp;#39;, function() {
  return gulp.src([
    &amp;#39;**/*.js&amp;#39;
  ])
  ...
  .pipe(plumber())
  .pipe(jscs());
});&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is all, we did not face any other problem with the tool. It works just fine and has already saved thousands of
man-hours.&lt;/p&gt;
&lt;h2&gt;Besides&lt;/h2&gt;
&lt;p&gt;If you are interested in the slides for this talk, here they are
&lt;a href=&quot;http://varya.me/jscs-talk/&quot;&gt;http://varya.me/jscs-talk/&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript in BEMJSON]]></title><description><![CDATA[We usually start developing a web site prototyping the interface and then
implementing HTML/CSS and bacis JavaScript. In case
of using the full BEM stack a tranformation from prototype to a functioning web
site goes smoothly. You can clone the project from
[project-stub](https://github.com/bem/project-stub) and create a static web page
as it was [described
earlier](http://bem.info/articles/start-with-project-stub/).
]]></description><link>http://varya.me/en/posts/javascript-in-bemjson/</link><guid isPermaLink="false">http://varya.me/en/posts/javascript-in-bemjson/</guid><content:encoded>&lt;p&gt;We usually start developing a web site prototyping the interface and then
implementing HTML/CSS and bacis JavaScript. In case
of using the full BEM stack a tranformation from prototype to a functioning web
site goes smoothly. You can clone the project from
&lt;a href=&quot;https://github.com/bem/project-stub&quot;&gt;project-stub&lt;/a&gt; and create a static web page
as it was &lt;a href=&quot;http://bem.info/articles/start-with-project-stub/&quot;&gt;described
earlier&lt;/a&gt;.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Thanks to &lt;code class=&quot;language-text&quot;&gt;BEMHTML&lt;/code&gt; templates, you do not need write all the HTML manually.
Describing page sructure in &lt;code class=&quot;language-text&quot;&gt;BEMJSON&lt;/code&gt; rather than writing all the tags manually
saves time. But sometimes this is still a lot of work to do, especially for large
pages.&lt;/p&gt;
&lt;p&gt;Luckily BEMJSON can include JavaScript pieces to produce some blocks dymamically.
I created an example of such usage:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Button &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/dynamic-bemjson/blob/master/desktop.bundles/page1/page1.bemjson.js&quot;&gt;full
code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This JavaScript creates 10 &lt;code class=&quot;language-text&quot;&gt;button&lt;/code&gt; blocks when the page is being built with
&lt;code class=&quot;language-text&quot;&gt;bem-tools&lt;/code&gt;.
Check the &lt;a href=&quot;http://varya.me/dynamic-bemjson/desktop.bundles/page1/page1.html&quot;&gt;result
page&lt;/a&gt;
to see them.&lt;/p&gt;
&lt;p&gt;Another example is a &lt;code class=&quot;language-text&quot;&gt;menu&lt;/code&gt; block. Such interface pieces usually consist of a
lot of items with minor differences which cases a lot of copy-paste on a page.
With JavaScript in BEMJSON this can be easily reduced.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;menu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Index&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Products&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Contact&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    isSelected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    block&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;menu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    elem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;item&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    mods&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        selected&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isSelected
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/dynamic-bemjson/blob/master/desktop.bundles/page2/page2.bemjson.js&quot;&gt;full
code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This gives a &lt;a href=&quot;http://varya.me/dynamic-bemjson/desktop.bundles/page2/page2.html&quot;&gt;page with a menu of 3 items&lt;/a&gt;.
The bigger is the array of items, the more you save. Especially when the structure
of every item changes while developing.&lt;/p&gt;
&lt;p&gt;Indeed, this feature is not needed when BEMJSON is a result of 1st layer templates
(like BEMTREE, priv.js) you can produce as much BEMJSON as is necessary. But with
initial development of a static web page, the JavaScript tricks help to avoid
copy-paste.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Использование JSCS]]></title><description><![CDATA[Хочу поделиться опытом поддержания единого стиля JavaScript в одном из своих проектов. Недавно мы решили пробовать
молодой инструмент JSCS, и результат его использования понравился всем членам команды.
]]></description><link>http://varya.me/ru/posts/jscs-in-use/</link><guid isPermaLink="false">http://varya.me/ru/posts/jscs-in-use/</guid><content:encoded>&lt;p&gt;Хочу поделиться опытом поддержания единого стиля JavaScript в одном из своих проектов. Недавно мы решили пробовать
молодой инструмент JSCS, и результат его использования понравился всем членам команды.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Когда я присоединилась к проекту &lt;a href=&quot;http://styleguide.sc5.io/&quot;&gt;SC5 Styleguide&lt;/a&gt;, мне сразу бросилось в глаза отсутствие
единого стиля для JavaScript кода. Это ещё не было ужасающим, но было ясно, что проект в скором времени будет расти и чем раньше мы начнём
прилагать усилия к соблюдению единого стиля, тем лучше. Тем более, я уже знала о существовании и особенностях JSCS,
потому что на одном из моих проектов &lt;a href=&quot;http://frontendbabel.info/articles/jscs-javascript-code-style/&quot;&gt;публиковался перевод
статьи о нем&lt;/a&gt;. Поэтому мы даже не стояли перед вопросом,
какой инструмент выбрать.&lt;/p&gt;
&lt;p&gt;Конечно, есть и другие решения. Чаще всего называют JSLint и JSHint. Но давайте я сначала расскажу вам одну историю.&lt;/p&gt;
&lt;p&gt;Оказывается, когда авторы JSHint познакомились с JSCS, он им так понравился, что они предпочли стать его
контрибьютерами, чем развивать проверку стиля в своём инструменте. А у себя оставили более сложные штуки, не про стиль,
а про программирование.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; lang=&quot;ru&quot;&gt;&lt;p&gt;And with that, JSCS now has all the style enforcement rules that are
being dropped in &lt;a href=&quot;https://twitter.com/JSHint&quot;&gt;@JSHint&lt;/a&gt; 3.0: &lt;a
href=&quot;https://t.co/W98EMSiTN5&quot;&gt;https://t.co/W98EMSiTN5&lt;/a&gt; cc &lt;a
href=&quot;https://twitter.com/valueof&quot;&gt;@valueof&lt;/a&gt;&lt;/p&gt;&amp;mdash; Mike Sherov (@mikesherov) &lt;a
href=&quot;https://twitter.com/mikesherov/status/419596672520318976&quot;&gt;4 января 2014&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;p&gt;Получается, выбор стоит не между JSLint, JSHint и JSCS, а между JSLint и комбинацией JSHint + JSCS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;jslint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jshint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jscs&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;А учитывая, что инструмент новый, со стройной архитектурой, контрибьютить в него будет одно удовольствие да и меньше
шансов на слишком долгую жизнь багов из-за какого-нибудь непроходимого легаси.&lt;/p&gt;
&lt;p&gt;Вдохновляет также и тот факт, что JSCS уже выбрали такие уважаемые команды как разработчики jQuery, Bootsrap и
AngularJS.&lt;/p&gt;
&lt;p&gt;Итак, JSCS — это npm-пакет, и установить его можно как глобально на свою машину так и локально на конкретный проект:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install jscs&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Кроме того, понадобится создать конфигурационный файл &lt;code class=&quot;language-text&quot;&gt;.jscsrc&lt;/code&gt; и там описать, какого стиля должен придерживаться
JavaScript на вашем проекте. Этот файл помещается в корень проекта.&lt;/p&gt;
&lt;p&gt;Несмотря на большое количество правил, которые поддерживает JSCS, конфиг вряд ли будет большим, потому что в инструменте
предусмотрены пресеты. Популярных стилей для JavaScript кода не так много, и если вы выбрали один из них, то нет нужды
описывать стиль полностью. Достаточно указать, на кого вы хотели бы быть похожим:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;airbnb&lt;/li&gt;
&lt;li&gt;crockford&lt;/li&gt;
&lt;li&gt;google&lt;/li&gt;
&lt;li&gt;jquery&lt;/li&gt;
&lt;li&gt;mdcs&lt;/li&gt;
&lt;li&gt;wikimedia&lt;/li&gt;
&lt;li&gt;yandex&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Даже если у вас есть расхождения с этими стилями, всё равно удобно выбрать максимально похожий пресет, потому что в JSCS
возможно переопределить правила пресета.&lt;/p&gt;
&lt;p&gt;И, конечно, важно, что инструмент уже достаточно зрелый. А значит, есть все необходимые дружественные пакеты и плагины
для разных редакторов.&lt;/p&gt;
&lt;h2&gt;Как это было&lt;/h2&gt;
&lt;p&gt;В общем, учитывая все эти факты, мы остановились на JSCS. Начали с того, что написали подходящую нам конфигурацию и тут
же исключили из списка для проверки все наши файлы. У проекта уже была модульная структура, поэтому это оказалось
несложным.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    ...

    &amp;quot;excludeFiles&amp;quot;: [
      &amp;quot;node_modules/**&amp;quot;,
      &amp;quot;src/modules/a/**&amp;quot;,
      &amp;quot;src/modules/b/**&amp;quot;,
      &amp;quot;src/*.js
    ]
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Мы договорились, что начиная работать с каким-нибудь модулем, кроме реализации фич, мы также будем править стиль и
вычеркивать исправленные модули из списка непроверяемых файлов. Соблюдая это, мы довольно быстро исправили все файлы и
обошлись без конфликтов.&lt;/p&gt;
&lt;p&gt;Гораздо важнее оказалось поддержание исправленных файлов в их исправленном состоянии во время будуших правок. Конечно,
тут нам помогают автоматические проверки. Но возникает вопрос, настолько строги мы должны быть в этих проверках и когда
именно проверять. Ведь поддержка стиля не должна становиться самоцелью и должна перетягивать на себя весь фокус
разработки.&lt;/p&gt;
&lt;p&gt;В итоге мы пришли к концепции раздения ответственности. Так, для основного репозитория мы выбрали жесткую политику
в вопросе соблюдения стиля, а для форков — рекомендательную. Мы настроили Travis так, чтобы он проверял стиль для
пул-реквестов. Если стиль не соблюден, пул-реквест не может быть влит в основной репозиторий. Таким образом, там вообще
никогда нет кода с плохим стилем. В то же время для форков всё гораздо мягче. Мы отказались от насильственных pre-push
хуков с проверкой стиля, но рекомендуем самостоятельную установку pre-commit хука и использование плагинов JSCS для
редакторов, чтобы узнавать об ошибках в процессе разработки, а не тогда, когда ломается пул-реквест. Все рекомендации
написаны у нас в разработческой документации, и новые члены команды активно ими пользуются.&lt;/p&gt;
&lt;p&gt;Всем особенно нравится, как реализована поддержка в редакторах. Ведь конфигурация стиля приезжает в репозиторий проекта
вместе с кодом, и редактор считывает её самостоятельно. А, главное, у разных проектов может быть разный стиль, и для
перекрестной работы не требуется никакая перенастройка.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://varya.me/jscs-talk/pictures/sublime.gif&quot;&gt;&lt;/p&gt;
&lt;p&gt;Ну и, конечно, всегда есть возможность запустить проверку стиля вручную как gulp-таск.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://varya.me/jscs-talk/pictures/travis.png&quot;&gt;&lt;/p&gt;
&lt;h2&gt;Предостережения&lt;/h2&gt;
&lt;p&gt;Во время внедрения инструмента мы столкнулись с парочкой неудобств. Думаю, стоит о них упомянуть, тем более, что к ним
нашлись решения.&lt;/p&gt;
&lt;p&gt;Основное расстройство — ошибка “out of memory” при запуске gulp-таска с проверкой. Оказалось, что недостаточно исключить
файлы в конфигурации JSCS. Gulp всё равно сначала пытается работать с ними всеми и пока дело доходит до JSCS, память уже
кончается. В итоге мы пришли к использованию пакета &lt;code class=&quot;language-text&quot;&gt;gulp-ignore&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;#39;jscs&amp;#39;, function() {
  return gulp.src([
    &amp;#39;**/*.js&amp;#39;
  ])
  .pipe(gulpIgnore.exclude([
    &amp;#39;node_modules/**&amp;#39;,
    &amp;#39;demo-output/**&amp;#39;
  ]))
  .pipe(jscs());
})&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Это не очень хорошее решение, ведь здесь пришлось перечислить все те исключения, которые уже задекларированы в &lt;code class=&quot;language-text&quot;&gt;.jscsrc&lt;/code&gt;.
Но лучшего варианта у нас пока нет.&lt;/p&gt;
&lt;p&gt;И, второй момент: если вы используете watch в разработке, то скорее всего захотите видеть ошибки в терминале, но не
прерывать исполнение таска. Для этого потребуется &lt;code class=&quot;language-text&quot;&gt;gulp-plumber&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;#39;jscs&amp;#39;, function() {
  return gulp.src([
    &amp;#39;**/*.js&amp;#39;
  ])
  ...
  .pipe(plumber())
  .pipe(jscs());
});&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Всё, больше никаких проблем или вопросов относительно иструмента у нас не было. Он прекрасно работает и уже сохранил нам
тысячи человекочасов.&lt;/p&gt;
&lt;h2&gt;А также&lt;/h2&gt;
&lt;p&gt;Возможно, вас также заинтересует &lt;a href=&quot;http://habrahabr.ru/post/220229/&quot;&gt;рассказ автора JSCS&lt;/a&gt; и мои
&lt;a href=&quot;http://varya.me/jscs-talk/&quot;&gt;слайды&lt;/a&gt; от доклада на эту тему.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[An answer to the question which should not have been asked]]></title><description><![CDATA[I never thought that I would write a post about diversity. But as the **unicorn law** says that being a woman in tech you
will be eventually speaking about women in tech, I do so now. However I'm doing this not because it is a strong will of
mine. Something happened which makes me to respond.
]]></description><link>http://varya.me/en/posts/on-the-unicorn-law/</link><guid isPermaLink="false">http://varya.me/en/posts/on-the-unicorn-law/</guid><content:encoded>&lt;p&gt;I never thought that I would write a post about diversity. But as the &lt;strong&gt;unicorn law&lt;/strong&gt; says that being a woman in tech you
will be eventually speaking about women in tech, I do so now. However I’m doing this not because it is a strong will of
mine. Something happened which makes me to respond.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;I was recently speaking at a conference (a very good conference, I must say this) and during the asking session after
the talk I got this question:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;— How to solve the diversity problem and get more women in our industry?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I was absolutely not ready to this question. No wonder, being at stage and giving a presentation already brings a lot of
stress. When it comes to a question session, it is even harder. And the last thing a speaker wants is to get such question.&lt;/p&gt;
&lt;p&gt;This happened to me at the first time, so my response was not correct. In this post I will describe why conference
attendants should not ask this question to female speakers. If you were willing to do so, please read. Maybe you will
change your mind. I will also try to propose a proper respond to future speakers and conference hosts. However, this is
an open question, I believe many can propose much better options. Go ahead in comments :-)&lt;/p&gt;
&lt;h2&gt;Do not ask women in tech about women in tech&lt;/h2&gt;
&lt;p&gt;Although I felt very uncomfortable when getting this question, it was hard to describe in words what exactly was wrong.
So, I made some research across the Internet articles and speaking with friends. This is how I learnt about the unicorn
law formulated by &lt;a href=&quot;http://emmajane.net/&quot;&gt;Emma Jane Westby&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you are a woman in Open Source, you will eventually give a talk about being a woman in Open Source.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was surprised that the problem had been already formulated and number of people had faced it.&lt;/p&gt;
&lt;p&gt;The presentation I gave was not related to gender problems, it was completely technical CSS/JavaScript speech. I am not
a social scientist but a programmer. Moreover, I am not a gender equality activist. I even had never written in my blog
anything related to diversity. So, there is completely no objective reason to ask me questions like that. I was asked
this only because I am a woman.&lt;/p&gt;
&lt;p&gt;This is the first answer on “What is wrong?“. Asking a woman gender related questions because she is a woman is pushing
her to represent her gender. However it was clear that my intention of speaking at the conference was to share my findings
in programming and learn from another programmers. It had nothing to do with my gender.&lt;/p&gt;
&lt;p&gt;Then, this question could be to the point, if I were responsible for bad diversity situation in the industry. And I am
obviously not. I did my part staying on stage and presenting the result of my work when being asked about the solutions
to the problem which I did not cause.&lt;/p&gt;
&lt;p&gt;Another thing, that not being a social scientist I don’t have proper information to develop a good answer. So, the
situation may be described like “a speaker stays on stage in front of hundreds of people looking at her and gets a
question which she clearly is not able to answer”. It is known in advance that I cannot provide any valuable respond to
this question. There would not be any useful information coming from me. The only result was that I was put into an
awkward situation.&lt;/p&gt;
&lt;p&gt;The more relevant thing would be to ask a random female about what they know. For example, something about their
personal experience. However, I still do not suggest this, because questions like “What are the difficulties you faced
as a female developer” are very often too personal to be answered on stage. I think that if not on stage but in a
private conversation, I would not mind a question regarding my gender-in-tech experience.&lt;/p&gt;
&lt;p&gt;If for some reason you would like a random female speaker to answer a gender-equality question publically, it might be a
good idea to formulate it as much related to their work as you could. Something like “How do you solve diversity problem
&lt;strong&gt;in your company&lt;/strong&gt;?” would work better.&lt;/p&gt;
&lt;p&gt;So, the conclusion here is that the best way is not to have sexpectations (thanks my colleague Toni for the word) that
female developers have knowledge in the diversity thing and even are interested in gender equality stuff. Ask them what
you would ask male programmers.&lt;/p&gt;
&lt;h2&gt;For women in tech: how to answer about women in tech&lt;/h2&gt;
&lt;p&gt;As I said, I was not ready for the question. However I felt uncomfortable, I tried to make laugh as I believe that most
conflict situations may be avoided if turned out into a joke. So, I responded:&lt;/p&gt;
&lt;p&gt;— Would you ask me such a question if I were a man? So, my answer is: don’t treat us differently.&lt;/p&gt;
&lt;p&gt;I do not suggest other ladies to reply like that as now I think that it might have sounded too aggressive. Also, if the
person who asked me the question is reading this post, I apologise for such a response.&lt;/p&gt;
&lt;p&gt;The conference host could have help me. But he started to explain why it is a right thing to ask me this question being
based on my gender. I guess this is because the situation was unusual and unexpected for him as well. No one has yet
enough experience in dealing with the stuff. However I believe that killing the discussion is the right thing.
Unfortunately I cannot propose any solution on how exactly to wrap up a case and come to another question. But if you
are going to be a conference host, please, think up.&lt;/p&gt;
&lt;p&gt;Anyway, in a few days already not being under stress and having a chance to deeply think about it, I still did not come
up with an answer. Seriously, it is not that easy.&lt;/p&gt;
&lt;p&gt;I could say “I don’t know”. But these are not the words to pronounce when being on stage. I hope everyone agrees.&lt;/p&gt;
&lt;p&gt;Also I could respond “Sorry, I am not a social scientist”. But I don’t want to make a fool of the person
asking.&lt;/p&gt;
&lt;p&gt;The honest version on the question about how to get more women in tech is “If there are already some ladies who have
chosen to be programmers and came into the industry, just leave them in peace. Maybe they will stay”.&lt;/p&gt;
&lt;p&gt;Any other ideas?&lt;/p&gt;
&lt;p&gt;BTW, this is a good article which helped me a lot to understand my feelings about the situation:
&lt;a href=&quot;https://adainitiative.org/2014/03/breaking-the-unicorn-law-stop-asking-women-in-open-techculture-about-women-in-open-techculture/&quot;&gt;Breaking the Unicorn Law: Stop asking women in open tech/culture about women in open
tech/culture&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Мой опыт изучения английского]]></title><description><![CDATA[Я занимаюсь английским с осени 2008, начала с уровня Elementary, который мне
достался <nobr>со школы</nobr>. Какой уровень сейчас, можете посмотреть в [статьях и
выступлениях](/ru/content/), <nobr>или в коротком</nobr> видео [BEM goes to
India](http://bem.info/blog/2013/02/bem-goes-to-india/).

Многие просят поделиться <nobr>опытом и дать</nobr> совет, <nobr>так что — вот
он</nobr> пост в блог.]]></description><link>http://varya.me/ru/posts/learn-english/</link><guid isPermaLink="false">http://varya.me/ru/posts/learn-english/</guid><content:encoded>&lt;p&gt;Я занимаюсь английским с осени 2008, начала с уровня Elementary, который мне
достался &lt;nobr&gt;со школы&lt;/nobr&gt;. Какой уровень сейчас, можете посмотреть в &lt;a href=&quot;/ru/content/&quot;&gt;статьях и
выступлениях&lt;/a&gt;, &lt;nobr&gt;или в коротком&lt;/nobr&gt; видео &lt;a href=&quot;http://bem.info/blog/2013/02/bem-goes-to-india/&quot;&gt;BEM goes to
India&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Многие просят поделиться &lt;nobr&gt;опытом и дать&lt;/nobr&gt; совет, &lt;nobr&gt;так что — вот
он&lt;/nobr&gt; пост в блог.&lt;excerpt/&gt;&lt;br/&gt;
Отвечаю на самые частые &lt;nobr&gt;вопросы и&lt;/nobr&gt; суммирую свой опыт.&lt;/p&gt;
&lt;h3&gt;Преподаватель: native или русско-язычный?&lt;/h3&gt;
&lt;p&gt;Этот вопрос задают чаще всего. Мой ответ — и тот, и другой.&lt;/p&gt;
&lt;p&gt;Они учат по-разному, и самым мудрым решением будет чередовать их или
заниматься одновременно, если есть такая возможность.&lt;/p&gt;
&lt;p&gt;Native хорош для преодоления барьера. Дело не только в знании языка, но и в
способности объяснить что угодно доступными средствами. Если изучаемый язык —
это единственный язык общения с преподавателем, то вы волей-неволей учитесь
выражать свои мысли &lt;nobr&gt;в условиях&lt;/nobr&gt; ограниченного словарного запаса. Общение с native
учит быстро находить аналогии и простые объяснения сложным вещам.&lt;br/&gt;
С другой стороны, если у вас есть возможность погрузиться в среду без
преподавателя, нет смысла переплачивать за его происхождение.&lt;/p&gt;
&lt;p&gt;Русскоязычный преподаватель хорош тем, что точно знает корни ваших ошибок и
может объяснить тонкости языка с подходящей именно вам позиции.
Например, есть много статей &lt;nobr&gt;и глав&lt;/nobr&gt; &lt;nobr&gt;в книгах&lt;/nobr&gt; по английской грамматике о том,
когда нужно употреблять who, &lt;nobr&gt;а когда —&lt;/nobr&gt; whom (аналогично she/her, he/him и т.д.). Но
у русскоязычных практически никогда не бывает проблем &lt;nobr&gt;с этим&lt;/nobr&gt;, потому что падежи
естественны для нашего родного языка. Гораздо лучше потратить время на необычные
для русского языковые конструкции.&lt;br/&gt;
Так что, русскоязычный преподаватель
заранее знает, какие вещи будут для вас сложны &lt;nobr&gt;из-за&lt;/nobr&gt; вашего происхождения, и
заострит на них внимание. В случае ошибки, он не просто укажет &lt;nobr&gt;на
неё&lt;/nobr&gt;,
но и расскажет &lt;em&gt;почему&lt;/em&gt; вы ошиблись. Это касается и грамматики,
и произношения, &lt;nobr&gt;и лексики.&lt;/nobr&gt;&lt;/p&gt;
&lt;p&gt;С точки зрения квалификации русскоязычный преподаватель почти наверняка будет
лучше, чем native. В основном у нас учат люди, 5 лет учившиеся в
университете именно преподаванию языка.
Тогда как одно только происхождение и знание родного языка &lt;nobr&gt;ещё не
делает&lt;/nobr&gt; человека
хорошим преподавателем. Чтобы убедиться в этом, просто задумайтесь, сможете ли
вы без специальной подготовки научить иностранца русскому.&lt;br/&gt;
При этом можно и среди native найти профессионального преподавателя (у меня была
такая волшебная тётенька), но эти занятия могут быть в 2 раза дороже.&lt;br/&gt;
Хотя нельзя исключать такую вещь как &lt;em&gt;талант&lt;/em&gt;. Несмотря на всё написанное выше,
мой самый лучший преподаватель — native, и у него нет специального образования.&lt;/p&gt;
&lt;h3&gt;Групповые занятия или индивидуальные?&lt;/h3&gt;
&lt;p&gt;Я начинала с групповых занятий, первые 2 года ходила на курсы. В середине 2-го
года начала занятия по Skype, и как только курсы закончились, продолжала заниматься
только индивидуально. Были попытки вернуться к занятиям в группе, но не особо
удачные, об этом ниже.&lt;/p&gt;
&lt;p&gt;Могу однозначно сказать, что индивидуальные занятия или занятия в мини-группах
намного эффективнее. Но с групповых занятий очень хорошо начинать. Также нужно
учитывать, как ещё кроме занятий &lt;nobr&gt;на курсах&lt;/nobr&gt; вы можете тренировать язык. Может так
оказаться, что курсы — ваша единственная возможность для широкой разговорной
практики. Тогда выбор будет другим.&lt;/p&gt;
&lt;h3&gt;На какие курсы пойти?&lt;/h3&gt;
&lt;p&gt;Часто спрашивают, на какие курсы пойти, и я всегда отвечаю «на самые дешевые».
Дело в том, что эффективность занятий в группе на 99,999% зависят от состава и
мотивированности группы. Найти хорошую группу вы можете только случайно, никакой
имидж курсов не может гарантировать вам хороших одногрупников.&lt;/p&gt;
&lt;p&gt;В работе группы очень важна слаженность, всем стоит следовать замыслу
преподавателя, тогда обучение будет самым эффективным. Обычно это означает, что
вы (и все остальные) должны выполнять домашнее задание. Звучит банально, но это
правда самая важная вещь &lt;nobr&gt;в работе&lt;/nobr&gt; группы.&lt;br/&gt;
Люди, не выполняющие домашние задания, забирают деньги у своих одногруппников.
Группа &lt;nobr&gt;не может&lt;/nobr&gt; двигаться дальше, если какая-то её часть, даже меньше половины,
не освоила материал.&lt;/p&gt;
&lt;p&gt;Поэтому не бойтесь придирчиво выбирать группу. Для этого на курсах обычно есть
пробные уроки: если вы хотите присоединиться уже после начала занятий, вам дадут
поприсутствовать на одном уроке.&lt;br/&gt;
Если вы попали в группу, которая тормозит — требуйте перевода в другую. Или
уходите &lt;nobr&gt;с курсов&lt;/nobr&gt;.&lt;br/&gt;
Я практически потеряла свой первый год с безынициативной группой (хотя
преподаватель была просто чудесная) пока не осмелилась попросить перевода в
другую группу, где я сразу увидела разницу.&lt;/p&gt;
&lt;p&gt;По тем же самым причинам я не жалую курсы на работе. Обычно мои коллеги очень
заняты, и &lt;nobr&gt;к занятиям&lt;/nobr&gt; никто не готовится. По крайней мере в тех группах, на
занятиях которых пристуствовала я.&lt;br/&gt;
При этом очень эффективны занятия в группе с подростками: они всегда делают
задание, и у них всегда есть четкое представление, зачем они ходят на курсы.&lt;/p&gt;
&lt;h3&gt;Сколько стоят занятия?&lt;/h3&gt;
&lt;h5&gt;Индивидуальные&lt;/h5&gt;
&lt;p&gt;~1300 с русскоязычным преподавателем за 90 минут, и ~1600 с
носителем языка. Если преподаватель очень крутой (кандидат наук или native с
профессиональным образованием), то цена может быть любой. Я встречала 3500 за 90
минут.&lt;/p&gt;
&lt;h5&gt;Индивидуальные занятия по Skype&lt;/h5&gt;
&lt;p&gt;На специальных сайтах-агрегаторах есть и по 500 рублей за 60 минут. Но учить за такие
деньги будут только тамошние сантехники, рассматривающие преподавание языка как
необременительную подработку. Занятия с опытным native преподавателем
начинаются &lt;nobr&gt;от 1000 рублей&lt;/nobr&gt; &lt;nobr&gt;за 60 минут&lt;/nobr&gt;.&lt;/p&gt;
&lt;h5&gt;Курсы в большой группе&lt;/h5&gt;
&lt;p&gt;Обычная группа — это 10-15 человек. Курсы стоят по-разному, зависит от бренда.
Минимум, который мне удавалось найти, 12 тысяч за семестр (сентябрь-декабрь или
январь-май). &lt;nobr&gt;При этом&lt;/nobr&gt; цена повышается каждый год, и сейчас это уже тысяч 15.&lt;/p&gt;
&lt;h3&gt;Можно ли заниматься без преподавателя?&lt;/h3&gt;
&lt;p&gt;Как правило занятия без преподавателя помогают только поддерживать уровень
языка, &lt;nobr&gt;а не
повышать&lt;/nobr&gt; его. Если только вы специально не нацелены на повышение уровня, о чём я
напишу ниже.&lt;/p&gt;
&lt;p&gt;Также, чем ниже уровень, тем сложнее заниматься без преподавателя. Это
достаточно комфортно на Upper Intermediate и тем более Advanced, но трудно на
Pre-Intermediate.&lt;/p&gt;
&lt;p&gt;И, независимо от уровня, если вы раньше не изучали язык системно и хотите
начать, удобнее сделать это с профессиональной помощью. Кроме самого языка вы
получаете структуру урока, которую в дальнейшем можно будет копировать дома, и
формируете свой режим.&lt;/p&gt;
&lt;h3&gt;Сколько времени это всё занимает?&lt;/h3&gt;
&lt;p&gt;Обычно на каждый уровень требуется один год, если заниматься 2 раза в неделю по
90 минут. Есть интенсивные курсы, где обещают уровень за 3 месяца (примерно 4
занятия в неделю &lt;nobr&gt;по 135 минут&lt;/nobr&gt;). Но всё равно мозг так не работает, после
интенсива нужен перерыв и 3-4 уровня за год невозможны.&lt;/p&gt;
&lt;h3&gt;Как организовать занятия?&lt;/h3&gt;
&lt;p&gt;Ответ на этот вопрос скорее касается управления временем, а не изучения языка.
Просто нужно оценивать насколько для достижения долгосрочной цели важно сейчас
позаниматься или сейчас посмотреть футбол, и решать исходя из приорететов.&lt;/p&gt;
&lt;p&gt;Как минимум, на занятия должно быть выделено время, в том числе и на выполнение
домашнего задания. Хорошо помечать это время в календаре, причем не в ночь до
сдачи задания, а хотя бы за день.&lt;/p&gt;
&lt;p&gt;Первые 2 года я занималась каждый день: 2 раза в неделю &lt;nobr&gt;на курсах&lt;/nobr&gt;, в остальные
дни — домашнее задание и дополнительные уроки. В середине 2-го года стало 2 раза
в неделю &lt;nobr&gt;на курсах&lt;/nobr&gt;, 1 раз в неделю по Skype и остальные 4 дня — домашнее
задание.&lt;/p&gt;
&lt;h3&gt;Что делать, если застрял на одном уровне?&lt;/h3&gt;
&lt;p&gt;Очень эффективный способ сделать рывок — пройти подготовку к сдаче одного из
&lt;a href=&quot;http://ru.wikipedia.org/wiki/ESOL&quot;&gt;кэмбриджских экзаменов&lt;/a&gt;. Сам экзамен можно
не сдавать, тем более, что они сильно платные. Но центры приёма экзамена
проводят и пробные экзамены, стоимость которых в районе &lt;nobr&gt;1000 рублей&lt;/nobr&gt;. &lt;nobr&gt;На
такой&lt;/nobr&gt; репетиции можно примерно оценить свой успех.&lt;/p&gt;
&lt;p&gt;FCE подойдёт для
того, чтобы перейти с Intermediate на Upper Intermediate, CAE — чтобы достичь
уровня Advanced или укрепить его, и CPE для уровня Proficient.&lt;/p&gt;
&lt;p&gt;Я сейчас занимаюсь по программе подготовки к CAE, и могу сказать, что даже на
моём уровне это challenge.&lt;/p&gt;
&lt;h2&gt;Умные мысли&lt;/h2&gt;
&lt;p&gt;Во владении языком я выделяю такие “столпы”:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;словарный запас&lt;/li&gt;
&lt;li&gt;грамматика&lt;/li&gt;
&lt;li&gt;беглость и естественность речи&lt;/li&gt;
&lt;li&gt;восприятие на слух&lt;/li&gt;
&lt;li&gt;произношение&lt;/li&gt;
&lt;li&gt;чувство языка&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;По поводу развития каждого из этих направлений есть свои соображения.&lt;/p&gt;
&lt;h3&gt;Как запоминать новые слова&lt;/h3&gt;
&lt;p&gt;Учить слова не обязательно, но если вы хотите, то можно. Я учу.&lt;/p&gt;
&lt;p&gt;Для запоминания использую метод
&lt;a href=&quot;http://en.wikipedia.org/wiki/Flashcard&quot;&gt;flashcards&lt;/a&gt;. В общем случае это
карточка со словом на одной стороне и переводом на другой. Естественно, в моём
случае “карточки” электронные.&lt;/p&gt;
&lt;p&gt;Я перепробовала множество приложений и для десктопа и для iPhone и остановилась
на Lingvo Tutor (в нём живёт смешной Бобёр), который идёт в комплекте со словарём Lingvo в версии для
Windows. Ради него я всегда держу на своём маке Windows, запущенную в Parallels
в когерентном режиме. А раньше, когда у меня была Ubuntu, я даже как-то хитро
готовила Wine для запуска Tutor. Эти факты должны дать вам понимание того,
насколько хорошим я считаю данное приложение :-)&lt;/p&gt;
&lt;p&gt;Почему именно Бобёр:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;для правильного ответа слово нужно написать, а не выбрать из предложенных
вариантов;&lt;/li&gt;
&lt;li&gt;умеет спрашивать перевод как с английского на русский, так и с русского на
английский;&lt;/li&gt;
&lt;li&gt;озвучивает английские слова;&lt;/li&gt;
&lt;li&gt;показывает транскрипцию.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Необходимость писать слово самостоятельно гарантирует запоминание, а озвучивание
задействует не только визуальную, но и аудиальную память.&lt;/p&gt;
&lt;p&gt;В моём словаре 10 тысяч слов, 6 из них я уже выучила. Цифра условна, потому что
простые слова, знакомые со школы, я туда не заношу.&lt;/p&gt;
&lt;p&gt;В активном изучении у меня 50-100 слов. Они появляются там после занятия с
преподавателем, когда я заношу все новые слова после урока. Это помогает
подготовиться и более эффективно провести следующий урок.&lt;br/&gt;
Если слова слов в активной очереди стало меньше, я добавляю туда слова из
отложенной очереди.&lt;/p&gt;
&lt;p&gt;В отложенную очередь слова попадают из книг, фильмов и интернета. Выученные
слова тоже регулярно перебираются в отложенную очередь в случайном порядке, ведь
их надо регулярно “вспоминать”.&lt;/p&gt;
&lt;p&gt;Среди слов в словаре на изучение много фраз и выражений. Вообще слова удобнее
всего учить фразами.&lt;/p&gt;
&lt;p&gt;Помимо активного пополнения словарного запаса есть ещё и пассивный — из чтения.&lt;/p&gt;
&lt;p&gt;Начинать читать можно с книг по &lt;a href=&quot;http://ru.wikipedia.org/wiki/%CC%E5%F2%EE%E4_%F7%F2%E5%ED%E8%FF_%C8%EB%FC%E8_%D4%F0%E0%ED%EA%E0&quot;&gt;методу Ильи
Франка&lt;/a&gt;.
Затем можно приняться за адаптированные книги издательств Macmillan и Penguin
Readers — у них есть переложенная классика и интересные книжки про
знаменитостей или про историю. Часто такие книжки идут с диском, можно
тренировать и слух.&lt;br/&gt;
И, наконец, читать обычные книги. Это возможно даже на Intermediate. А дальше —
больше. &lt;nobr&gt;С Upper Intermediate&lt;/nobr&gt; можно начинать удивляться языковым конструкциям, с
Advanced — &lt;nobr&gt;по-настоящему&lt;/nobr&gt; наслаждаться верно пойманным словом.&lt;/p&gt;
&lt;p&gt;Когда читаешь, главное не зацикливаться на одной теме, потому что лексику очень
важно набрать из разных областей. Для этих целей у меня дома есть кулинарные
книги, анатомический словарь, учебник по колдовству и монография про
физику оптической передачи данных.&lt;br/&gt;
То же самое касается фильмов и сериалов. Мне было очень интересно смореть
Тюдоров, Рим и оба сериала про Борджиа: в результате около 1000 слов в моём
словаре — религиозные термины или средневековые ругательства. Хорошо бы
перемешать это с терминами из Computer Sience.&lt;/p&gt;
&lt;p&gt;Выровнять свой словарный запас можно и специально читая тексты на разные заранее
подобранные темы:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.english-online.at/a-z-topic-index.htm&quot;&gt;A-Z Topic Index&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ещё один способ пассивно расширять лексикон — подкасты. Конечно, самый
прекрасный подкаст — это &lt;a href=&quot;http://www.eslpod.com/website/index_new.html&quot;&gt;ESL
Pod&lt;/a&gt;. По темпу речи и
разжеванности от расчитан на Intermediate, но я &lt;nobr&gt;всё равно&lt;/nobr&gt; его иногда слушаю —
нравится.&lt;/p&gt;
&lt;p&gt;Ещё подкасты:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.bbc.co.uk/podcasts/series/tae&quot;&gt;The English We Speak&lt;/a&gt; by BBC&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://effortlessenglishclub.com/blog-and-video-podcast&quot;&gt;Effortless English Club&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.npr.org/programs/ted-radio-hour/&quot;&gt;TED Radio Hour&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.npr.org/programs/ask-me-another/&quot;&gt;Ask Me Another&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Занятия грамматикой&lt;/h3&gt;
&lt;p&gt;На уровнях до Upper Intermediate (включительно) нужны отдельные занятия
грамматикой. Обычно задания по грамматике есть в учебниках, но мне кажется, что
этого не достаточно, нужны отдельные книжки и выделенное на грамматику время.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Голицынский, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=6384919&amp;#x26;hid=90829&amp;#x26;show-uid=436135713648985032&quot;&gt;Грамматика&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Raymond Murphy, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=1226404&amp;#x26;hid=90980&amp;#x26;show-uid=430779713648986143&quot;&gt;Essential Grammar in
Use&lt;/a&gt;&lt;br/&gt;
Helen Nayor, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=1226446&amp;#x26;hid=90881&quot;&gt;Essential Grammar in Use Supplementary
Exercises&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Raymond Murphy, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=8186928&amp;#x26;hid=90829&amp;#x26;show-uid=486263413648985591&quot;&gt;English Grammar in
Use&lt;/a&gt;&lt;br/&gt;
Raymon Murphy, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=8404419&amp;#x26;hid=90829&amp;#x26;show-uid=101532013648987912&quot;&gt;English Grammar in Use Supplementary
Exercises&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Martin Hewings, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=1155109&amp;#x26;hid=90980&amp;#x26;show-uid=574557113648988843&quot;&gt;Advanced Grammar in
Use&lt;/a&gt;&lt;br/&gt;
Silmon Haines, &lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=1515345&amp;#x26;hid=90881&amp;#x26;show-uid=574557113648988841&quot;&gt;Advanced Grammar in Use Supplementary
Exercises&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://market.yandex.ru/model.xml?modelid=1454531&amp;#x26;hid=90880&amp;#x26;text=longman%20advanced%20grammar&amp;#x26;srnum=9&quot;&gt;Advanced Learners’
Grammar&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Беглая и естественная речь&lt;/h3&gt;
&lt;p&gt;Единственный способ хорошо заговорить на иностранном языке — это говорить на
нём. Чтение книг и просмотр сериалов, в субтитрами или без — это хорошо. Но это
помогает достичь других целей.&lt;br/&gt;
Что касается речи, нужны места её применения. Это могут быть&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;занятия с англоязычным преподавателем&lt;/li&gt;
&lt;li&gt;couchsurfing&lt;br/&gt;
О своей цели практиковать язык лучше прямо в профайле и написать, так ваши
гости будут знать, чем они могут помочь.&lt;/li&gt;
&lt;li&gt;посещение разговорного клуба&lt;/li&gt;
&lt;li&gt;путешествия&lt;/li&gt;
&lt;li&gt;свой подкаст&lt;/li&gt;
&lt;li&gt;публичные выступления&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Восприятие иностранного языка на слух&lt;/h3&gt;
&lt;p&gt;На начальном этапе восприятие на слух можно тренировать при помощи подкастов
(список выше) и фильмов с субтитрами, постепенно от субтитров отказываясь.&lt;/p&gt;
&lt;p&gt;Но нe для серьёзного развития, начиная с уровня Upper Intermediate (а может и
раньше), нужно слушать непрофессиональных дикторов. Мне очень хорошо подошли
подкасты для программистов. Они бывают самого разного качества, кто-то
записывает свой подкаст &lt;nobr&gt;в гараже&lt;/nobr&gt; на непрофессиональном оборудовании, со всеми
шумами и свистами.&lt;/p&gt;
&lt;p&gt;Если подходящих подкастов нет, восприятие на слух можно тренировать одновременно
с тренировкой речи, разговаривая с живыми людьми. Кроме клубов, для общения
есть &lt;nobr&gt;онлайн-сервисы&lt;/nobr&gt;, например &lt;a href=&quot;http://www.sharedtalk.com/&quot;&gt;SharedTalk.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Кроме того, оказалось, что на способность распознавать чужую речь очень сильно
влияет качество собственного произношения. Так что, я работаю над произношением
не только потому что говорю, но и потому что слушаю.&lt;/p&gt;
&lt;h3&gt;Произношение и интонация&lt;/h3&gt;
&lt;p&gt;Произношение очень сильно влияет на то, как вас понимают люди. Кажется, даже
больше чем общая грамотность и словарный запас.&lt;/p&gt;
&lt;p&gt;Я занимаюсь по книгам &lt;code class=&quot;language-text&quot;&gt;English Pronunciation in Use&lt;/code&gt;. Сначала пробовала
заниматься самостоятельно, но это не дало ощутимых результатов, хотя я очень
старалась. Поэтому эти занятия у меня только под надзором преподавателя.&lt;/p&gt;
&lt;p&gt;Кроме звуков я тренирую интонацию. Это оказалось сложнее и больше влияет на то,
понятно ли я говорю. Я использую для этого звукозаписывающие программы. Обычно
повторяю за диктором  (тут как раз важно выбрать профессионала или нейтива)
каждое предложение, всё записываю. Потом проигрываю подряд сначала диктора,
потом себя. Слышу разницу &lt;nobr&gt;и записываю&lt;/nobr&gt; снова. &lt;nobr&gt;И так&lt;/nobr&gt; миллион раз. Прогресс очень
медленный, но я &lt;nobr&gt;не нашла&lt;/nobr&gt; способа сделать лучше.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Patterned triangles with  CSS]]></title><description><![CDATA[
As you might know, I recently run the [BEM
LOVE](https://github.com/toivonen/bem-love) project to demonstrate how blocks
can communicate with JavaScript.]]></description><link>http://varya.me/en/posts/patterned-triangle/</link><guid isPermaLink="false">http://varya.me/en/posts/patterned-triangle/</guid><content:encoded>&lt;p&gt;As you might know, I recently run the &lt;a href=&quot;https://github.com/toivonen/bem-love&quot;&gt;BEM
LOVE&lt;/a&gt; project to demonstrate how blocks
can communicate with JavaScript.&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;The first example is dull enough; &lt;a href=&quot;http://toivonen.github.com/bem-love/desktop.bundles/ask-her-what-music-she-likes/ask-her-what-music-she-likes.html&quot;&gt;a boy, a girl and the heartless
world&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Today, I was going to start with another one with a boy plunging into
difficulties of choice. He has &lt;a href=&quot;http://toivonen.github.com/bem-love/desktop.bundles/choose-the-one/choose-the-one.html&quot;&gt;two girls to
ask&lt;/a&gt;.
Suddenly there is a &lt;strong&gt;challenge for you&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Let’s think if it’s possible to attract a boy with a booooooring one-colour
dress? Seems like no.&lt;br/&gt;
So, the girls in the page are in need of nice patterned dresses. Any ideas on
how to code a patterned triangle in CSS?&lt;/p&gt;
&lt;h3&gt;Where to code?&lt;/h3&gt;
&lt;p&gt;To dress the girls excellenty and toppingly you need just three steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fork the project and &lt;a href=&quot;https://github.com/toivonen/bem-love#how-to-contribute&quot;&gt;run the
server&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/toivonen/bem-love/tree/master/desktop.bundles/choose-the-one/blocks/girl/_dressed&quot;&gt;Contribute to modifiers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Make your pull request&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Tag cloud of random sizes in pure CSS]]></title><description><![CDATA[Last week I faced a need to make a fake tag cloud, where the words need to be of different size. This was needed for
a presentation slide, and as my slides are always in HTML/CSS, must be implemented with these technologies. It is always
possible to inject some JavaScript and code anything. But what about pure CSS, do we get random sizes there?

]]></description><link>http://varya.me/en/posts/pseudo-tag-cloud-css/</link><guid isPermaLink="false">http://varya.me/en/posts/pseudo-tag-cloud-css/</guid><content:encoded>&lt;p&gt;Last week I faced a need to make a fake tag cloud, where the words need to be of different size. This was needed for
a presentation slide, and as my slides are always in HTML/CSS, must be implemented with these technologies. It is always
possible to inject some JavaScript and code anything. But what about pure CSS, do we get random sizes there?&lt;/p&gt;
&lt;excerpt/&gt;
&lt;div class=&quot;testings&quot; markdown=&quot;1&quot;&gt;
&lt;ul class=&quot;cloud&quot;&gt;
&lt;li&gt;performance testing&lt;/li&gt;
&lt;li&gt;stress testing&lt;/li&gt;
&lt;li&gt;conformance testing&lt;/li&gt;
&lt;li&gt;acceptane testing&lt;/li&gt;
&lt;li&gt;smoke testing&lt;/li&gt;
&lt;li&gt;regression testing&lt;/li&gt;
&lt;li&gt;white box testing&lt;/li&gt;
&lt;li&gt;functional testing&lt;/li&gt;
&lt;li&gt;system testing&lt;/li&gt;
&lt;li&gt;black box testing&lt;/li&gt;
&lt;li&gt;load testing&lt;/li&gt;
&lt;li&gt;compatibility testing&lt;/li&gt;
&lt;li&gt;unit testing&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;style&gt;
.testings {
    text-align: center;
    width: 400px;
}
.testings .cloud {
    display: inline;
    list-style-type: none;
    width: 400px;
}
.testings .cloud li {
    list-style: none;
    display: inline;
}

/* Random sizes */

.testings .cloud li:nth-of-type(3n + 1) {
    font-size: 1.25em;
}
.testings .cloud li:nth-of-type(4n+3) {
    font-size: 1.5em;
}
.testings .cloud li:nth-of-type(5n - 3) {
    font-size: 1em;
}

&lt;/style&gt;
&lt;p&gt;The tag cloud you see above is what I get. You may notice it’s not real random; after refreshing you will always get the
same result. But still looks like a tag cloud of different sizes and works perfectly as an example.&lt;/p&gt;
&lt;p&gt;This is a list, it’s easy to generate from markdown:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;cloud&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;performance testing&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;stress testing&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;conformance testing&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;acceptane testing&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;smoke testing&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    ...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then, flattened as usual:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.cloud&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;list-style-type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 400px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.cloud li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;list-style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And then different sizes are made with a few &lt;code class=&quot;language-text&quot;&gt;nth-of-type&lt;/code&gt; combined in different variants:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.cloud li:nth-of-type(3n + 1)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1.25em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.cloud li:nth-of-type(4n+3)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1.5em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.cloud li:nth-of-type(5n - 3)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;I tuned the &lt;code class=&quot;language-text&quot;&gt;nth-of-type&lt;/code&gt; values so that it would look nicely. Depending on the length of the words used, you may need
to play arownd with the values and maybe use more than 3 sizes.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Simple React Angular project]]></title><description><![CDATA[
Earlier this year, I participated in a development of a single page application. With the team, we started this
project from scratch. This situation was the most suitable to practice the new technologies.

The stack I've tried was React + ES2015 + postcss + webpack. However, keeping in mind that most of the
team (who were supposed to maintain the project later) are mainly experienced in Angular, I was looking for some
sort of combination of these frameworks.

]]></description><link>http://varya.me/en/posts/react-angular-project/</link><guid isPermaLink="false">http://varya.me/en/posts/react-angular-project/</guid><content:encoded>&lt;p&gt;Earlier this year, I participated in a development of a single page application. With the team, we started this
project from scratch. This situation was the most suitable to practice the new technologies.&lt;/p&gt;
&lt;p&gt;The stack I’ve tried was React + ES2015 + postcss + webpack. However, keeping in mind that most of the
team (who were supposed to maintain the project later) are mainly experienced in Angular, I was looking for some
sort of combination of these frameworks.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;p&gt;Finally, I made a project with React used for the view and Angular governing the data layer. I
believe that such project is ideal for the a bridge role. Often happens that the development team has a
strict deadline. There is no time to invent new rocket science approaches. However, we can introduce them gradually.&lt;/p&gt;
&lt;p&gt;For that project, I decided that we can introduce React with ES2015. The project structure is easy to refactor
into a React-only project in the next iterations.&lt;/p&gt;
&lt;p&gt;I cannot share the exact code of the project, but I created a dummy repository with the same structure:
&lt;a href=&quot;https://github.com/varya/angular-react-stub&quot;&gt;varya/angular-react-stub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A new project may be forked/copied from it. After installation of the required npm packages, the development starts with
running&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It starts a local server that builds of html, js and css files related to the project. The magic
happens with &lt;code class=&quot;language-text&quot;&gt;webpack&lt;/code&gt;. Let me explain it below.&lt;/p&gt;
&lt;p&gt;For now, let’s concentrate on the file structure.&lt;/p&gt;
&lt;p&gt;A human produced code of the project is placed in the &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt; folder.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/

  _helpers/

  modules/
    menu/
      menu.component.js
      menu.css

  pages/
    contact/
      contact.ctrl.js
      contact.html

  index.html
  index.js&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/varya/angular-react-stub/blob/3870766a28adb61fc2f1fc86fbfbe538c00da1f9/src/index.js&quot;&gt;index.js&lt;/a&gt; file
is ‘entering point’ of the building process. Here, the webpack finds out what the modules required for the
app are.&lt;/p&gt;
&lt;p&gt;In this file, I create an Angular application and define the rules for routing. Roughly, each routing path corresponds
to its page. It takes a page template (an &lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt; file) and a page controller (a &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; module), and make them work
together.&lt;/p&gt;
&lt;p&gt;To keep everything neat, I made &lt;code class=&quot;language-text&quot;&gt;pages&lt;/code&gt; folder, where each page has a subfolder with a template
and a controller.&lt;/p&gt;
&lt;p&gt;The controller is normal Angular code. It manipulates the data for future usage in the view. Also, controller is
responsible for extraction the data fromthe server and any transformation of it.&lt;/p&gt;
&lt;p&gt;However, the given example contains no such
heavy code. Anyway, you can see how the &lt;code class=&quot;language-text&quot;&gt;$scope&lt;/code&gt; is filled in
&lt;a href=&quot;https://github.com/varya/angular-react-stub/blob/3870766a28adb61fc2f1fc86fbfbe538c00da1f9/src/pages/components/components.ctrl.js&quot;&gt;pages/components/components.ctrl.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The data from &lt;code class=&quot;language-text&quot;&gt;$scope&lt;/code&gt; is accessible in the template. From &lt;a href=&quot;https://github.com/varya/angular-react-stub/blob/3870766a28adb61fc2f1fc86fbfbe538c00da1f9/src/pages/components/components.html&quot;&gt;pages/components/components.html&lt;/a&gt;
you can see how it is passed down to the only used Angular directive, &lt;code class=&quot;language-text&quot;&gt;react-component&lt;/code&gt;. This directive is a bridge
between Angular-cooked data and React-operated view. In the directive you declare what React component to render and
pass the properties to it. After that, the React component operates independently from the Angular.&lt;/p&gt;
&lt;h2&gt;Modules&lt;/h2&gt;
&lt;p&gt;There is a special &lt;code class=&quot;language-text&quot;&gt;modules&lt;/code&gt; folder at the same level as &lt;code class=&quot;language-text&quot;&gt;pages&lt;/code&gt;. It contains all the React modules used in the
application. The modules can be complex and include other modules. However, the file structure is flat. Each component
is represented by a folder with its JavaScript file and any other related content inside. Often, it is CSS, however
the pictures and other required stuff may be in the same folder.&lt;/p&gt;
&lt;p&gt;You can check out a typical component code in the file
&lt;a href=&quot;https://github.com/varya/angular-react-stub/blob/3870766a28adb61fc2f1fc86fbfbe538c00da1f9/src/modules/menu/menu.component.js&quot;&gt;modules/menu/menu.component.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that the required CSS is imported in the JavaScript as&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import styles from &amp;#39;./menu.css&amp;#39;;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is one of the webpack’s features which makes developing with it so awesome. A component declares the CSS it uses.
Then, the bundled CSS is built according to these declarations. In refactoring, the process will
automatically exclude out-of-date CSS if its module is no longer in use.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/angular-react-stub/blob/3870766a28adb61fc2f1fc86fbfbe538c00da1f9/webpack.config.js&quot;&gt;webpack.config.js&lt;/a&gt;
stores the data what files to process and how to do it.
It gets the file types from their extensions. Thus, &lt;code class=&quot;language-text&quot;&gt;*.js&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;*.jsx&lt;/code&gt; files are ES2015 and transform
into plain JavaScript. &lt;code class=&quot;language-text&quot;&gt;*.html&lt;/code&gt; files are inserted as raw strings. This is why they can be used as Angular templates.
&lt;code class=&quot;language-text&quot;&gt;*.css&lt;/code&gt; files are required as styles but first transform with Postcss. I also use &lt;code class=&quot;language-text&quot;&gt;precss&lt;/code&gt; as a plugin, which
makes possible to enjoy most of the usual pre-processing features.&lt;/p&gt;
&lt;p&gt;This covers pretty much all about the basic structure. A real project can use external libraries and modules as
well as have more complex building process. But here is its starting point: &lt;a href=&quot;https://github.com/varya/angular-react-stub/&quot;&gt;varya/angular-react-stub&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Materials for your React hackathon]]></title><description><![CDATA[
Being a frontend developer these days means to learn the new things every day. We read articles and blog posts,
examine the changelogs, follow the Twitter announcements and participate in the GitHub discussions.
This helps to keep up.

However,
when it comes to something bigger, like the exploring of a new framework or an ecosystem, it is not enough.
The perfect solution is to organize a whole day hackathon for the developers in your company.
At SC5 online, we took this advantage mastering the React development. Few ecosystem components such as
webpack and redux came along.

]]></description><link>http://varya.me/en/posts/react-hackathon-materials/</link><guid isPermaLink="false">http://varya.me/en/posts/react-hackathon-materials/</guid><content:encoded>&lt;p&gt;Being a frontend developer these days means to learn the new things every day. We read articles and blog posts,
examine the changelogs, follow the Twitter announcements and participate in the GitHub discussions.
This helps to keep up.&lt;/p&gt;
&lt;p&gt;However,
when it comes to something bigger, like the exploring of a new framework or an ecosystem, it is not enough.
The perfect solution is to organize a whole day hackathon for the developers in your company.
At SC5 online, we took this advantage mastering the React development. Few ecosystem components such as
webpack and redux came along.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;p&gt;The private companies have hard time to find an opportunity and organize such event.
Moreover, the preparations for the hackathon consume a lot of resources. To ease the hardship, I’ve decided to share
the materials that I prepared for our event. The hackathon plan and the detailed description of slides are given below.
hackathon. Below you can find the hackathon plan and the slides explained.&lt;/p&gt;
&lt;p&gt;It is the presentation that I used for a pre-coding section:
&lt;a href=&quot;http://varya.me/reactjs-hackathon/&quot;&gt;varya.me/reactjs-hackathon&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;At the moment, the slides were hosted online, and before starting I provided a short link to them.
During the coding event, the developers need a bunch of online materials, including starting projects, documentation,
tips and tricks. The links to these meterials were inserted in my presentation, and it was important to let the others
check them out. Also, we had a special Slack channel where the links were shared one more time.&lt;/p&gt;
&lt;p&gt;The next slide showed the plan of event to the participants:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;About the event&lt;/li&gt;
&lt;li&gt;Choosing the projects&lt;/li&gt;
&lt;li&gt;Introduction to React&lt;/li&gt;
&lt;li&gt;Stub projects&lt;/li&gt;
&lt;li&gt;Linking UI libraries&lt;/li&gt;
&lt;li&gt;React Native&lt;/li&gt;
&lt;li&gt;Relay&amp;#x26;GraphQL&lt;/li&gt;
&lt;li&gt;Coding&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The slides included everything listed besides the coding part, which was devoted directly to the development.
Altogether, the presentation took about 50 minutes. This amount of time ensured that I made all the needed
introductions. Also, it was not too long to make people bored.&lt;/p&gt;
&lt;p&gt;On the next stage, I offered the applications that we could write using React during the event.&lt;/p&gt;
&lt;p&gt;Here are the listed options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instagram-like&lt;/li&gt;
&lt;li&gt;Twitter dashboard&lt;/li&gt;
&lt;li&gt;Shopping list&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://kipp.is/map&quot;&gt;Bars on map&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://claudiopro.github.io/2048-react/&quot;&gt;2048&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Tetris&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://reake-react-snake.firebaseapp.com/&quot;&gt;Snake game&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Your own idea&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I believe that the product goals should be defined at the start. It is especially important for the React hackathon.
People start to think how they would code it in the way they are used to work. When it comes to React, they are
impressed by the elegance and easiness of the approach.&lt;/p&gt;
&lt;p&gt;After that, I provided the links to the official documentation and tutorials. It is evident that even whole day event
is not sufficient to learn how to work with a new framework. However, it lets ignite an initial interest that can lead
to the following independet research. A link to an interesting tutorial can be the first step.&lt;/p&gt;
&lt;p&gt;At the time of hackathon, some developers had a React experience, some have read the articles, and some at least heard
about the approach. The hackathon is not a ‘teach-you-how’ workshop but a collaborative and even team-building event.
This why I wanted all the people to be involved.&lt;/p&gt;
&lt;p&gt;When giving
a presentation, you can make a contact with the audience by asking the questions. Moreover, you can add the given
answers into the presentation on-the-go. One of my slides had the same a title as the famous Reddit’s question
’&lt;a href=&quot;https://www.reddit.com/r/javascript/comments/2uvz0x/whats_so_great_about_reactjs/&quot;&gt;What is so great about React.js&lt;/a&gt;’.
I wrote the answers from the audience into a big textarea in the slide. It visualised the contribution that everyone
made in the introduction.&lt;/p&gt;
&lt;p&gt;When it came to the React buzz words, we had not a solo talk but a proper discussion.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ES2015 (ES6)&lt;/li&gt;
&lt;li&gt;React&lt;/li&gt;
&lt;li&gt;webpack&lt;/li&gt;
&lt;li&gt;Flux / Redux&lt;/li&gt;
&lt;li&gt;Relay &amp;#x26; GraphQL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To save the developers’ time in the codung section, I gave the definitions and explanations in advance.
Also, the most of the applications usually start with cloning the starter project. In the hackathon, I aimed not to give
a fish but to teach how to fish. To do that, I provided the link to the starter kit search:
&lt;a href=&quot;http://andrewhfarmer.com/starter-project/&quot;&gt;andrewhfarmer.com/starter-project&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, we were limited in our time, so I explained some essentials and shortcuts for the efficient start.&lt;/p&gt;
&lt;p&gt;The top priority of the hackathon was diving into React ecosystem. The ultimate goal was to write an application
using ES2015 (aka ES6), build it with webpack and use Readux. However, it might have been too complicated for the
React beginners, and I did not want to exclude them.&lt;/p&gt;
&lt;p&gt;To ensure the inclusiveness, I recommended the simplest React starter kit. Many developers did not realise that they
can code React applications by linking two scripts hosted at CDN that is similar to write-on-jQuery approach.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://fb.me/react-0.14.7.js&quot;&lt;/span&gt;
    integrity&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sha384-xQae1pUPdAKUe0u0KUTNt09zzdwheX4VSUsV8vatqM+t6X7rta01qOzessL808ox&quot;&lt;/span&gt;
    crossorigin&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;anonymous&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://fb.me/react-dom-0.14.7.js&quot;&lt;/span&gt;
    integrity&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sha384-A1t0GCrR06cTHvMjaxeSE8XOiz6j7NvWdmxhN/9z748wEvJTVk13Rr8gMzTUnd8G&quot;&lt;/span&gt;
    crossorigin&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;anonymous&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With these two scripts and a single one local JavaScript file, you can follow &lt;a href=&quot;https://facebook.github.io/react/downloads.html&quot;&gt;the official documentation&lt;/a&gt;
and start your React application right away.&lt;/p&gt;
&lt;p&gt;The other option is suited for those who are comfortable with builders and don’t want to dedicate their time
for sort out ES2015 and prefer plain JavaScript. When I’ve started with React, I dived deeply into the new
things. However it took some time, which is not availabe during the one day event.
So, ‘ES5 + builder’ solution is reasonable for the developers who want get their hands on React quickly.
To provide the different options, I gave the links to the other starter kits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/petehunt/ReactHack&quot;&gt;with webpack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/artyomtrityak/react-hackathon&quot;&gt;with gulp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The last stubs ‘ES2015 + webpack’ type. I’ve given two:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/pheuter/essential-react&quot;&gt;Essential&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/react-stub&quot;&gt;varya/react-stub&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ES2015, BEM, PostCSS, webpack&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Despite the existence of a good starter project Essential, I’ve created my own and recommended it.
I keep it minimalistic, so there is no redux linking there. I believe that the first project is better without
exessive complexity.&lt;/p&gt;
&lt;p&gt;One more reason to create my starter kit was to demonstrate the different UI libraries linked and used
within the React project. Honestly, I don’t see any ideal solution for the React UI library yet.
The ecosystem misses a crucial part, but the existing libraries can help at the initial bootstrapping stage.
Moreover, it provides a knowledge to use when it comes to building your own UI library for the React projects.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://react-toolbox.com/#/&quot;&gt;React ToolBox&lt;/a&gt; -
&lt;a href=&quot;https://github.com/varya/react-stub/tree/with-react-toolbox&quot;&gt;react-stub@with-react-toolbox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.material-ui.com/#/&quot;&gt;Material UI&lt;/a&gt; -
&lt;a href=&quot;https://github.com/varya/react-stub/tree/with-material-ui&quot;&gt;react-stub@with-material-ui&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nikgraf.github.io/belle/#/?_k=xvldj2&quot;&gt;Belle&lt;/a&gt; -
&lt;a href=&quot;https://github.com/varya/react-stub/tree/with-belle&quot;&gt;react-stub@with-belle&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To demonstrate how React works with UI libraries, I prepared a branch for each option. These branches
are in the public GitHub repository and available for using. Also, I was able to run the code on my computer
and show how the application changes after I alter the code.&lt;/p&gt;
&lt;p&gt;Live coding section always makes a good impression. Moreover, it connects the theory with actual coding.&lt;/p&gt;
&lt;p&gt;Before the development, I provided the dummy JSONs for the applications based on the
third-party services data (Instagram or Twitter). That helped the developers to be focused on React rather
than exploring APIs.&lt;/p&gt;
&lt;p&gt;During the hackathon, we had React Native and Relay &amp;#x26; GraphQL sections for the advanced React users. These topics
were covered by my colleague &lt;a href=&quot;https://fi.linkedin.com/in/anssiherranen&quot;&gt;Anssi Herranen&lt;/a&gt; and our quest &lt;a href=&quot;https://fi.linkedin.com/in/freiksenet&quot;&gt;Mikhail
Novikov&lt;/a&gt; from &lt;a href=&quot;https://www.reindex.io/&quot;&gt;Reindex&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After all the presentations, it was time to code. It is important that the hackathon organizers take care of the
developers’ basic needs and let the people be focused on the programming. I’m thankful for our Head of Technology
&lt;a href=&quot;https://fi.linkedin.com/in/laurisvan&quot;&gt;Lauri Svan&lt;/a&gt; for ordering pizza and drinks, and organizing the people.
The developers can stay active much longer if they are taken care.&lt;/p&gt;
&lt;p&gt;As a result of our hackathon, some developers came up with the applications and demostrated them in the demo part.
The others got stable base to continues their studies later. And no doubt we all had huge fun.&lt;/p&gt;
&lt;p&gt;Feel free to take my presentation and materials for a hackathon in your company or at the community meeting. React
rocks! :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Simple yet promising structure for React/Redux project]]></title><description><![CDATA[
Two weeks ago, I have started a new project of migrating a large website to React. Although this is not developing from
scratch but refactoring, there still was a great chance to reconsider the project file structure in its client part.

As a proof-of-concept, I have chosen a pair of components: shopping cart and adding button. This is e-commerce what we
are building here :-) My initial goal was to create simple components and demonstrate their reusing as well as introduce
Redux as a glue to the components in the data area. As a result, I think I provided a nice and neat structure which
helps a developer to understand what serves what. On the other hand, I tried to keep it simple. In the beginning, there
is no need in overcomplicated.

]]></description><link>http://varya.me/en/posts/react-redux-simple-project/</link><guid isPermaLink="false">http://varya.me/en/posts/react-redux-simple-project/</guid><content:encoded>&lt;p&gt;Two weeks ago, I have started a new project of migrating a large website to React. Although this is not developing from
scratch but refactoring, there still was a great chance to reconsider the project file structure in its client part.&lt;/p&gt;
&lt;p&gt;As a proof-of-concept, I have chosen a pair of components: shopping cart and adding button. This is e-commerce what we
are building here :-) My initial goal was to create simple components and demonstrate their reusing as well as introduce
Redux as a glue to the components in the data area. As a result, I think I provided a nice and neat structure which
helps a developer to understand what serves what. On the other hand, I tried to keep it simple. In the beginning, there
is no need in overcomplicated.&lt;/p&gt;
&lt;excerpt/&gt;
In this post, I present the initial state of the project structure, extracted from the working repository. In our actual
project, it has already evolved to use other patterns and helping tools. I hope I will make it to present these changes
in the following posts.
&lt;p&gt;The demonstrative extract is a public repository at
&lt;a href=&quot;https://github.com/varya/react-redux-project&quot;&gt;varya/react-redux-project&lt;/a&gt;. To run it locally, you need to check it out
run &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; and then &lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt;. You will see a page, similar to what is &lt;a href=&quot;http://varya.me/react-redux-project/index.html&quot;&gt;hosted
here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this page, two React components are sharing one data store. You can see how the number in &lt;code class=&quot;language-text&quot;&gt;Cart&lt;/code&gt; increments every
time you click a button.&lt;/p&gt;
&lt;p&gt;Now, let’s have a look at the project file structure. You will find all the source files in &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt; folder in the
repository:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  components/
    AddToCartButton/
    Button/
    Cart/
    Icon/
  containers/
    AddToCartButton/
  redux/
    modules/
      cart.js
      reducer.js
  index.js&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt; folder is dedicated for representative, “static” components. The components can reuse one another. For
example, in the project, the &lt;code class=&quot;language-text&quot;&gt;AddToCartButton&lt;/code&gt; wraps the &lt;code class=&quot;language-text&quot;&gt;Button&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;On the file system, each component is a folder. Inside there are usually &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;, almost always &lt;code class=&quot;language-text&quot;&gt;style.css&lt;/code&gt; and other
files such as images if needed. I used to name the JavaScript file by the component name, like &lt;code class=&quot;language-text&quot;&gt;Button.js&lt;/code&gt; and
&lt;code class=&quot;language-text&quot;&gt;Button.css&lt;/code&gt;. But in this
project, I tried more unified structure. It turned out to be very handy, especially in the beginning, when we make a lot
of small components. Now the component folders can be copied and renamed easily.&lt;/p&gt;
&lt;p&gt;Next folder is named &lt;code class=&quot;language-text&quot;&gt;containers&lt;/code&gt;. It is for the wrappers around the components. These wrappers often have the same
names. Unlike representative components, which only know about how to render the data, the containers are for getting
the data and passing it down. Technically the containers are also React components, but they are decorated with
&lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; from Redux. This provides the glue for view and data. You can see typical container here:
&lt;a href=&quot;https://github.com/varya/react-redux-project/blob/eb0e7a24ba8a723ce373d3763c299b95661fdfc6/src/containers/AddToCartButton/index.js&quot;&gt;src/containers/AddToCartButton&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the data, the containers use reducers from Redux. The project is made in a hope for future growing. This is why the
reducers are divided into modules (meaning, separate files) according to what are the entities they operate with. They
are stores in &lt;a href=&quot;https://github.com/varya/react-redux-project/tree/master/src/redux/modules&quot;&gt;src/modules&lt;/a&gt; directory. It
has yet one module and the
&lt;a href=&quot;https://github.com/varya/react-redux-project/blob/master/src/redux/modules/reducer.js&quot;&gt;src/modules/reducer.js&lt;/a&gt; which
combines them all.&lt;/p&gt;
&lt;p&gt;Take a look at the module code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cart/ADD&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  goods&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ADD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        goods&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;goods
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ADD&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This style of organizing reducers is called &lt;a href=&quot;https://github.com/erikras/ducks-modular-redux&quot;&gt;Ducks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The entering file of the application &lt;a href=&quot;https://github.com/varya/react-redux-project/blob/master/src/index.js&quot;&gt;src/index.js&lt;/a&gt;
takes the components or containers, makes the Redux store and creates the app with them. In here, you can also decorate
representative components with Redux’ &lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; if they do not have a special container.&lt;/p&gt;
&lt;p&gt;As the following weeks showed, this structure turned out to be very convenient. Of course, it has evolved more. I hope
to cover the changes in the next posts.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Run on time (about Mac applications)]]></title><description><![CDATA[I use the same laptop for both work and personal needs. This is useful but makes me see to keeping my
work-life balance. I do this simply — turn off all the applications running when I finish my working day
in the evening. The only issue is not to forget to open them again next day. But this process can be automatized. :-)
]]></description><link>http://varya.me/en/posts/run-app-in-time-on-mac/</link><guid isPermaLink="false">http://varya.me/en/posts/run-app-in-time-on-mac/</guid><content:encoded>&lt;p&gt;I use the same laptop for both work and personal needs. This is useful but makes me see to keeping my
work-life balance. I do this simply — turn off all the applications running when I finish my working day
in the evening. The only issue is not to forget to open them again next day. But this process can be automatized. :-)
&lt;excerpt/&gt;
The most important is to run the applications which are in use by the other team members. For example, I a Jabber app
has to be running since the workday has started. The same goes for any other messenger.&lt;/p&gt;
&lt;p&gt;We here at AppGyver use &lt;a href=&quot;https://www.flowdock.com&quot;&gt;Flowdock&lt;/a&gt;
for team communication. So I needed to be sure that it is open every morning.&lt;/p&gt;
&lt;p&gt;It turned out that this is doable on Mac with the native Calendar application. Let me show you how exactly.&lt;/p&gt;
&lt;h3&gt;Create a new event in the Calendar&lt;/h3&gt;
&lt;p&gt;I named mine “Run Flowdock”. Do not bother about the laptop being opened by the event time your are setting up. The
application can run in advance. My event has &lt;code class=&quot;language-text&quot;&gt;9:35&lt;/code&gt; time.&lt;/p&gt;
&lt;h3&gt;Make your event repeated&lt;/h3&gt;
&lt;p&gt;This event should be repeated every week at the workdays.&lt;/p&gt;
&lt;h3&gt;Run the application&lt;/h3&gt;
&lt;p&gt;Now the most interesting thing. You can run any application using custom event alerts.&lt;/p&gt;
&lt;p&gt;Choose the last item in the &lt;code class=&quot;language-text&quot;&gt;alert&lt;/code&gt; select, which is &lt;code class=&quot;language-text&quot;&gt;Custom&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4802/14441195.32/0_88921_7d53950e_L.png&quot; width=&quot;300&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Once the next dialog is opened, choose &lt;code class=&quot;language-text&quot;&gt;Open file&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4813/14441195.32/0_88925_47986a79_M.png&quot; width=&quot;300&quot; height=&quot;167&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/5109/14441195.32/0_88924_ea39983e_M.png&quot; width=&quot;300&quot; height=&quot;162&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;By &lt;code class=&quot;language-text&quot;&gt;file&lt;/code&gt; they mean an applicaiton to be run. It is defined to be &lt;code class=&quot;language-text&quot;&gt;Calendar&lt;/code&gt; by default but you can
choose another one.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4810/14441195.32/0_88922_22d155c7_M.png&quot; width=&quot;300&quot; height=&quot;193&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Then, select the application needed in the Finder dialog. In my case it is Flowdock.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4809/14441195.32/0_88923_7597bf28_M.png&quot; width=&quot;300&quot; height=&quot;196&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Then, fix the time. 5 minutes before 9:35 is exactly half past nine. Let me remin you, this does not mean that
you need to be at work by this time and have your laptop opened. You can be riding a bus or even sleeping. The
application will run later, when you open your computer.&lt;/p&gt;
&lt;h3&gt;Drawback&lt;/h3&gt;
&lt;p&gt;Not ideal, indeed. If your calendar is synchronized with iPhone, it peeps by this time. The phone cannot run the
application, so it reminds you about the event with sound. But as &lt;a href=&quot;http://varya.me/ru/posts/run-app-in-time-on-mac/#comment-1582219469&quot;&gt;one of my friends
suggests&lt;/a&gt; the workaround can be to create a
separate calendar for such event and not to synchronize it with other devices.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Запускать вовремя (о приложениях на Mac)]]></title><description><![CDATA[Я использую один и тот же ноутбук и для работы, и для личных дел. Это удобно, но за соблюдением баланса «работа-жизнь»
приходится следить дополнительно. Я поступаю просто: уходя с работы, закрываю все приложения. Главное не забывать их
открывать следующим утром. Но этот процесс можно автоматизировать :-)
]]></description><link>http://varya.me/ru/posts/run-app-in-time-on-mac/</link><guid isPermaLink="false">http://varya.me/ru/posts/run-app-in-time-on-mac/</guid><content:encoded>&lt;p&gt;Я использую один и тот же ноутбук и для работы, и для личных дел. Это удобно, но за соблюдением баланса «работа-жизнь»
приходится следить дополнительно. Я поступаю просто: уходя с работы, закрываю все приложения. Главное не забывать их
открывать следующим утром. Но этот процесс можно автоматизировать :-)
&lt;excerpt/&gt;
Особенно важно держать открытыми приложения, от которых зависит работа других членов команды. Например, с началом
рабочего дня должен быть запущен джаббер (или другой используемый мессенджер).&lt;/p&gt;
&lt;p&gt;В AppGyver для общения всех со всеми
используют &lt;a href=&quot;https://www.flowdock.com&quot;&gt;Flowdock&lt;/a&gt;. Вот мне и понадобилось гарантированно иметь его открытым с утра.&lt;/p&gt;
&lt;p&gt;Оказалось, что на Mac запуск приложения в определенное время можно сделать штатными средствами — при помощи приложения
Calendar. Вот как:&lt;/p&gt;
&lt;h3&gt;Создайте в Календаре новое событие&lt;/h3&gt;
&lt;p&gt;Я назвала своё «Run Flowdock». Время события не обязательно устанавливать с учетом того, чтобы компьютер был уже открыт.
Можно и удобно запускать всё заранее. У моего события стоит &lt;code class=&quot;language-text&quot;&gt;9:35&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Сделайте событие повторяющимся&lt;/h3&gt;
&lt;p&gt;Событие должно повторяться каждую неделю по рабочим дням.&lt;/p&gt;
&lt;h3&gt;Запускайте приложение&lt;/h3&gt;
&lt;p&gt;А теперь самое интересное. Приложение можно запускать как кастомное уведомление о событии.&lt;br/&gt;&lt;br/&gt;
В выпадушке &lt;code class=&quot;language-text&quot;&gt;alert&lt;/code&gt; нужно выбрать самый последний пункт — &lt;code class=&quot;language-text&quot;&gt;Custom&lt;/code&gt;.&lt;br/&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4802/14441195.32/0_88921_7d53950e_L.png&quot; width=&quot;300&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;В появившемся диалоге вместо &lt;code class=&quot;language-text&quot;&gt;Message&lt;/code&gt; нужно выбрать &lt;code class=&quot;language-text&quot;&gt;Open file&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4813/14441195.32/0_88925_47986a79_M.png&quot; width=&quot;300&quot; height=&quot;167&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/5109/14441195.32/0_88924_ea39983e_M.png&quot; width=&quot;300&quot; height=&quot;162&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Под файлом здесь понимается приложение. По умолчанию это &lt;code class=&quot;language-text&quot;&gt;Calendar&lt;/code&gt;, но можно выбрать и другое.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4810/14441195.32/0_88922_22d155c7_M.png&quot; width=&quot;300&quot; height=&quot;193&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Затем в диалоговом окне Finder выбрать нужное приложение из папки &lt;code class=&quot;language-text&quot;&gt;Applications&lt;/code&gt;. В моём случае это Flowdock.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/4809/14441195.32/0_88923_7597bf28_M.png&quot; width=&quot;300&quot; height=&quot;196&quot; border=&quot;0&quot; title=&quot;&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Затем корректируем время. За 5 минут до 9:35 — как раз будет полдесятого. Напоминаю, это вовсе не означает, что к этому
времени нужно сидеть на работе с открытым ноутбуком. Можно ехать в автобусе или вообще спать. Приложение запустится
тогда, когда вы откроете крышку.&lt;/p&gt;
&lt;h3&gt;Минусы&lt;/h3&gt;
&lt;p&gt;Не без минусов. Этот же календарь на iPhone в 9:30 пиликает уведомлением о событии. Файл на телефоне он открыть не
может, поэтому просто радостно сообщает, что вот оно событие наступает.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Living SC5 Styleguide, the next level]]></title><description><![CDATA[
When it comes to the large web applications, we often operate with complex components. Such components are not just CSS
styles for the pieces of an interface but also their JavaScript interactions and templates. As documentation, the style
guide should reflect them all. In other words, the components on the style guide's pages should be the same living as in
production.

]]></description><link>http://varya.me/en/posts/sc5-style-guide-next-level/</link><guid isPermaLink="false">http://varya.me/en/posts/sc5-style-guide-next-level/</guid><content:encoded>&lt;p&gt;When it comes to the large web applications, we often operate with complex components. Such components are not just CSS
styles for the pieces of an interface but also their JavaScript interactions and templates. As documentation, the style
guide should reflect them all. In other words, the components on the style guide’s pages should be the same living as in
production.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;p&gt;At my recent project, we have been using &lt;a href=&quot;http://styleguide.sc5.io/&quot;&gt;SC5 Style Guide&lt;/a&gt; in its simplest way - documenting
the view of the components. For that, we provided the needed HTML in the KSS code and so has received the rendered
component library.&lt;/p&gt;
&lt;p&gt;However, in the production code, these components appeared at the pages as a result of some templating transformations.
Also, the project is massive and fast-developed, and the changes to the templates happened all the time. As a result,
the style guide was always out of date.&lt;/p&gt;
&lt;p&gt;Moreover, much functionality could not be illustrated with plain HTML.
To be rendered correctly and interact with a user, it also needs its JavaScript code.&lt;/p&gt;
&lt;p&gt;At this project, I have solved the problem using advanced configuration of SC5 Style Guide. Below you can find the
tricks and explanation.&lt;/p&gt;
&lt;h2&gt;Living JavaScript components&lt;/h2&gt;
&lt;p&gt;Usually, a piece of an interface (often called ‘a component’) is a combination of HTML, CSS, and JavaScript. With the
basic features if SC5 Style Guide you can easily document HTML and CSS. However, applying JavaScript to the components
requires an additional configuration.&lt;/p&gt;
&lt;p&gt;In SC5 Styleguide, you can provide additional tags into the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; section of the generated style guide’s page. They
can be &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tags linking the JavaScript you need.&lt;/p&gt;
&lt;p&gt;Assuming this, you can bundle the necessary JavaScript into one file, and link it to the style guide’s pages, like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;quot;styleguide:generate&amp;quot;, function() {

  return gulp.src([&amp;quot;path/to/css/**/*.sass&amp;quot;])
    .pipe(styleguide.generate({
      title: &amp;quot;My Styleguide&amp;quot;,
      ...
      extraHead: [
        &amp;#39;&amp;lt;script src=&amp;quot;/js/all-components.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;#39;,
        ...
      ]
    ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Another option for you to use in the configuration is &lt;code class=&quot;language-text&quot;&gt;disableEncapsulation: true&lt;/code&gt;. By default, the tool wraps every
component into a Shadow DOM container. It makes the components encapsulated and protects from unwanted impact of global CSS.
Also, the Shadow DOM wrapper prevents global JavaScript to access the components. Disabling this function, you can give
the JavaScript all the access, the same way as it works on a usual page.&lt;/p&gt;
&lt;p&gt;In most cases, JavaScript for the components requires initialization. On the style guide’s pages a &lt;code class=&quot;language-text&quot;&gt;styleguide:onRendered&lt;/code&gt;
event emits when a component is rendered. You can listen for this event and initialize the components in the event’s
handler function.&lt;/p&gt;
&lt;p&gt;For example, if using jQuery:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$(window).on(&amp;#39;styleguide:onRendered&amp;#39;, function(e) {
  // e.originalEvent.detail.elements[0] - component&amp;#39;s container
  initComponent(e.originalEvent.detail.elements[0])
});&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Additional processors&lt;/h2&gt;
&lt;p&gt;The SC5 Style Guide parses the KSS documentation in your CSS (SASS, LESS) code, collects information about all the
components and produces a JSON file with it. The documentation pages you can see are the Angular pages built
on the information in this JSON.&lt;/p&gt;
&lt;p&gt;Generating the style guide, you can inject additional processors into transforming data for this JSON file. The
custom processing functions can re-organize and modify this data. You can use this trick to provide a more clever
generator, run templates and parametrized JavaScript components.&lt;/p&gt;
&lt;p&gt;Examine the generated &lt;code class=&quot;language-text&quot;&gt;styleguide.json&lt;/code&gt; file to see how the data is organized by default. You are going to find out that
every component is represented by an object similar to the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  header: &amp;quot;Sub navigation tabs&amp;quot;,
  description: &amp;quot;&amp;lt;p class=&amp;quot;sg&amp;quot;&amp;gt;Navigation item&amp;lt;/p&amp;gt; &amp;quot;,
  modifiers: [ ],
  deprecated: false,
  experimental: false,
  reference: &amp;quot;4.15.1&amp;quot;,
  markup: &amp;quot;&amp;lt;ul class=&amp;quot;sub-navigation-tabs&amp;quot;&amp;gt;...&amp;lt;ul&amp;gt;&amp;quot;,
  css: &amp;quot;.sub-navigation-tabs { /* some css */ }&amp;quot;,
  syntax: &amp;quot;less&amp;quot;,
  file: &amp;quot;tabs.less&amp;quot;,
  parentReference: &amp;quot;4.15&amp;quot;,
  wrapper: &amp;quot;&amp;lt;sg-wrapper-content/&amp;gt;&amp;quot;,
  renderMarkup: &amp;quot;&amp;lt;ul class=&amp;quot;sub-navigation-tabs&amp;quot;&amp;gt;...&amp;lt;ul&amp;gt;&amp;quot;,
  variables: [
    &amp;quot;colorMain&amp;quot;,
    &amp;quot;bgColorSecond&amp;quot;,
    &amp;quot;textColor&amp;quot;,
    &amp;quot;textColorHover&amp;quot;
  ],
  fileHash: &amp;quot;d00311f793d66a9e9dee9939dedd9fd9&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;To modify this data, provide additional processing function as &lt;code class=&quot;language-text&quot;&gt;styleguideProcessors&lt;/code&gt; option. For example,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;quot;styleguide:generate&amp;quot;, function() {

  return gulp.src([&amp;quot;path/to/css/**/*.sass&amp;quot;])
    .pipe(styleguide.generate({
      title: &amp;quot;My Styleguide&amp;quot;,
      ...
      styleguideProcessors: {
        30: processTemplates
      }
    ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As a value of this option, you can list the processing functions. The given indexes matter for the order in which these
functions are applied to the data.&lt;/p&gt;
&lt;p&gt;Check out &lt;a href=&quot;https://github.com/SC5/sc5-styleguide#build-options&quot;&gt;the documentation for options&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In my projects, I used additional processors to operate custom KSS parameters and modify data.&lt;/p&gt;
&lt;h2&gt;Custom KSS data&lt;/h2&gt;
&lt;p&gt;In the section descriptions, you can provide additional KSS parameters with the names prefixed with &lt;code class=&quot;language-text&quot;&gt;sg-&lt;/code&gt;. For example,
you can provide a path to a template which produces the markup for the component:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Button
//
// markup:
// { title: &amp;quot;Move on&amp;quot;, type=&amp;quot;submit&amp;quot; }
//
// sg-template:
// src/components/button/button.ejs
//
// Styleguide 1.2.3&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;In here the markup works as an input value for the given template. You can teach Style Guide to apply the template to
the declared object and put the result as a markup to render. To do it you need a custom processing function mentioned
above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var processTemplates = (styleguide) =&amp;gt; {

  styleguide.sections.forEach((section) =&amp;gt; {

    if (section[&amp;#39;sg-template&amp;#39;]) {
      var templatePath = section[&amp;#39;sg-template&amp;#39;].trim()
      templatePath = path.join(process.cwd(), templatePath)

      var templateStr = fs.readFileSync(templatePath, &amp;#39;utf8&amp;#39;)
      var inputData = eval(&amp;#39;(&amp;#39; + section.markup + &amp;#39;)&amp;#39;)

      section.renderMarkup = ejs.render(templateStr, insertData)
    }

  }

}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Templates on fly&lt;/h2&gt;
&lt;p&gt;In the single-page applications, templates work on the client side. In this case, it is better to process them
in the style guide too. In other words, you should include the templates into the JavaScript bundle and initialize
the components on containers.&lt;/p&gt;
&lt;p&gt;Combining this approach to the custom processors, you can store the code example for every compoentn in the &lt;code class=&quot;language-text&quot;&gt;markup&lt;/code&gt;
KSS field.&lt;/p&gt;
&lt;p&gt;For example,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Tabs
//
// markup:
// var Tabs = require(&amp;#39;src/components/tab.js&amp;#39;)
// Tabs.init($container, { items: [...] })
//
// sg-js-component:
// &amp;lt;div class=&amp;quot;sg-tabs-container&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
//
// Styleguide 1.2.3&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With a custom processor, you can put the container’s code as a markup to render:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var processorForJsComponents = function(styleguide) {

  styleguide.sections.forEach((section) =&amp;gt; {
    if (section[&amp;#39;sg-js-component&amp;#39;]) {
      section.renderMarkup = section.wrapper.replace(
        &amp;#39;&amp;lt;sg-wrapper-content/&amp;gt;&amp;#39;, section[&amp;#39;sg-js-component&amp;#39;]
      );
    }
  }

}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Adjustable initialization for JavaScript&lt;/h2&gt;
&lt;p&gt;Usually, different components need to be initialized in differently. Also, they may require some fake data. You can
run various Javascript functions on separate component containers to get this result.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var TabsInit = require(&amp;#39;src/components/tabs/tabs.init.js&amp;#39;)

var knownComponents = {
  &amp;#39;.sg-tabs-container&amp;#39;: TabsInit
}

$(window).on(&amp;#39;styleguide:onRendered&amp;#39;, function(e) {

  knownComponents.forEach((componentInit, componentSelector) =&amp;gt; {
    var containingComponents = $(e.originalEvent.detail.elements[0]).find(componentSelector)
    if (containingComponents.length &amp;gt; 0) {
      componentInit(containingComponents)
    }
  })

})&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This code runs a corresponding function for every selector in the &lt;code class=&quot;language-text&quot;&gt;knownComponents&lt;/code&gt; object. The matching DOM element(s)
passed into the initializing function as a parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// src/components/tabs/tabs.sg-init.js

var Tabs = require(&amp;#39;./tabs.js&amp;#39;)

var fakeData = [
  { title: &amp;#39;Tab1&amp;#39;, url: &amp;#39;/index.html&amp;#39; },
  { title: &amp;#39;Tab2&amp;#39;, url: &amp;#39;/contacts&amp;#39; }
]

module.exports = function($container) {
  // Real calling for initing function depends on
  // you component system interface
  Tabs.init($container, { items: fakeData })
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;In this system, you can have several containers with the same CSS class but parametrized with any other information, e.g.
data attributes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Tabs, another version
//
// markup:
// var Tabs = require(&amp;#39;src/components/tab.js&amp;#39;)
// Tabs.init($container, { another: true, items: [...] })
//
// sg-js-component:
// &amp;lt;div class=&amp;quot;sg-tabs-container&amp;quot; data-type=&amp;quot;another&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
//
// Styleguide 1.2.4&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;...
module.exports = function($container) {
  var type = $container.data(&amp;#39;type&amp;#39;)

  if (type == &amp;#39;another&amp;#39;) {
    Tabs.init($container, { another: true,  items: fakeData })
  } else {
    Tabs.init($container, { items: fakeData })
  }
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;File structure&lt;/h2&gt;
&lt;p&gt;You may have noticed that I suggest storing everything related to the component under the same folder. This is also
relevant to the style-guide-related files.&lt;/p&gt;
&lt;p&gt;For a user, a component is a consistent entity. They get it as a whole thing, no matter how many technologies
are behind. For a developer, it is not that straightforward. We use CSS for styling, JavaScript for interactions and HTML
for the view. The corresponding code is usually placed in a separate file for each technology. I find it quite
distracting.&lt;/p&gt;
&lt;p&gt;However, the ‘component folder’ approach smoothes this situation. Storing everything (including the documentation) in
the same place improves developer’s experience very much.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src/
  components/
    login/
      login.ejs
      login.js
      login.sg-init.js
    tabs/
      tabs.ejs
      tabs.js
      tabs.sass
      tabs.sg-init.js&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Enjoy&lt;/h2&gt;
&lt;p&gt;After ajusting the SC5 Style Guide, as shown above, you will get the double living documentation. Remember about the
watching mode to re-generate the style guide on the file changes. It works as a nice development playground.&lt;/p&gt;
&lt;p&gt;Also, last but not least, I would like to thank the community which made these things possible. I used the SC5 Style Guide
features by other developers and so feel very grateful. You may see their names &lt;a href=&quot;https://github.com/SC5/sc5-styleguide/releases&quot;&gt;at the releases’
page&lt;/a&gt;. If you want yours to appear here, please
&lt;a href=&quot;https://github.com/SC5/sc5-styleguide&quot;&gt;contribute&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Style-guide the smaller things]]></title><description><![CDATA[I've been presenting [SC5 Style Guide](http://styleguide.sc5.io/) several times during this year sharing my experience of using it for one
of the SC5's clients, Elisa. Assuming that Elisa is a huge mobile operator with a lot of websites and a need
to keep those websites visually consistent, there is no wonder that the SC5 Style Guide as a tool provides benefits
there. But what about smaller websites? Would it be useful there? I did not know the answer to this question
and wanted to experiment. The experiment was conducted on my blog codebase.
]]></description><link>http://varya.me/en/posts/sc5-styleguide-for-smallers/</link><guid isPermaLink="false">http://varya.me/en/posts/sc5-styleguide-for-smallers/</guid><content:encoded>&lt;p&gt;I’ve been presenting &lt;a href=&quot;http://styleguide.sc5.io/&quot;&gt;SC5 Style Guide&lt;/a&gt; several times during this year sharing my experience of using it for one
of the SC5’s clients, Elisa. Assuming that Elisa is a huge mobile operator with a lot of websites and a need
to keep those websites visually consistent, there is no wonder that the SC5 Style Guide as a tool provides benefits
there. But what about smaller websites? Would it be useful there? I did not know the answer to this question
and wanted to experiment. The experiment was conducted on my blog codebase.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;This is how the Living Style Guide looks like: &lt;a href=&quot;http://varya.me/styleguide&quot;&gt;varya.me/styleguide&lt;/a&gt;. You can see the interface
decomposed into block pieces, each of those representing a meaningful interface unit. I haven’t seen the interface of my blog
from this perspective before. It gave me a lot of insight into the ways the CSS architecture of my blog should be designed.
But, let’s consider things one by one.&lt;/p&gt;
&lt;h2&gt;Fine-tuning the SC5 Style Guide tool&lt;/h2&gt;
&lt;p&gt;Everything starts with&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --save-dev sc5-styleguide&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then, I was able to use the tool to build the interface representation. It required
&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/Gulpfile.js&quot;&gt;a couple of Gulp tasks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I had to deviate from the example configuration in a couple of places to make my Style Guide work as it does now. Let me
name and explain these things.&lt;/p&gt;
&lt;h3&gt;Providing the &lt;code class=&quot;language-text&quot;&gt;appRoot&lt;/code&gt; parameter.&lt;/h3&gt;
&lt;p&gt;As I am hosting the Style Guide website not it the root folder but in a subfolder named &lt;code class=&quot;language-text&quot;&gt;styleguide&lt;/code&gt;, I inform the
generator about that, so it can build the properly working app:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;styleguide:generate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;desktop.blocks/**/*.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;styleguide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Varya.me Styleguide&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      appRoot&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/styleguide&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Providing scripts&lt;/h3&gt;
&lt;p&gt;Under the &lt;code class=&quot;language-text&quot;&gt;extraHead&lt;/code&gt; parameter I list all the additions needed. Some of my components
need JavaScript to function. It is indeed possible to ignore that and present
their views only, but I wanted them to be exactly as they were used in the blog.
Thanks to &lt;code class=&quot;language-text&quot;&gt;extraHead&lt;/code&gt; I could supply any code needed. I used it to
link the same scripts that I have on my blog pages:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;styleguide:generate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;desktop.blocks/**/*.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;styleguide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Varya.me Styleguide&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      extraHead&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;script src=&quot;http://yandex.st/jquery/1.7.2/jquery.min.js&quot;&gt;&amp;lt;/script&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;script src=&quot;/desktop.bundles/index/index.min.js&quot;&gt;&amp;lt;/script&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;However, I needed yet another trick to make the scripts work properly. My components are written with &lt;code class=&quot;language-text&quot;&gt;i-bem.js&lt;/code&gt;
framework which automatically initialises them on the &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt; event. This is what I wanted for the static pages because the
components markup is in HTML document. But for the Style Guide, which is architecturally a SPA, this did not work. The components
are rendered on the fly, and this obviously happens after &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt;; that is why by default they stay
uninitialized. So they should be initialized after they had been rendered. Luckily, the Style Guide
triggers an event on the &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt; object named &lt;code class=&quot;language-text&quot;&gt;styleguide:onRendered&lt;/code&gt; every time a new component is re-rendered.
By handling this event, I managed to get the components initialized right after they appear on the page. This code is needed
for the Style Guide only, so I do not include it into the project bundle but provide as an additional script in the
Style Guide configuration:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;quot;styleguide:generate&amp;quot;, function() {

  return gulp.src([&amp;quot;desktop.blocks/**/*.css&amp;quot;])
    .pipe(styleguide.generate({
      title: &amp;quot;Varya.me Styleguide&amp;quot;,
      ...
      extraHead: [
        ...
        &amp;#39;&amp;lt;script src=&amp;quot;/styleguide/i-bem__init_styleguide.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;#39;
      ]
    ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can check how the JavaScript components are working with the block which is initially empty and renders the list
of repositories after querying the GitHub API: &lt;a href=&quot;http://varya.me/styleguide/#/section/4.3&quot;&gt;varya.me/styleguide/#/section/4.3&lt;/a&gt;.
Or try out the Candies randomly built with JavaScript &lt;a href=&quot;http://varya.me/styleguide/#/section/5.1&quot;&gt;varya.me/styleguide/#/section/5.1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The last important thing to make JavaScript work is to use &lt;code class=&quot;language-text&quot;&gt;disableEncapsulation: true&lt;/code&gt; parameter. Normally the
Style Guide wraps each component in the ShadowDOM because it lets us developers write component CSS without
worrying about affecting the Style Guide interface. But it also makes the components scoped from the JavaScript linked
to the Style Guide website — including that additional JavaScript I showed above. By disabling the encapsulation, I made
the components to be inserted into the HTML page as they are, without any scoping. As for affecting the Style Guide
interface, in my case it will never happen as I use BEM and all my components are already “encapsulated” thanks to that methodology.&lt;/p&gt;
&lt;h3&gt;Hosting a static page&lt;/h3&gt;
&lt;p&gt;The SC5 Style Guide provides a development server which routes all the paths to its root. When hosting it outside, you
should care about the routing yourself as you would do for any other SPA. But my blog is hosted on GitHub Pages
which is a simple static hosting and does not provide any routing capabilities. For managing this case, I use the
&lt;code class=&quot;language-text&quot;&gt;disableHtml5Mode: true&lt;/code&gt; option. It makes the Style Guide application generate the old-school links with &lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;. And so it
works.&lt;/p&gt;
&lt;h2&gt;Documenting the components&lt;/h2&gt;
&lt;p&gt;As I used BEM for my website frontend from very beginning, the CSS was already written the component-way. I only
needed to create a descriptive structure and document the blocks with KSS.&lt;/p&gt;
&lt;h3&gt;Structuring the code&lt;/h3&gt;
&lt;p&gt;Unfortunately the BEM way of storing components in folders turned out to be not good enough to see
the code from the living-style-guide perspective. On a file system, all the components are represented at the same
level which turns them into a long list without much structure:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;desktop.blocks/
├── article
├── articles-list
├── box
├── ...
└── text&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/tree/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks&quot;&gt;github/varya/varya.github.com/desktop-blocks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this case the atomic components are not distinct from the structural interface pieces (such as Header or Footer),
from the side blocks, or from CSS provided to style third-party things. Flat structure is indeed good for
bundling tools but we humans need more logical nesting.&lt;/p&gt;
&lt;p&gt;For that I provide the &lt;code class=&quot;language-text&quot;&gt;overview.css&lt;/code&gt; file, which has nothing to do with the final product and only helps me arrange the
blocks. I have 5 sections, in which I place the blocks depending on what they are:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/*
Atoms

Styleguide 1

styleguide:ignore:start

@import url(&amp;quot;logo/logo.css&amp;quot;); // 1.1
@import url(&amp;quot;text/text.css&amp;quot;); // 1.2
...

styleguide:ignore:end
*/

/*
Main blocks

Styleguide 2

styleguide:ignore:start

@import url(&amp;quot;header/header.css&amp;quot;); // 2.1
...

styleguide:ignore:end
*/&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/overview.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/overview.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There are only comments in this file in which I provide the documentation of every subset as a Style Guide section.
Listing the paths of the dependant CSS files makes it easier to navigate through the code. The &lt;code class=&quot;language-text&quot;&gt;@import&lt;/code&gt; syntax is used just
because :-)&lt;/p&gt;
&lt;p&gt;The only trick here is the magic &lt;code class=&quot;language-text&quot;&gt;styleguide:ignore:start&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;styleguide:ignore:end&lt;/code&gt; keywords. It is possible to
place them inside comments in any piece of your CSS (or SASS or LESS) and make the Style Guide generator ignore
what is in between.&lt;/p&gt;
&lt;p&gt;In my case, I tell it skip my overview lists because they have nothing to do with the codebase. But the names of the
sections and their possible descriptions (I just haven’t provided any) are in work.&lt;/p&gt;
&lt;h3&gt;Describing the pieces&lt;/h3&gt;
&lt;p&gt;Everything else went smoothly. For every component I provided the KSS description. The &lt;code class=&quot;language-text&quot;&gt;logo&lt;/code&gt; block can be the
simplest example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*

Logo

markup:
&amp;lt;logo class=&quot;logo&quot;&gt;···&amp;lt;b class=&quot;var&quot;&gt;var&amp;lt;/b&gt;·&amp;lt;b class=&quot;ya&quot;&gt;ya&amp;lt;/b&gt;;&amp;lt;b class=&quot;cursor&quot;&gt;&amp;lt;/b&gt;&amp;lt;/logo&gt;

Styleguide 1.1

*/&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.logo&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/logo/logo.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/logo/logo.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See it rendered: &lt;a href=&quot;http://varya.me/styleguide/#/section/1.1&quot;&gt;varya.me/styleguide/#/section/1.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In some other components I used extra features. For example, different social icons are the same &lt;code class=&quot;language-text&quot;&gt;ico&lt;/code&gt; element with different
modifiers. In the Style Guide I could documents them all together:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
Social icon

.social-ico__ico_type_rss         - RSS
.social-ico__ico_type_twitter     - Twitter
.social-ico__ico_type_github      - Github
.social-ico__ico_type_facebook    - Facebook
.social-ico__ico_type_linkedin    - LinkedIn

markup:
&amp;lt;a class=&quot;link social-ico__ico {$modifiers}&quot; href=&quot;#&quot; title=&quot;Icon title&quot;&gt;&amp;lt;/a&gt;

Styleguide 1.5.1
*/&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.social-ico__ico&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/social-ico/social-ico.css#L49&quot;&gt;github/varya/varya.github.com/desktop-blocks/social-ico/social-ico.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In the website the component is rendered separately with every modifier possible:
&lt;a href=&quot;http://varya.me/styleguide/#/section/1.5.1&quot;&gt;varya.me/styleguide/#/section/1.5.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the complex components which contain other ones I used &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sg-insert&amp;gt;&lt;/code&gt; keyword. It takes another component’s markup
by its reference number.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
Sidebar
markup:
&amp;lt;nav class=&quot;sidebar&quot;&gt;
  &amp;lt;sg-insert&gt;4.2&amp;lt;/sg-insert&gt;
  &amp;lt;sg-insert&gt;4.3&amp;lt;/sg-insert&gt;
&amp;lt;/nav&gt;
Styleguide 4.1
*/&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.sidebar&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/sidebar/sidebar.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/sidebar/sidebar.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This makes the markup examples pretty short, however it expands for rendering the component and showing the
markup on the website: &lt;a href=&quot;http://varya.me/styleguide/#/section/4.1&quot;&gt;varya.me/styleguide/#/section/4.1&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Style-Guide-Driven Development&lt;/h2&gt;
&lt;p&gt;If you type “logo” in the Style Guide search field, it will find and render all the components where &lt;code class=&quot;language-text&quot;&gt;logo&lt;/code&gt; is found!
The search goes through all the CSS codebase. Similarly you can search for the components using &lt;code class=&quot;language-text&quot;&gt;&amp;lt;em&amp;gt;&lt;/code&gt; in their markup.
Or &lt;code class=&quot;language-text&quot;&gt;font:&lt;/code&gt; in their CSS.&lt;/p&gt;
&lt;p&gt;I personally like that the search source is not only the CSS of components but also their markup examples. During the
refactorings this, for example, makes possible to select all the components containing inputs and look how the changes affect them.&lt;/p&gt;
&lt;p&gt;However this is just a small addition to one major benefit I see in using the Style Guide. I find it far more important
that &lt;strong&gt;it reveals my mistakes&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;I already used the component way when building my blog. And I was pretty sure that my BEM experience is a 100%
guarantee that I get this right. But even developing with a highly modular approach in mind, I did this from the page perspective.
Before the components were integrated into the blog engine, I had developed a static page and this was where the
components fitted first.&lt;/p&gt;
&lt;p&gt;I considered them independent and so tried to write my code. But &lt;strong&gt;sitting at the same page they never actually were
independent&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;After the SC5 Style Guide magically represented each of them separately, I can see that the
&lt;a href=&quot;http://varya.me/styleguide/#/section/1.1&quot;&gt;logo&lt;/a&gt; is aligned to the right.
And why should it be? Obviously, my mistake when I tried to made it fit into the Header.&lt;/p&gt;
&lt;p&gt;The same goes for the &lt;a href=&quot;http://varya.me/styleguide/#/section/1.4&quot;&gt;language switcher&lt;/a&gt; positioned on the right.&lt;/p&gt;
&lt;p&gt;In the &lt;a href=&quot;http://varya.me/styleguide/#/section/1.5&quot;&gt;set of social icons&lt;/a&gt;, the language switcher provided with the RSS
icon was considered to stay with it. But this only happens because at the blog pages
it is placed into a narrow container. The Style Guide represents it on its own and I can see that it is not that
flawless as I thought.&lt;/p&gt;
&lt;p&gt;Such discoveries obviously lead to the refactoring :-)&lt;/p&gt;
&lt;p&gt;To top it off, I must say that the experiment does not end and there are already findings for further
posts. Stay tuned!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Стайл гайд для самых маленьких]]></title><description><![CDATA[
В этом году у меня было несколько презентаций про [SC5 Style Guide](http://styleguide.sc5.io/), в которых
я делилась опытом использования инструмента на проектах одного их наших клиентов — мобильного оператора Elisa.
Учитывая, что Elisa — огромная компания с массой вебсайтов, на которых нужно поддерживать единый стиль, не
удивительно, что SC5 Style Guide как инструмент там очень полезен. Но как насчет небольших проектов? Стоит ли для них
делать стайл гайды? Я сама не знала ответ на этот вопрос и захотела поэкспериментировать. В качестве подопытного
сайта взяла собственный блог.
]]></description><link>http://varya.me/ru/posts/sc5-styleguide-for-smallers/</link><guid isPermaLink="false">http://varya.me/ru/posts/sc5-styleguide-for-smallers/</guid><content:encoded>&lt;p&gt;В этом году у меня было несколько презентаций про &lt;a href=&quot;http://styleguide.sc5.io/&quot;&gt;SC5 Style Guide&lt;/a&gt;, в которых
я делилась опытом использования инструмента на проектах одного их наших клиентов — мобильного оператора Elisa.
Учитывая, что Elisa — огромная компания с массой вебсайтов, на которых нужно поддерживать единый стиль, не
удивительно, что SC5 Style Guide как инструмент там очень полезен. Но как насчет небольших проектов? Стоит ли для них
делать стайл гайды? Я сама не знала ответ на этот вопрос и захотела поэкспериментировать. В качестве подопытного
сайта взяла собственный блог.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;Живой стайл гайд моего блога выглядит вот так: &lt;a href=&quot;http://varya.me/styleguide&quot;&gt;varya.me/styleguide&lt;/a&gt;. Вы можете видеть
весь интерфейс, разделенный на блоки, каждый из которых подразумевает самостоятельный компонент. Я до сих пор не
смотрела на интерфейс своего блога в таком ключе, и это заставляет меня даже пересмотреть CSS-архитектуру проекта. Но
давайте обо всём по порядку.&lt;/p&gt;
&lt;h2&gt;Настройка SC5 Style Guide&lt;/h2&gt;
&lt;p&gt;Всё начинается с установки пакета&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --save-dev sc5-styleguide&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;После этого я смогла сгенерировать веб-сайт стайл гайда. Для этого понадобилась
&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/Gulpfile.js&quot;&gt;парочка gulp тасков&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Мне нужно было немного отступить от конфигурации, которая предлагается в документации, чтобы решить свои задачи. Напишу
об этом подробно.&lt;/p&gt;
&lt;h3&gt;Использование параметра &lt;code class=&quot;language-text&quot;&gt;appRoot&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Мой стайл гайд находится не в корне домена, а в папке, которая называется &lt;code class=&quot;language-text&quot;&gt;styleguide&lt;/code&gt;. Об этом нужно сообщить
инструменту, чтобы сгенерированное им приложение использовало верные ссылки:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;styleguide:generate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;desktop.blocks/**/*.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;styleguide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Varya.me Styleguide&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      appRoot&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/styleguide&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Подключение JavaScript&lt;/h3&gt;
&lt;p&gt;В качестве значения параметра &lt;code class=&quot;language-text&quot;&gt;extraHead&lt;/code&gt; можно перечислить все, что нужно подключить к странице. У меня для некоторых
компонент требуется JavaScript. Конечно, не обязательно делать так, чтобы он работал, можно просто делать стайл гайд
только на базе CSS. Но мне хотелось, чтобы компоненты в документации выглядели бы абсолютно так же как в блоге. И
благодаря &lt;code class=&quot;language-text&quot;&gt;extraHead&lt;/code&gt; я могу указать, какой JavaScript файл нужен.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;styleguide:generate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; gulp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;desktop.blocks/**/*.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;styleguide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Varya.me Styleguide&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      extraHead&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;script src=&quot;http://yandex.st/jquery/1.7.2/jquery.min.js&quot;&gt;&amp;lt;/script&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;script src=&quot;/desktop.bundles/index/index.min.js&quot;&gt;&amp;lt;/script&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Но на самом деле нужна ещё одна хитрость. Мои компоненты написаны на &lt;code class=&quot;language-text&quot;&gt;i-bem.js&lt;/code&gt; и автоматически инициализируются по
&lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt;. Это как раз то что нужно для блога, ведь страницы статические и вся HTML-разметка сразу загружается. Но сайт
стайл гайда — это SPA (одностраничное приложение), и там это не работало. Компоненты отрисовываются на страницах
стайлгайда “на лету”, и очевидно, что это происходит позже &lt;code class=&quot;language-text&quot;&gt;domReady&lt;/code&gt;. То есть они не инициализируются автоматически.
К счастью, можно использовать событие &lt;code class=&quot;language-text&quot;&gt;styleguide:onRendered&lt;/code&gt; на объекте &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;, которое SC5 Style Guide создаёт
каждый раз, когда компонент перересовывается. Я сделала инициализацию компонент на это событие, то есть сразу после того
как они появляются на странице. Такая инициализация нужна только на сайте стайл гайда, поэтому этот код не включается
в общую сборку и подключается к стайл гайду как дополнительный файл.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gulp.task(&amp;quot;styleguide:generate&amp;quot;, function() {

  return gulp.src([&amp;quot;desktop.blocks/**/*.css&amp;quot;])
    .pipe(styleguide.generate({
      title: &amp;quot;Varya.me Styleguide&amp;quot;,
      ...
      extraHead: [
        ...
        &amp;#39;&amp;lt;script src=&amp;quot;/styleguide/i-bem__init_styleguide.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;#39;
      ]
    ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Вы можете посмотреть, как работают компоненты с JavaScript на примере блока, который показывает список репозиториев
на GitHub после того как сделает запрос в GitHub API:
&lt;a href=&quot;http://varya.me/styleguide/#/section/4.3&quot;&gt;varya.me/styleguide/#/section/4.3&lt;/a&gt;. Или на странице блока с кружочками,
которые генерируются случайным образом: &lt;a href=&quot;http://varya.me/styleguide/#/section/5.1&quot;&gt;varya.me/styleguide/#/section/5.1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;И последняя, очень важная деталь для того, чтобы заставить JavaScript работать — это использование параметра
&lt;code class=&quot;language-text&quot;&gt;disableEncapsulation: true&lt;/code&gt;. По умолчанию Style Guide оборачивает каждый компонент в ShadowDOM. Это даёт разработчику
возможность не беспокоиться о том, что его стили пересекутся со стилями сгенерированного веб-сайта. Но в то же время
это инкапсулирует компонент, в том числе и от JavaScript, подключённого в &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt;. Но благодаря специальному параметру
эту инкапсуляцию можно предотвратить. Так что у меня компоненты просто вставляются в HTML-код сайта как есть. Что
касается возможности перезаписать стили сайта, этого не случится. Я использую БЭМ, поэтому все компоненты уже
“инкапсулированы” на уровне методологии.&lt;/p&gt;
&lt;h3&gt;Стайл гайд как статическая страница&lt;/h3&gt;
&lt;p&gt;Для режима разработки у SC5 Style Guide запускается сервер, который разруливает все пути в корневой каталог, откуда и
раздаётся сгененированный SPA-сайт. Если вы хотите пользоваться результатом в своём сервере, о такой маршрутизации
придется позаботиться самостоятельно. Но в моём случае сайт располагается на GitHub Pages, это статический хостинг и там
никакой маршрутизации не предусмотрено. Однако на этот случай есть настройка &lt;code class=&quot;language-text&quot;&gt;disableHtml5Mode: true&lt;/code&gt;. Она говорит
генератору, что в приложении должны быть старые добрые ссылки с решеткой &lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;. Так что всё работает.&lt;/p&gt;
&lt;h2&gt;Документирование компонент&lt;/h2&gt;
&lt;p&gt;Ещё до внедрения стайл гайда, у меня весь CSS был написан по БЭМ, то есть с компонентым подходом. Для стайл гайда нужно
было только задать компонентам структуру и задокументировать блоки при помощи KSS.&lt;/p&gt;
&lt;h3&gt;Структурирование кода&lt;/h3&gt;
&lt;p&gt;Оказалось, что файловая структура, которую предлагает БЭМ, не самое лучшее решение для разработки живого стайлгайда. На
файловой системе все компоненты представлены длинным плоским списком:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;desktop.blocks/
├── article
├── articles-list
├── box
├── ...
└── text&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/tree/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks&quot;&gt;github/varya/varya.github.com/desktop-blocks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;То есть маленькие атомарные компоненты никак не отличаются от блоков для структуры страницы (таких как Header или
Footer), от блоков из сайдбара или от CSS для сторонних виджетов. Разумеется, плоская структура более удобна для
сборщиков, но с точки зрения разработки нужна какая-то каталогизация.&lt;/p&gt;
&lt;p&gt;Для этого я сделала файл &lt;code class=&quot;language-text&quot;&gt;overview.css&lt;/code&gt;, в котором нет никакого активного CSS, но он помогает мне организовать блоки.
У меня там 5 секций, и в каждой относящиеся к ней компоненты:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/*
Atoms

Styleguide 1

styleguide:ignore:start

@import url(&amp;quot;logo/logo.css&amp;quot;); // 1.1
@import url(&amp;quot;text/text.css&amp;quot;); // 1.2
...

styleguide:ignore:end
*/

/*
Main blocks

Styleguide 2

styleguide:ignore:start

@import url(&amp;quot;header/header.css&amp;quot;); // 2.1
...

styleguide:ignore:end
*/&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/overview.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/overview.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;По сути в файле кроме комментариев ничего нет. А в комментариях — описание каждой секции. Также перечислены
файлы блоков, имеющие к ней отношение. Это удобно для навигации по коду. В этом перечислении я использовала &lt;code class=&quot;language-text&quot;&gt;@import&lt;/code&gt;
(просто потому что могу).&lt;/p&gt;
&lt;p&gt;Здесь только одна особенность — использование волшебных комментариев &lt;code class=&quot;language-text&quot;&gt;styleguide:ignore:start&lt;/code&gt; и
&lt;code class=&quot;language-text&quot;&gt;styleguide:ignore:end&lt;/code&gt;. Ими можно обернуть любой кусок CSS (SASS или LESS) кода и таким образом сказать генератору SC5
Style Guide, что этот кусок нужно проигнорировать.&lt;/p&gt;
&lt;p&gt;Я игнорирую свои списки блоков, потому что они никак не влияют на код. Но описания секций остаются.&lt;/p&gt;
&lt;h3&gt;Описание блоков&lt;/h3&gt;
&lt;p&gt;Все остальное легко. Перед каждым компонентом я размещаю комментарий с KSS описанием. Например, один из простых блоков,
Logo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*

Logo

markup:
&amp;lt;logo class=&quot;logo&quot;&gt;···&amp;lt;b class=&quot;var&quot;&gt;var&amp;lt;/b&gt;·&amp;lt;b class=&quot;ya&quot;&gt;ya&amp;lt;/b&gt;;&amp;lt;b class=&quot;cursor&quot;&gt;&amp;lt;/b&gt;&amp;lt;/logo&gt;

Styleguide 1.1

*/&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.logo&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/logo/logo.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/logo/logo.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See it rendered: &lt;a href=&quot;http://varya.me/styleguide/#/section/1.1&quot;&gt;varya.me/styleguide/#/section/1.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;В некоторых компонентах использованы дополнительные возможности. Например, социальные иконки — это один и тот же блок
с разными модификаторыми. Такое можно задокументировать одним махом:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
Social icon

.social-ico__ico_type_rss         - RSS
.social-ico__ico_type_twitter     - Twitter
.social-ico__ico_type_github      - Github
.social-ico__ico_type_facebook    - Facebook
.social-ico__ico_type_linkedin    - LinkedIn

markup:
&amp;lt;a class=&quot;link social-ico__ico {$modifiers}&quot; href=&quot;#&quot; title=&quot;Icon title&quot;&gt;&amp;lt;/a&gt;

Styleguide 1.5.1
*/&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.social-ico__ico&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/social-ico/social-ico.css#L49&quot;&gt;github/varya/varya.github.com/desktop-blocks/social-ico/social-ico.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;В документации компоненты прорисованны по отдельности для каждого модификатора:
&lt;a href=&quot;http://varya.me/styleguide/#/section/1.5.1&quot;&gt;varya.me/styleguide/#/section/1.5.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Для сложносоставных компоненты, которые используют внутри себя другие, я использовала ключевой тег &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sg-insert&amp;gt;&lt;/code&gt;.
Он вставляет вместо себя код компонента с соответствующим номером.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
Sidebar
markup:
&amp;lt;nav class=&quot;sidebar&quot;&gt;
  &amp;lt;sg-insert&gt;4.2&amp;lt;/sg-insert&gt;
  &amp;lt;sg-insert&gt;4.3&amp;lt;/sg-insert&gt;
&amp;lt;/nav&gt;
Styleguide 4.1
*/&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.sidebar&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/varya/varya.github.com/blob/af38b1fb0bd6e5a1b043d002ad5dbf107f17e6c1/desktop.blocks/sidebar/sidebar.css&quot;&gt;github/varya/varya.github.com/desktop-blocks/sidebar/sidebar.css&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Благодаря этому документация в коде приемлемого размера, а на сайте все раскрывается в полном виде:
&lt;a href=&quot;http://varya.me/styleguide/#/section/4.1&quot;&gt;varya.me/styleguide/#/section/4.1&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Style-Guide-Driven Development&lt;/h2&gt;
&lt;p&gt;Если в получившемся стайл гайде в поле для поиска вы наберете “logo”, то увидите все компоненты, который используют
логотип! Поиск проводится по всему коду. Точно так же можно поискать компоненты, в разметке которых используется &lt;code class=&quot;language-text&quot;&gt;&amp;lt;em&amp;gt;&lt;/code&gt;.
Или в чьих стилях есть &lt;code class=&quot;language-text&quot;&gt;font:&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Мне лично особенно нравится, что можно искать и по разметке. Этим можно пользоваться во время рефакторинга. Например,
изменив input, я могу найти все использующие его блоки и посмотреть, не сломались ли они.&lt;/p&gt;
&lt;p&gt;Хотя на самом деле это лишь небольшое дополнение к главному преимуществу использования стайл гайда. По-моему, его
основной плюс — &lt;strong&gt;демонстрация ошибок вёрстки&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;В CSS моего блога ещё до внедрения стайл гайда использовался компонентый подход. Учитывая мой БЭМ опыт, я была на 100%
уверена, что компоненты написаны хорошо. Но даже такая компонентная разработка всё равно происходила с точки зрения
страницы. До того как блоки были внедрены в блог, я делала их на отдельной статической странице. То есть отдельно, вне
страницы, они никогда и не существовали.&lt;/p&gt;
&lt;p&gt;Блоки разрабатывались как независимые, я писала код, пытаясь этого достигнуть. Но &lt;strong&gt;будучи размещенными вместе на одной и
той же странице, они никогда независимыми не были&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;После того как SC5 Style Guide волшебным образом отрисовал их по отдельности, я могу видеть, что блок
&lt;a href=&quot;http://varya.me/styleguide/#/section/1.1&quot;&gt;logo&lt;/a&gt; выровнен по правому краю. Хотя почему бы это? Очевидно, это моя ошибка,
допущенная, когда я верстала логитип внутри блока Header.&lt;/p&gt;
&lt;p&gt;То же самое произошло с &lt;a href=&quot;http://varya.me/styleguide/#/section/1.4&quot;&gt;переключалкой языков&lt;/a&gt;, она так же выровнена вправо.&lt;/p&gt;
&lt;p&gt;В &lt;a href=&quot;http://varya.me/styleguide/#/section/1.5&quot;&gt;блоке социальных иконок&lt;/a&gt; переключалка языков подразумевалась рядом с
иконкой RSS. Но на странице они располагаются близко друг к другу только потому что весь блок помещен в узкий контейнер.
В стайл гайде блок отрисован отдельно, и мне теперь видно, что он свёрстан неидеально.&lt;/p&gt;
&lt;p&gt;Конечно, такие открытия подразумевают скорый рефакторинг :-)&lt;/p&gt;
&lt;p&gt;И в довершение нужно сказать, что эксперимент не закончен. Есть и другие открытия для новых постов.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Using side drawers in mobile apps on Steroids.js]]></title><description><![CDATA[As a mobile apps user you may be already familiar to drawers.
They are quite popular solution for a side menu. Using `Steroids`
HTML5/JavaScript framework for hybrid mobile applications, you
can bring such an interface solution into your product very easy.
]]></description><link>http://varya.me/en/posts/steroids-drawers/</link><guid isPermaLink="false">http://varya.me/en/posts/steroids-drawers/</guid><content:encoded>&lt;p&gt;As a mobile apps user you may be already familiar to drawers.
They are quite popular solution for a side menu. Using &lt;code class=&quot;language-text&quot;&gt;Steroids&lt;/code&gt;
HTML5/JavaScript framework for hybrid mobile applications, you
can bring such an interface solution into your product very easy.
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;The usage of drawers explained here is demonstrated in the &lt;a href=&quot;https://github.com/AppGyver/kitchensink&quot;&gt;Steroids
Kitchensink&lt;/a&gt; open source application.
This is now being developed set of most useful examples for Steroids.
As the application is constantly changing, I will freeze the code examples
at &lt;a href=&quot;https://github.com/AppGyver/kitchensink/tree/ceacb0ea80799b1d81454e2e966b553b807fbadc&quot;&gt;28 May 2014&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To explore the application in your mobile device or in a
simulator clone the repository and run the project. You may need some information
about how to start Steroids projects. That can be learned from tutorials:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://academy.appgyver.com/categories/1-setup-and-getting-started/contents/1-installing-steroids&quot;&gt;Installing
Steroids&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://academy.appgyver.com/categories/1-setup-and-getting-started/contents/2-hello-world&quot;&gt;Hello World application&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Or from my recent article about &lt;a href=&quot;/en/posts/html5-mobile-app-width-native-ui/&quot;&gt;HTML5 mobile apps with native UI on
Steroids&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Once run the project you will see a page with a list of examples
and a navigation bar.&lt;/p&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/9652/14441195.32/0_8477d_3b6d66a5_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; border=&quot;0&quot;&gt;
&lt;p&gt;The button to teh left of a menu bar opens a side menu. But before we start to
study side drawers let’s look at how this button is shown.&lt;/p&gt;
&lt;p&gt;The initial view is coded in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/views/example/index.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/views/example/index.html&lt;/code&gt;&lt;/a&gt;.
This is an angular view with directives for the list and for the navigation bar.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-controller&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IndexCtrl&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;navigation-bar&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Steroids Kitchensink&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;left-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/vendor/icons8/menu-32&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onTap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;showMenu()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;left-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;navigation-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;navigation-bar&lt;/code&gt; directive is custom and described in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/directives/navigationBar.coffee&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/directives/navigationBar.coffee&lt;/code&gt;&lt;/a&gt;.
Using such a directive rather than &lt;code class=&quot;language-text&quot;&gt;steroids.view.navigationBar&lt;/code&gt; helpers at every page is
more useful for the applications with many views.&lt;/p&gt;
&lt;p&gt;Indeed inside the directive the same helpers are used. But declaring navigation bar
title and buttons in the view makes our programmers lifes a little bit
easier.&lt;/p&gt;
&lt;p&gt;Here the navigation bar titled “Steroids Kitchensink” contains a “hamburger”
menu button which responds to the tapping with calling &lt;code class=&quot;language-text&quot;&gt;showMenu&lt;/code&gt; methods of
the corresponding controller.&lt;/p&gt;
&lt;p&gt;This controller is coded in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/controllers/example.coffee&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/controllers/example.coffee&lt;/code&gt;&lt;/a&gt;.
As you can see, the &lt;code class=&quot;language-text&quot;&gt;showMenu&lt;/code&gt; method is pretty short.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;$scope.showMenu = ()-&amp;gt;
  steroids.drawers.show {
    edge: steroids.screen.edges.LEFT
  }&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It uses the drawers &lt;code class=&quot;language-text&quot;&gt;show&lt;/code&gt; method and slide the initial view to
the right which uncovers the menu view.&lt;/p&gt;
&lt;p&gt;Of course, the code needs to know what is the view we mean by ‘left’.
We have to provide it with such a knowledge declaring the list of drawers
in the &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/config/application.coffee#L39&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;config/application.coffee&lt;/code&gt;&lt;/a&gt;
configuration file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;steroids.config.drawers =
  left:
    id: &amp;quot;sidemenu&amp;quot;
    location: &amp;quot;http://localhost/views/sidemenu/index.html&amp;quot;
    showOnAppLoad: false
    widthOfDrawerInPixels: 250
  options:
    centerViewInteractionMode: &amp;quot;Full&amp;quot;
    closeGestures: [&amp;quot;PanNavBar&amp;quot;, &amp;quot;PanCenterView&amp;quot;, &amp;quot;TapCenterView&amp;quot;]
    openGestures: [&amp;quot;PanNavBar&amp;quot;, &amp;quot;PanCenterView&amp;quot;]
    showShadow: true
    stretchDrawer: true
    widthOfLayerInPixels: 0&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Here the menu view file and some parameters. You can learn about
what they mean from a special tutorial about &lt;a href=&quot;https://academy.appgyver.com/categories/3-user-interface-and-design/contents/98-configuring-drawers-on-app-load&quot;&gt;configuring drawers&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This will make the sidemenu shown.&lt;/p&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/9766/14441195.32/0_8477e_dbe7889e_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; border=&quot;0&quot;&gt;
&lt;p&gt;To make it look like in the picture you need to provide a
corresponding view with the list of menu items. Here it is defined
in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/views/sidemenu/index.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/views/sidemenu/index.html&lt;/code&gt;&lt;/a&gt;.
This is pretty similar to the list of examples in the initial view. To make it function
we provide:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a list of items and the corresponding view in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/www/data/sidemenu.json&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;www/data/sidemenu.json&lt;/code&gt;&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;data model in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/models/sidemenu.js&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/models/sidemenu.js&lt;/code&gt;&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;controller in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/app/controllers/sidemenu.coffee&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app/controllers/sidemenu.coffee&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From the drawers perspective the most important piece of code
to study is the controller. It says to hide the opened drawer if you
tap the currently active menu item. Opening other menu items goes
differently; it replaces the current central view with some animation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;if item.active
  steroids.drawers.hide {}
else
  webView = new steroids.views.WebView {
    id: item.id,
    location: item.url
  }
  steroids.drawers.hide {
    center: webView
  }&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Hiding the currently opened drawer with &lt;code class=&quot;language-text&quot;&gt;steroids.drawers.hide&lt;/code&gt; simply
gets back the previously shown central view.&lt;/p&gt;
&lt;p&gt;If you want to show a different page, you would also use &lt;code class=&quot;language-text&quot;&gt;steroids.drawers.hide&lt;/code&gt; but
with an additional &lt;code class=&quot;language-text&quot;&gt;center&lt;/code&gt; parameter to pass the needed view. This view has to be
created in advance with &lt;code class=&quot;language-text&quot;&gt;steroids.views.WebView&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Besides, such a view must be configured as preloaded in &lt;a href=&quot;https://github.com/AppGyver/kitchensink/blob/ceacb0ea80799b1d81454e2e966b553b807fbadc/config/application.coffee#L31&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;config/application.coffee&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffee&quot;&gt;
      &lt;pre class=&quot;language-coffee&quot;&gt;&lt;code class=&quot;language-coffee&quot;&gt;steroids.config.preloads = [
  {
    id: &amp;quot;settings&amp;quot;
    location: &amp;quot;http://localhost/views/settings/index.html&amp;quot;
  }
]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Thus, with tapping on the &lt;em&gt;Settings&lt;/em&gt; menu item you will get the settings
page shown.&lt;/p&gt;
&lt;img class=&quot;article__image&quot; src=&quot;http://img-fotki.yandex.ru/get/9667/14441195.32/0_8477f_2aafe347_L.png&quot; width=&quot;282&quot; height=&quot;500&quot; border=&quot;0&quot;&gt;
&lt;p&gt;This page is empty yet. The upcoming posts will fill it in with something
interesting. Stay tuned :-)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Конференции ScotlandCSS и ScotlandJS. Организация]]></title><description><![CDATA[
В этом году я принимала участие в организации конференций ScotlandCSS и ScotlandJS вместе
с замечательным шотландским комьюнити. Это очень интересный опыт — я увидела западную
конференцию изнутри (там всё не так) и получила опыт как нигде больше.

]]></description><link>http://varya.me/ru/posts/scotland-css-and-js-2016/</link><guid isPermaLink="false">http://varya.me/ru/posts/scotland-css-and-js-2016/</guid><content:encoded>&lt;p&gt;В этом году я принимала участие в организации конференций ScotlandCSS и ScotlandJS вместе
с замечательным шотландским комьюнити. Это очень интересный опыт — я увидела западную
конференцию изнутри (там всё не так) и получила опыт как нигде больше.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;p&gt;Я познакомилась с командой конференции год назад, когда выступала на ScotlandJS 2015, а  в этом
году мне предложили участие в качестве волонтёра. Я никогда ещё не подходила к западной конференции
так близко, и к тому же была единственным неместным членом команды, поэтому для меня всё было
очень необычно и очень интересно. Расскажу просто по порядку.&lt;/p&gt;
&lt;p&gt;Работа начинается задолго до дня X. Это не первая шотландская конференция, так что нам не понадобилось
делать сайт и систему голосования для выбора докладов. Кстати, одна из особенностей этой конференции —
все заявки от докладчиков видны участникам конференции, купившим билеты. Участники могут проголосовать,
и в программу попадают самые популярные доклады. У организаторов и волонтёров тоже есть право голоса.&lt;/p&gt;
&lt;p&gt;Когда все доклады определены, начинается работа со спикерами. Из-за удаленности я не принимала участия
в утряске вопросов про зал, отель, еду, но работала с докладчиками. Мы делали 3-дневное мероприятие:
1 день ScotlandCSS и 2 дня — ScotlandJS, поэтому докладчиков было много. С каждым докладчиком мы готовили
интервью для публикации на сайте. Докладчиков распределили среди волонтёров, волонтёр сам организовывал
интервью. Я использовала Skype для записи, а затем расшифровывала вручную. Расшифровывать очень долго
и трудно, тем более что мне достались докладчики с акцентами. Я пробовала различные средства автоматической
расшифровки, но из за акцентов и специальной лексики они все бесполезны. Готовое интервью отправлялось на
утверждение к докладчику. Я использовала Google Docs, потому что ребята вносили свои правки. Готовые
интервью публиковались на сайте конференции.&lt;/p&gt;
&lt;p&gt;Вот получившиеся у меня интервью:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://scotlandcss.com/2016/04/04/interview-with-christoph-reinartz/&quot;&gt;Christoph Reinartz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scotlandjs.com/2016/05/10/interview-with-silvia-pina/&quot;&gt;Silvia Pina&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scotlandjs.com/2016/05/22/interview-with-robin-mehner/&quot;&gt;Robin Mehner&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;В последнем интервью есть даже фото двух котиков.&lt;/p&gt;
&lt;p&gt;В Эдинбург я приехала за день до конференции. Работа волонтёра начинается рано утром, да и накануне вечером
была общая встреча команды конференции и докладчиков. Мы ходили в кружок кельтских танцев и затем в бар.&lt;/p&gt;
&lt;p&gt;Насчёт танцев я волновалась, потому что они явно не в числе моих талантов. Но всё оказалось непринужденно:
многие как и я не умели танцевать, а завсегдатаи кружка (шотландские дедушки в килтах) доходчиво всё
объясняли. Оказалось несложно. Но видео нет. Наверное, “слава Богу”.&lt;/p&gt;
&lt;p&gt;Следующиюще 3 дня проходила конференция. Каждое утро команда была на месте в 7:30. На входе для нас уже были расставлены столы и
все необходимые вещи лежали там же. Нашей работой было развесить баннеры, разложить по алфавиту бейджи,
выложить наклейки.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626528&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/25232/14441195.4c/0_98f60_16a19a01_L.jpg&quot; width=&quot;500&quot; height=&quot;375&quot; border=&quot;0&quot; title=&quot;IMG_2894.jpg&quot; alt=&quot;IMG_2894.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Бейджи несовершеннолетних участников надо было обвести красным маркером. Точно не знаю, зачем это было нужно.
Возможно, британское законодательство требует к ним особого обращения. Например, не предлагать алкоголь.&lt;/p&gt;
&lt;p&gt;Бейджи мы раздавали участникам, когда они подходили к столу и представлялись. Для меня это было довольно
сложно — нужно было очень хорошо слышать, как человек называет своё имя. Причём, некоторые называли имя,
а некоторые — фамилию. Хорошо бы сразу знать типичные английские и шотландские имена и фамилии, чтобы
быстро соориентироваться. Дело осложняется ещё и тем, что многие имена пишутся не так как слышатся.&lt;/p&gt;
&lt;p&gt;Вместе с бейджем мы давали наклейки, листок спонсорской рекламы, объясняли, где находится зал, где туалеты,
где можно попить кофе.&lt;/p&gt;
&lt;p&gt;Для бейджей участникам предлагалось выбрать цвет веревочки. Стандарный или фиолетовый. Фиолетовый цвет
означал несогласие быть на общих фотографиях. Фотограф старался, чтобы такие люди не попали в кадр. А
если они попадали, при обработке эти кадры выбраковывались.&lt;/p&gt;
&lt;p&gt;Рядом с welcome desk мы установили транспоранты. Один с программой текущего дня конференции (он менялся
каждый день).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626533&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/54004/14441195.4c/0_98f65_1e9f875d_L.jpg&quot; width=&quot;375&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;IMG_2903.jpg&quot; alt=&quot;IMG_2903.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Второй — с code of conduct и инклюзивными принципами конференции.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626534&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/53078/14441195.4c/0_98f66_ecf5372b_L.jpg&quot; width=&quot;375&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;IMG_2904.jpg&quot; alt=&quot;IMG_2904.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Эта конференция в моём опыте была самая инклюзивная: и по тематике докладов, и по составу участников
(были и трансгендеры, и non-binary, все расы, и т.д). Инклюзивности и соблюдению code of conduct
придавалось особое внимание. Перед конференцией волонтёры проходили тренинг о предотвращении конфликтных
ситуаций, и был целый протокол, как в них действовать, и как команда координируется.&lt;/p&gt;
&lt;p&gt;В женском туалете для общего пользования были дезодорант, влажные салфетки, 2 разные пачки тампонов,
2 пачки прокладок. Про мужской туалет ничего не могу сказать, а про женский знаю, что это именно от
конференции, потому что сама раскладывала. Так же понадобилось временно убрать всё на 1 час, когда в
музее (то же самое здание) была детская экскурсия, чтобы дети не баловались. В целом мне очень понравилась
эта идея с вниманием к мелочам. Бюджет на туалетные принадлежности составил меньше 10 фунтов, и у
многих людей появилось ощущение заботы о них.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626532&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/105980/14441195.4c/0_98f64_6ed8ba7f_L.jpg&quot; width=&quot;375&quot; height=&quot;500&quot; border=&quot;0&quot; title=&quot;IMG_2902.jpg&quot; alt=&quot;IMG_2902.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;У каждого докладчика был свой speaker buddy из числа волонтёров. То есть каждый волонтёр отвечал за
нескольких докладчиков. Это очень удобно для организаторов, не нужно держать фокус сразу на всех. Buddy
следит за тем, чтобы докладчик вовремя появился на конференции, находит время для проверки его/её слайдов
на большом экране, и всячески помогает. Быть speaker buddy несложно, но иногда надо делать неожиданные
вещи. Одна из моих спикеров пришла довольно поздно, за 10 минут до своего доклада и с немного осипшим
голосом. Она была уверена, что ей поможет горячий чай, поэтому мне пришлось его добыть, а для этого —
перевести переговоры с кейтерингом. Сначала они не хотели наливать чай не во время перерыва, ведь организаторы
за это не платили. Но в итоге мне удалось их уговорить :-)&lt;/p&gt;
&lt;p&gt;Кроме работы со спикерами волонтёры дежурили на входе, у welcome desk. С утра, во время регистрации — все
вместе, а в течение конференции — по сменам. Кроме выдачи бейджи для опоздавших, волонтёрам на входе
нужно реагировать на нестандартные ситуации. У меня было две запомнившиеся:&lt;/p&gt;
&lt;p&gt;Посетительница музея заинтересовалась баннером с принципами конференции. Попросила объяснить ей, что такое
“misogyny”. Мне кажется, я объяснила.&lt;/p&gt;
&lt;p&gt;Второй инцидент был с пакистанской (предположительно) бабушкой, скорее всего тоже пришедшей в музей.
Она хотела взять несколько бейджей, ещё ожидавших участников. Но мне удалось обменять их на пустые
бейджи и наклейку. Бабушка ушла довольная.&lt;/p&gt;
&lt;p&gt;Также дежурные волонтёры обычно координируют команду для решения проблем участников и докладчиков.
Люди приходили со своими проблемами на welcome desk. Дежурному нельзя покидать место, но организовать
решение проблемы, сообщив нужным членам команды и скоординировав их.&lt;/p&gt;
&lt;p&gt;У волонтёров были футболки в цвет конференции, с именем на спине. Каждый день футболка выдавалась новая.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626529&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/151986/14441195.4c/0_98f61_d80fb428_M.jpg&quot; width=&quot;300&quot; height=&quot;225&quot; border=&quot;0&quot; title=&quot;IMG_2900.jpg&quot; alt=&quot;IMG_2900.jpg&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626530&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/59186/14441195.4c/0_98f62_1dc9c0e9_M.jpg&quot; width=&quot;300&quot; height=&quot;225&quot; border=&quot;0&quot; title=&quot;IMG_2911.jpg&quot; alt=&quot;IMG_2911.jpg&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://fotki.yandex.ru/next/users/toivonens/album/165318/view/626531&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img-fotki.yandex.ru/get/98813/14441195.4c/0_98f63_c9e1cd09_M.jpg&quot; width=&quot;300&quot; height=&quot;225&quot; border=&quot;0&quot; title=&quot;IMG_2924.jpg&quot; alt=&quot;IMG_2924.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;С размером, хотя мы его определяли удаленно, повезло. И ещё мне понравилось, что логотип впереди был
некрупный и не посередине груди.&lt;/p&gt;
&lt;p&gt;Мне удалось послушать немного докладов. Те выступления, что выпали на время моих дежурств или работы со спикерами,
я пропустила. Но удалось захватить некоторые интересные вещи:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Large scale CSS refactoring, Christoph Reinartz&lt;/li&gt;
&lt;li&gt;Overcoming the challenges of mentoring, Kim Crayton&lt;/li&gt;
&lt;li&gt;How to ask about gender, Chad Gowler&lt;/li&gt;
&lt;li&gt;Open open source, Charlotte Spenser&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Когда будет доступно видео этих докладов, я обязательно им поделюсь в Твиттере.&lt;/p&gt;
&lt;p&gt;Подводя итог, конференция необычная и интересная. Особенно замечательно то, что это мероприятие
локального сообщества, а значит - самое место для знакомств, которые вы не сможете завести нигде больше.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://scotlandcss.com/&quot;&gt;ScotlandCSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scotlandjs.com/&quot;&gt;ScotlandJS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Switching to bem-core#v2]]></title><description><![CDATA[The `bem-core` library goes futher and there already is `2.0.0` version
available. This blog was safely switched to the new major version with
[some diff to the
code](https://github.com/varya/varya.github.com/commit/f21f810b7cb4e16206ef3d088a8b2c38b615f8f3).
Now so can do you. Careful examination of the version changelog will help you
with it. Look how I did this.]]></description><link>http://varya.me/en/posts/switching-to-bem-core-2/</link><guid isPermaLink="false">http://varya.me/en/posts/switching-to-bem-core-2/</guid><content:encoded>&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;bem-core&lt;/code&gt; library goes futher and there already is &lt;code class=&quot;language-text&quot;&gt;2.0.0&lt;/code&gt; version
available. This blog was safely switched to the new major version with
&lt;a href=&quot;https://github.com/varya/varya.github.com/commit/f21f810b7cb4e16206ef3d088a8b2c38b615f8f3&quot;&gt;some diff to the
code&lt;/a&gt;.
Now so can do you. Careful examination of the version changelog will help you
with it. Look how I did this.&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;When a new bem library version is released its changelog is published on the
official BEM website. You can examine the &lt;a href=&quot;http://bem.info/libs/bem-core/2.0.0/changelog/&quot;&gt;list of changes for bem-core
2.0.0&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The changelog is divided into 3 parts: breaking, marjor and minor changes.&lt;/p&gt;
&lt;p&gt;Breaking changes takes most of your attention. As you can see, they declare
removing of some basic methods as well as hosting some code in different
repositories. Thus, if you used some of the listed methods, the switch pushes
you to refactor your code a little bit.&lt;/p&gt;
&lt;p&gt;The major changes are less critical but might case some code changes as well. In
this version BEM team provided &lt;a href=&quot;https://github.com/bem/bem-core/issues/382&quot;&gt;new syntax for defining the blocks in
JavaScript&lt;/a&gt;. This change is not
breaking as the old syntax still works. However it is nice to go through a small
refactoring and switch to the new type of module declaration keeping your code
neat for the future.&lt;/p&gt;
&lt;p&gt;The same goes for the &lt;a href=&quot;https://github.com/bem/bem-core/issues/410&quot;&gt;change to DOM
helpers&lt;/a&gt;. With getting the context
as a result of using those helpers you can get rid of a couple of lines per
block.&lt;/p&gt;
&lt;p&gt;Summing it up, switcing to the new version should be your happiest time as you
have a ready-made excuse to dive into refactoring.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[10 ошибок XSLT-программистов]]></title><description><![CDATA[
Перевод [статьи "The ten most common XSLT programming
mistakes"](http://saxonica.blogharbor.com/blog/_archives/2010/6/11/4550606.html),
ссылка на которую недавно опубликована в [клубе XSLT на
Я.ру](http://clubs.ya.ru/xslt/).

Недавно я сказал в ответ пользователю, что он попадает в наиболее
распространённые ловушки для программистов на XSLT. Вместо того, чтобы быть
раздраженным, что я почти ожидал, он поблагодарил меня и спросил, не мог бы я
рассказать ему о двугих ловушках.]]></description><link>http://varya.me/ru/posts/ten-xslt-mistakes/</link><guid isPermaLink="false">http://varya.me/ru/posts/ten-xslt-mistakes/</guid><content:encoded>&lt;p&gt;Перевод &lt;a href=&quot;http://saxonica.blogharbor.com/blog/_archives/2010/6/11/4550606.html&quot;&gt;статьи “The ten most common XSLT programming
mistakes”&lt;/a&gt;,
ссылка на которую недавно опубликована в &lt;a href=&quot;http://clubs.ya.ru/xslt/&quot;&gt;клубе XSLT на
Я.ру&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Недавно я сказал в ответ пользователю, что он попадает в наиболее
распространённые ловушки для программистов на XSLT. Вместо того, чтобы быть
раздраженным, что я почти ожидал, он поблагодарил меня и спросил, не мог бы я
рассказать ему о двугих ловушках.&lt;excerpt/&gt; Некоторые из нас помогают людям избежать этих
ловушек в течение многих лет, но, несмотря на это, я не припомню, чтобы видел
список таких ловушек. Так что я решил потратить полчаса, чтобы составить такой
список.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Обрабатывать элементы в дефолтном пространстве имён (namespace). Если
исходный XML-документ содержит декларацию дефолтного пространства имён
&lt;code class=&quot;language-text&quot;&gt;xmlns=&amp;quot;something&amp;quot;&lt;/code&gt;, то каждый раз, когда вы ссылаетесь на имя элемента в
XPath-выражении или значении атрибута match, вы должны ясно давать понять, что
вы имеете в виду элементы из этого пространства имён. В XSLT 1.0 вы должны
связать префикс с этим пространством имён (например &lt;code class=&quot;language-text&quot;&gt;xmlns:p=&amp;quot;something&amp;quot;&lt;/code&gt; в
элементе &lt;code class=&quot;language-text&quot;&gt;xsl:stylesheet&lt;/code&gt;) и затем везде использовать этот префикс, напимер,
&lt;code class=&quot;language-text&quot;&gt;match=&amp;quot;p:chapter/p:section&amp;quot;&lt;/code&gt;. В XSLT 2.0 есть альтернатива - задекларировать в
элементе xslt:stylesheet &lt;code class=&quot;language-text&quot;&gt;default-xpath-namespace=&amp;quot;something&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Использование относительных путей. xsl:apply и xsl:for-each принимают текущий
узел; в рамках “цикла” пути должны быть написаны относительно текущего узла.
Например,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;  &amp;#x3C;xsl:for-each select=“chapter”&gt;&amp;#x3C;xsl:value-of select=“title”/&gt;&amp;#x3C;/xsl:for-each&gt;&lt;/p&gt;
&lt;p&gt;Распространённая ошибка - использование абсолютных путей внутри цикла (например &lt;em&gt;select=“//title”&lt;/em&gt;) или повторение имени контекстного узла в относительном пути (&lt;em&gt;select=“chapter/title”&lt;/em&gt;).&lt;/li&gt;&lt;/p&gt;
  &lt;li&gt;Переменные содержат значения, а не фрагменты синтаксических выражений. Некоторые люди думают, что ссылка на переменную $x подобна макросу, распространяющемуся и на синтаксис xPath-выражений путйм буквального замещения - как в языках типа shell. Это не так: вы можете использовать переменные только там, где вы можете использовать значение. Например, если $N содержит строку &apos;para&apos;, то выражение &lt;em&gt;chapter/$N&lt;/em&gt; не означает того же, что и &lt;em&gt;chapter/para&lt;/em&gt;. Вместо этого вам нужно &lt;em&gt;chapter/*[name()=$N]&lt;/em&gt;. Если переменная содержит что-то более сложное, чем просто имя (например, запись xPath-пути), вам понадобится расширение, подобное saxon:evaluate(), чтобы вычислить это.&lt;/li&gt;
  &lt;li&gt;Шаблонные правила &lt;em&gt;xsl:apply-templates&lt;/em&gt; - это не расширенные возможности языка для подвинутых пользователей. Это самые основные, фундаментальные конструкции в XSLT. Не откладывайте тот день, когда вы начнёте их использовать. Если вы не используете их, вы делаете свою жизнь излишне сложной.&lt;/li&gt;
  &lt;li&gt;XSLT принимает дерево на вход и отдаёт дерево на выходе. Непонимание этого является причиной многих разочарований, которые возникают у новичков в XSLT. XSLT не может обработать вещи, которые не представлены в дереве, предоставленном XML-парсером (области CDATA, ссылки на сущности (entity), XML-декларация), и не может сгенерировать эти вещи на выходе. Если вы думаете, что вам это необходимо, спросите &quot;почему?&quot;. Возможно что-то не так с вашими требованиями или замыслом.&lt;/li&gt;
  &lt;li&gt;Пространства имён (namespace) - это трудно. Нет лёгкого способа опровергнуть это. Возможно, это требует отдельной статьи. Разгадка в понимании модели пространств имён. Пространства имён проявляются в двух ипостасях:
&lt;ol&gt;  &lt;li&gt;Каждый элемент или атрибут имеет имя, состоящее из префикса, собственно имени и URI.&lt;/li&gt;
  &lt;li&gt;Элементы обладают узлами пространств имён, представляющими все префикс-uri соответствия в границах этого элемента.&lt;/li&gt;
&lt;/ol&gt;
Когда вы поймёте это, вы сможете понять особенности различных правил и их влияние на пространства имён в результирующем дереве. Чаще всего, всё, что вам нужно делать, это гарантировать, что создаваемые вами элементы находятся в верном пространстве имён, всё остальное произойдёт само собой.
&lt;/li&gt;
  &lt;li&gt;Не используйте &lt;em&gt;disable-output-escaping&lt;/em&gt;. Некоторые люди используют эту магическую приправу, но не понимают, что она делает. Они надеются, что это может заставить код работать лучше. Этот атрибут только для профессионалов, и профессионалы используют это только как последнее средство спасения. В 95% случаях, если вы встретили в преобразовании &lt;em&gt;disable-output-escaping&lt;/em&gt;, это говорит о том, что автор был новичком, не понимающим, что он делает.&lt;/li&gt;
  &lt;li&gt;Инструкция &lt;em&gt;&lt;xsl:copy-of&gt;&lt;/em&gt; создаёт точную копию исходного дерева, пространств имён и всего остального. (Есть исключение - в XSLT 2.0 вы можете сказать &lt;em&gt;copy-namespaces=&quot;no&quot;&lt;/em&gt;). Если вы хотите скопировать дерево с изменениями, вы не можете использовать &lt;em&gt;xsl:copy-of&lt;/em&gt;. Вместо этого используйте шаблон идентичного преобразования: шаблон, который использует создание поверхностной копии элемента и применяет &lt;em&gt;applies-templates&lt;/em&gt; ко всем его потомкам, дополненный шаблонами, переопределяющими это поведение для отдельных элементов.&lt;/li&gt;
  &lt;li&gt;Не используйте
[cc lang=&quot;xml&quot;]
&lt;xsl:variable name=&quot;x&quot;&gt;&lt;xsl:value-of select=&quot;y&quot;/&gt;&lt;/xsl:variable&gt;
[/cc]
Вместо этого используйте
[cc lang=&quot;xml&quot;]
&lt;xsl:variable name=&quot;x&quot; select=&quot;y&quot;/&gt;
[/cc]
Последняя запись короче, более действенна при исполнении, и в любом случае она корректна.&lt;/li&gt;
  &lt;li&gt;Когда вам нужно найти информацию, используйте ключи. Также как и в случае с шаблонами, не откладывайте изучение использования ключей и не выбрасыйте их из головы как &quot;продвинутую&quot; возможность. Это важнейший инструмент разработки. Поиск информации без использования ключей сродни забиванию гвоздей отвёрткой.&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Week 44, 2016]]></title><description><![CDATA[
First thing first, I'm staring weekly posts about findings that are somehow related to work. This is a mature but not yet
implemented idea. Although, a friend of mine [Vladimir Starkov sometimes practises the same](https://iamstarkov.com/).

In this issue there are tips on organizing Google Calendar, nice project management addition for GitHub, Styleguide
solutions for React projects and a couple of good reads.

]]></description><link>http://varya.me/en/posts/week-44-2016/</link><guid isPermaLink="false">http://varya.me/en/posts/week-44-2016/</guid><content:encoded>&lt;p&gt;First thing first, I’m staring weekly posts about findings that are somehow related to work. This is a mature but not yet
implemented idea. Although, a friend of mine &lt;a href=&quot;https://iamstarkov.com/&quot;&gt;Vladimir Starkov sometimes practises the same&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this issue there are tips on organizing Google Calendar, nice project management addition for GitHub, Styleguide
solutions for React projects and a couple of good reads.&lt;/p&gt;
&lt;excerpt/&gt;
&lt;h2&gt;Week numbers in Google calendar&lt;/h2&gt;
&lt;p&gt;In Finland, the week numbers are widely used. People easily make agreements on let’s say “the beginning on week 45”. For
this purpose and also for the actual weekly reports, I have subscribed for a special Google calendar
which provides a small week number at the top right corner or every monday.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/CalendarWeekNumbers3-be903a54cb883a07127a4972a4f2e88d-b3550.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 256px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 84.765625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAp0lEQVQ4y+2TMQ+CMBCF+///lYoYiKNxUIIDg2CUIIGk7bU9n6iLS2kHJ19yN933XnLtCWZu6ro4lIqI58g513V8a53WwlqrpJJSGq+IDDMdi2GVXteZzrcCRn1/H8bxZerJRE83VXVZnFqT5c9kmHqwD4xmz41eJpSkarcXc8kvF0Qyh8MYnuaxgqjkSQAF9sxR+sO/hoko/p1R+N4uXEh9H4YNF6gH8qbvVRT+NSwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;CalendarWeekNumbers3&quot;
        title=&quot;&quot;
        src=&quot;/static/CalendarWeekNumbers3-be903a54cb883a07127a4972a4f2e88d-b3550.png&quot;
        srcset=&quot;/static/CalendarWeekNumbers3-be903a54cb883a07127a4972a4f2e88d-311c9.png 200w,
/static/CalendarWeekNumbers3-be903a54cb883a07127a4972a4f2e88d-b3550.png 256w&quot;
        sizes=&quot;(max-width: 256px) 100vw, 256px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Here are the instructions:
&lt;a href=&quot;http://www.daimto.com/how-to-add-week-numbers-to-your-google-calendar/&quot;&gt;http://www.daimto.com/how-to-add-week-numbers-to-your-google-calendar/&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;ZenHub — a GitHub issue tracker&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.zenhub.com/&quot;&gt;ZenHub&lt;/a&gt; is an add-on, which makes different boards with columns on top of GitHub issues.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/zenhub-task-board-49c4e922d62135c7a2bd496f694b50d2-34f26.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 720px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 59.30555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHcBCxP/8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAEFAg4//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERECFBYbH/2gAIAQEAAT8hvRfKNuEoJaRFj//aAAwDAQACAAMAAAAQMN//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEBAAMBAAAAAAAAAAAAAREhADFBYaH/2gAIAQEAAT8QEp4W/nBmk+nAlkZwU3L74KEsJvGEMO//2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;zenhub task board&quot;
        title=&quot;&quot;
        src=&quot;/static/zenhub-task-board-49c4e922d62135c7a2bd496f694b50d2-34f26.jpg&quot;
        srcset=&quot;/static/zenhub-task-board-49c4e922d62135c7a2bd496f694b50d2-a3779.jpg 200w,
/static/zenhub-task-board-49c4e922d62135c7a2bd496f694b50d2-3e4a1.jpg 400w,
/static/zenhub-task-board-49c4e922d62135c7a2bd496f694b50d2-34f26.jpg 720w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It looks like a competitor of embedded &lt;a href=&quot;https://github.com/blog/2256-a-whole-new-github-universe-announcing-new-tools-forums-and-features&quot;&gt;GitHub
Projects&lt;/a&gt; but with
more features.&lt;/p&gt;
&lt;h2&gt;React Storybook and React Styleguidist&lt;/h2&gt;
&lt;p&gt;In the project I have started on Monday, we faced the need to document React components. There were two candidates
among the tools to use — &lt;a href=&quot;https://getstorybook.io/&quot;&gt;React Storybook&lt;/a&gt; and &lt;a href=&quot;https://github.com/sapegin/react-styleguidist&quot;&gt;React
Styleguidist&lt;/a&gt;. Both with their pros and cons.&lt;/p&gt;
&lt;p&gt;By now, we ended up with Styleguidist. Anyway, this is not a mature solution, and we can probably think back.&lt;/p&gt;
&lt;p&gt;The Storybook was super easy to install. However, it requires more typing for every story and does not read the props out
of the documenting comments.&lt;/p&gt;
&lt;p&gt;The Styleguidist was a tricky thing to run. Everything goes smoothly at simple projects but this was not our case. There
were some difficulties with the pages wrapped into &lt;code class=&quot;language-text&quot;&gt;react-hot-loader&lt;/code&gt; container. I solved it by introducing proper file
structure. We should have it anyway. Now, there is a dedicated folder for the components and we taught the Styleguidist
to work with it.&lt;/p&gt;
&lt;p&gt;As a piece of advice to friends, I can give the following: try to reuse your normal webpack config and not to write another one
in the &lt;code class=&quot;language-text&quot;&gt;styleguide.config.js&lt;/code&gt; file. It will save you some time when changing the building process. This is our version:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const siteWebpack = require(&amp;quot;./webpack.config.js&amp;quot;);

module.exports = {
  title: &amp;#39;My Great Style Guide&amp;#39;,
  components: &amp;#39;./src/components/**/*.jsx&amp;#39;,
  updateWebpackConfig(webpackConfig) {
    siteWebpack.module.loaders.forEach(function(loader) {
      webpackConfig.module.loaders.push(loader);
    });
    webpackConfig.postcss = siteWebpack.postcss;

    return webpackConfig;
  },
};&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;How to Write a Git Commit Message&lt;/h2&gt;
&lt;p&gt;The article &lt;a href=&quot;http://chris.beams.io/posts/git-commit/&quot;&gt;How to Write a Git Commit Message&lt;/a&gt; by Chris Beams has already
turned 2 years but still actual. I have read it previously and try to follow. But I do not recollect me shring the link
to it. So, here it is.&lt;/p&gt;
&lt;h2&gt;4 different kinds of React component style&lt;/h2&gt;
&lt;p&gt;Setting up a new project I have scanned a lot of recent articles about React. One of them is &lt;a href=&quot;https://www.peterbe.com/plog/4-different-kinds-of-react-component-styles&quot;&gt;4 different kinds of React
component style&lt;/a&gt;. I had doubts if to put it in
this blog post or not because it did not tell me much new. On the other hand, it’s not a long read and finely summarizes
different kinds of React components.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What   makes   entrepreneurs   entrepreneurial?]]></title><description><![CDATA[
Last year, during my studies of IDBM program at Aalto University, I took a course "Design in Innovation Context" which
covered entrepreneurial innovations and behavior. Even out of study context but in everyday life I have always been
interested in the answer to the question “What is so special about entrepreneurs that makes them who they are?”. Below,
I have tried to summarize the knowledge I got and answer this question.

]]></description><link>http://varya.me/en/posts/what-makes-entrepreneurs-entrepreneurial/</link><guid isPermaLink="false">http://varya.me/en/posts/what-makes-entrepreneurs-entrepreneurial/</guid><content:encoded>&lt;p&gt;Last year, during my studies of IDBM program at Aalto University, I took a course “Design in Innovation Context” which
covered entrepreneurial innovations and behavior. Even out of study context but in everyday life I have always been
interested in the answer to the question “What is so special about entrepreneurs that makes them who they are?”. Below,
I have tried to summarize the knowledge I got and answer this question.&lt;/p&gt;
&lt;excerpt/&gt;
Very interesting article by prof. Saras D. Sarasvathy introduces and explains the concept of “effectual thinking” as a
special property of entrepreneurial mindset which affects entrepreneurs’ decision-making process and the way they
address problems and overcome challenges. Unlike causal thinking, the effectual thinking assumes set of given means
rather than a specific goal to aim. Entrepreneurs are to act in an uncertain environment with plans to be made and
re-made on the go rather than strategically articulated for a distant future like classic business schools teach to do.
&lt;p&gt;In my opinion, many aspects of “effectual” thinking introduced by prof. Saras D. Sarasvathy very much reflect design
thinking principles. Design thinking proposes a set of strategies to be used during the process of designing. As
Wikipedia suggests, this approach can be also used to resolve issues outside professional design practice.
Entrepreneurs, consciously or not, are using design thinking in their domain.&lt;/p&gt;
&lt;p&gt;According to the design thinking, no “brilliant mind” is needed for a good idea but a creative and
human-centered process. Similarly to that, many entrepreneurs cannot explain what is so special about them to achieve
the success. In many cases, their answers to the question can be shortened to “I just did it”. However, if to analyze
the strategies they are applying and way they form their social networks, we can find a lot of attributes of design
thinking in all the aspects of an entrepreneurial experience.&lt;/p&gt;
&lt;p&gt;Applying design thinking, it is good to use a cycle of solving problems which starts from empathizing, is followed by
ideation and making a prototype with the next testing and implementing. (Brown, 2008) As prof. Saras D. Sarasvathy
pointed out, successful entrepreneurs tend to start from their familiar domain which matches emphasizing the problem.
However, in many cases, with the following interaction, the solution or even the area may change completely.&lt;/p&gt;
&lt;p&gt;Prototyping and early releases are very much encouraged by the design thinking. It requires special strength to stop the
improving process and release. Besides the obvious advantage of meeting its users, early prototype ensures that its
creators will more likely provide changes according to the gotten feedback. If the release happens later and in a more
polished way, the creators probably have the final vision of their product. This would make it harder for them to accept
feedback or to find innovative solutions to the problems which such feedback addresses. In the same way, successful
entrepreneurs introduce their products and services as soon as possible, sometimes even before they are ready. It is
also possible because entrepreneurs feel the need to act in uncertainty by the appeared information, with plans to be
made and remade to reflect the changing environment. Often happens that such a strategy leads to the result never
possible to achieve if using casual practices. Similar to designers, entrepreneurs experience the “a-ha moments” never
possible to be planned in the classical business approach.&lt;/p&gt;
&lt;p&gt;Basics of effectual reasoning are that we do not need to predict the future in order to control it. Acting by this
principle may face psychological issues as many people do not find it comfortable. Unlike them, entrepreneurs follow
this strategy and act according to the new information. Even though it looks like taking risks, in many cases it is
self-controlled iterative problem-solving process exactly as design thinking suggests.&lt;/p&gt;
&lt;p&gt;However, the try-and-test approach can lead to a failure. But thanks to iterative nature of this process and early
releases, such failures occur earlier and at low levels of investment, which makes them affordable. Besides, failure as
other unexpected stuff becomes a part of an entrepreneurial experience and transforms unpredicted into utterly mundane
is the special domain of entrepreneur’s expertise. Matching this to design thinking paradigm, we must admit that
entrepreneurs demonstrate growth mindset which makes failures not so frightening because they are the possibilities to
learn and sometimes look as the necessary part of the road to the success. (Edmondson, 2011)&lt;/p&gt;
&lt;p&gt;Successful entrepreneurs tend to win even when they fail also because of their ways to interact with people. While
acting, entrepreneurs form a social network and strategic connections. In entrepreneurial experience, strategic
partnership is one of the keys to the success. For example, often happens, that it opens the doors to the already taken
markets which analytical market researches suggest not to enter.&lt;/p&gt;
&lt;p&gt;To be able to establish such partnership with the right people, entrepreneurs need to behave according to “giving
culture” principles. Being givers, they are oriented to their own success but also help others along the road. These
win-win strategies help them to overcome their current challenge as well as form useful network of strategic connections
and domain for future iterations and new projects. (Grant, 2013)&lt;/p&gt;
&lt;p&gt;As communication and networking are the major parts of the entrepreneurial experience, for entrepreneurs one of the most
important things to do is to surround themselves with right people and lead them. A leader in this sense and according
to the design thinking is not a manager but a champion of engagement. In practice, a leader contributes to vision and
strategy as well as makes sure that collaboration happens. Entrepreneurs lead people providing them with emotional
ownership in the goals and objectives. Similarly to how entrepreneurs form their market environment, they grow the right
people. (Paasonen, 2017)&lt;/p&gt;
&lt;p&gt;By the end of the day, as designers, entrepreneurs solve the problems and determining the future. No wonder, that the
methods and principles both use to achieve success are basically the same.&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;Sarasvathy S. D., 2008. What makes entrepreneurs entrepreneurial?&lt;br/&gt;
&lt;a href=&quot;http://www.effectuation.org/sites/default/files/research_papers/what-makes-entrepreneurs-entrepreneurial-sarasvathy_0.pdf&quot;&gt;http://www.effectuation.org/sites/default/files/research&lt;em&gt;papers/what-makes-entrepreneurs-entrepreneurial-sarasvathy&lt;/em&gt;0.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Brown T., 2008 .Design Thinking&lt;/p&gt;
&lt;p&gt;Edmondson A. C., 2011. Strategies for learning from failure&lt;br/&gt;
&lt;a href=&quot;https://hbr.org/2011/04/strategies-for-learning-from-failure&quot;&gt;https://hbr.org/2011/04/strategies-for-learning-from-failure&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Grant A., 2013. Give and Take&lt;/p&gt;
&lt;p&gt;Paasonen J., 2017. Design Leader’s Cookbook&lt;br/&gt;
&lt;a href=&quot;https://www.slideshare.net/JuhoPaasonen/design-leaders-cookbook-building-highperforming-and-happy-creative-teams&quot;&gt;https://www.slideshare.net/JuhoPaasonen/design-leaders-cookbook-building-highperforming-and-happy-creative-teams&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Простые числа и XPath]]></title><description><![CDATA[
Иногда мы на работе решаем интересные задачки. Вот, например, одна (почти первая) в постановке
<a href="http://alpha-san.ya.ru/"><span style="color: #000000;"><strong><span style="color: #ff0000;">n</span>op`а</strong></span></a>:
]]></description><link>http://varya.me/ru/posts/xpath-prime-numbers/</link><guid isPermaLink="false">http://varya.me/ru/posts/xpath-prime-numbers/</guid><content:encoded>&lt;p&gt;Иногда мы на работе решаем интересные задачки. Вот, например, одна (почти первая) в постановке
&lt;a href=&quot;http://alpha-san.ya.ru/&quot;&gt;&lt;span style=&quot;color: #000000;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;n&lt;/span&gt;op`а&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;:
&lt;excerpt/&gt;&lt;/p&gt;
&lt;h2&gt;Частный случай&lt;/h2&gt;
&lt;p&gt;Дан такой xml:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;N-1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;N&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;т.е. выписаны все натуральные числа от 1 до N включительно. Про N ничего заранее не известно —
большое, маленькое, еще какое-то — мы не знаем.&lt;/p&gt;
&lt;p&gt;Нужно. Написать &lt;strong&gt;xpath&lt;/strong&gt;, выбирающий все item’ы с простыми числами.
Подчеркиваю - &lt;strong&gt;xpath&lt;/strong&gt;.
Т.е. внутри тега xsl:stylesheet должен быть один примерно такой шаблон:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
  &amp;lt;xsl:copy-of select=&amp;quot;.......&amp;quot;/&amp;gt;
&amp;lt;/xsl:template&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;и больше ничего — ни переменных, ни других шаблонов, ни функций.&lt;/p&gt;
&lt;p&gt;На выходе будет что-то типа:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;3&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;5&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;7&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Решение следующее:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
  &amp;lt;items&amp;gt;
    &amp;lt;xsl:copy-of
      select=&amp;quot;items/item[
        not(preceding-sibling::item[(last() + 1) mod . = 0 and . != 1])
        and
        . != 1
      ]&amp;quot;/&amp;gt;
  &amp;lt;/items&amp;gt;
&amp;lt;/xsl:template&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Общая задача&lt;/h2&gt;
&lt;p&gt;Усложненный вариант — все тоже самое, но в xml просто набор item’ов с какими-то натуральными числами
в каком-то порядке, например:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;142&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;73&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;10000341&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;10&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Решение:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xslt&quot;&gt;
      &lt;pre class=&quot;language-xslt&quot;&gt;&lt;code class=&quot;language-xslt&quot;&gt;&amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;
  &amp;lt;items&amp;gt;
    &amp;lt;xsl:copy-of select=&amp;quot;items/item[
      not(
        str:tokenize(str:padding(. - 1, &amp;#39;1&amp;#39;), &amp;#39;&amp;#39;)[
          (last() + 1 ) mod position()= 0
          and position() != 1
        ]
      ) and . != 1
      ]&amp;quot;/&amp;gt;
  &amp;lt;/items&amp;gt;
&amp;lt;/xsl:template&amp;gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Чтобы понять, что тут делается, надо прочитать про функции
&lt;a href=&quot;http://exslt.org/str/functions/padding/index.html&quot;&gt;padding&lt;/a&gt; и
&lt;a href=&quot;http://exslt.org/str/functions/tokenize/index.html&quot;&gt;tokenize&lt;/a&gt; на EXSLT.org.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Эффективное использование рекурсии в XSL]]></title><description><![CDATA[
Перевод статьи [Use recursion effectively in XSL](http://www.ibm.com/developerworks/xml/library/x-xslrecur/).
Введение в XSL-рекурсию и приёмы для оптимизации её использования.

Эффективное и рациональное использование XSL-преобразований требует понимания,
как использовать XSL в качестве функционального языка, что означает понимание рекурсии.
Эта статья знакомит с ключевыми идеями рекурсии и особенностей её использования
в XSL.]]></description><link>http://varya.me/ru/posts/xslt-recursion/</link><guid isPermaLink="false">http://varya.me/ru/posts/xslt-recursion/</guid><content:encoded>&lt;p&gt;Перевод статьи &lt;a href=&quot;http://www.ibm.com/developerworks/xml/library/x-xslrecur/&quot;&gt;Use recursion effectively in XSL&lt;/a&gt;.
Введение в XSL-рекурсию и приёмы для оптимизации её использования.&lt;/p&gt;
&lt;p&gt;Эффективное и рациональное использование XSL-преобразований требует понимания,
как использовать XSL в качестве функционального языка, что означает понимание рекурсии.
Эта статья знакомит с ключевыми идеями рекурсии и особенностей её использования
в XSL.&lt;excerpt/&gt; Также объяснены приёмы для оптимизации преобразования XML и избегания ошибок
при использовании рекурсии. Каждая идея или метод сопровождаются примерами кода.&lt;/p&gt;
&lt;p&gt;Сейчас в мире преобладают императивные языки программирования. Наиболее популярные языки - Java, C (и его различные
виды), Visual Basic и другие - на высоком абстрактном уровне работают, в основном, одинаково: вы задаёте некоторые
переменные, вызываете функции или операторы, которые меняют эти переменные, и возвращаете результат. Это сильное
приближение к программированию, и это, конечно, не всё.&lt;/p&gt;
&lt;p&gt;Языки программирования другой породы, пока менее привычной, по крайней мере также сильны как их процедурные “коллеги”.
Эти языки названы &lt;em&gt;функциональными&lt;/em&gt; или &lt;em&gt;декларативными&lt;/em&gt; языками. Программы, написанные на этих языках, могут только
однажды определить переменные, и никогда не могут поменять хранимое значение однажды определённой переменной. Язык
программирования XSL и функциональный, и декларативный. Это означает, что разработчики, привыкшие писать на Java или C,
и изучающие XSL часто чувствуют себя не в своей тарелке, применяя самые передовые особенности XSL.&lt;/p&gt;
&lt;p&gt;Из-за роста важности как приложений, так и web-разработчиков и завязанности на XSL-технологию, эффективное использование
XSL-преобразований не может быть проигнорировано. Так, наиболее важно научиться, как программировать в декларативной
манере. Это подразумевает близкое знакомство с &lt;strong&gt;рекурсией&lt;/strong&gt;, основанное на методах её эффективного
использования и рационального решения текущих задач.&lt;/p&gt;
&lt;h2&gt;Введение в рекурсию на примере&lt;/h2&gt;
&lt;p&gt;Через использование рекурсивных функций декларативные языки способны предоставлять функциональность, подобную функциональности их императивных “коллег”. Это не значит, что императивные языки не могут использовать рекурсию. Большинство - могут. Разница в том, что декларативные языки используют рекурсию как основное средство деятельности, тогда как чаще всего это просто свойство в императивных языках.&lt;/p&gt;
&lt;p&gt;Рассмотрим функцию, которая высчитывает факториал от некоторого положительного целого. Вкратце, факториал числа - это число, полученное путём умножения всех предшествующих ему чисел. Так, факториал от 4 (или 4!) - 1&lt;em&gt;2&lt;/em&gt;3*4 = 24. Распечатка 1 показывает один из способов написать эту функцию на Java:&lt;/p&gt;
&lt;h4&gt;Распечатка 1. Решение задачи про факториал с использованием цикла на Java&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;
      &lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;*=&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Пока это совершенно разумный код, он действительно пользуется тем фактом, что вы можете переопределить значения переменных в Java-программе. Без этой роскоши вы можете только решать задачу определением функций, как в Распечатке 2.&lt;/p&gt;
&lt;h4&gt;Распечатка 2. Решение задачи про факториал с использованием рекурсии на Java&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;
      &lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; number &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;factorial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Результаты вызова этих двух реализаций вычисления факториала одинаковы. Вызов функции &lt;em&gt;factorial()&lt;/em&gt; в теле метода
показывает, что вторая реализации использует рекурсию. Этот метод может быть визуально представлен как лестница.
Программа многократно спускается вниз, вызывая саму себя, собирая статическую информацию для каждого вызова пока не
упрется в условие выхода из рекурсии. Достигнув конца, она идёт обратно, возвращая различные состояния уже сделанных
вызовов, объединяя информацию, собранную на пути вниз, для получения финального результата. Пример про факториал показан
на рисунке.&lt;/p&gt;
&lt;img src=&quot;http://www.ibm.com/developerworks/xml/library/x-xslrecur/steps.gif&quot; alt=&quot;&amp;#x41F;&amp;#x440;&amp;#x435;&amp;#x434;&amp;#x441;&amp;#x442;&amp;#x430;&amp;#x432;&amp;#x43B;&amp;#x435;&amp;#x43D;&amp;#x438;&amp;#x435; &amp;#x440;&amp;#x435;&amp;#x43A;&amp;#x443;&amp;#x440;&amp;#x441;&amp;#x438;&amp;#x438; &amp;#x432; &amp;#x432;&amp;#x438;&amp;#x434;&amp;#x435; &amp;#x43B;&amp;#x435;&amp;#x441;&amp;#x442;&amp;#x43D;&amp;#x438;&amp;#x446;&amp;#x44B;&quot;&gt;
&lt;p&gt;В общем случае, рецепт создания рекурсивной функции включает в себя три ингредиента: условие выхода, код операции и рекурсивный вызов самого себя. В случае факториала, я вычисляю его для n путём вычисления факториала для n-1, n-2, n-3 и т.д. пока функция не достигнет условия выхода из серии - значения 1.&lt;/p&gt;
&lt;p&gt;Так, если сейчас идея рекурсии ещё кажется немного смущающей, вы могли бы прервать чтение этой статьи и либо проследовать по некоторым ссылкам на эту тему в разделе &lt;a href=&quot;http://www.ibm.com/developerworks/xml/library/x-xslrecur/#resources&quot;&gt;Ресурсы&lt;/a&gt;, либо попробовать написать несколько функций самостоятельно (например, напишите функцию для расчёта n-го числа из ряда Фибоначчи).&lt;/p&gt;
&lt;h2&gt;Общие использования рекурсии в XSL&lt;/h2&gt;
&lt;p&gt;Два общих сценария использования рекурсии в XSL такие:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Когда у вас есть набор повторяющихся значений в исходном XML, и вы хотите, чтобы результат преобразования отражал что-то, касающееся всех этих значений. Например, если у вас есть каталог товаров в XML, и вы хотите представить эти товары в соответствии с общей ценой, вы захотите найти совокупную цену, используя рекурсивный шаблон.&lt;/li&gt;&lt;/li&gt;
&lt;li&gt;Когда исходный XML содержит число &lt;em&gt;x&lt;/em&gt; в теге, например &amp;#x3C;countTo number=“5”/&gt;, и вы хотите представить некоторую информацию &lt;em&gt;x&lt;/em&gt; раз в результирующей выдаче. Факториал - типичный пример такого случая, но я рассмотрю более сложный пример немного позже.&lt;/li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Я покажу рекурсивное решение, написанное на XSL для обоих сценариев, но сначала давайте взглянем на пример про факториал, решенный на XSL:&lt;/p&gt;
&lt;h4&gt;Распечатка 3. Решение задачи про факториал с использованием рекурсии на XSL&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;factorial&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$number &amp;lt;= 1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;factorial&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$number - 1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$number * $recursive_result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Этот шаблон содержит все “игредиенты” из рецепта для Java-рекурсии. Здесь есть условие выхода (проверка на равенство единице или нет): если условие выхода не выполняется, шаблон делает рекурсивный вызов самого себя (хранимый в переменной &lt;em&gt;recursive_result&lt;/em&gt;). Наконец, для получения конечного результата совершается операция умножения между исходным числом и рекурсивно полученным значением. Вы также могли заметить, что XSL частно требует намного больше кода, чем решение той же задачи в других языках. Это всего лишь часть неоднозначностей в языке преобразования, который согласовывается с XML.&lt;/p&gt;
&lt;h3&gt;Рекурсия, вариант 1: Суммирование сквозь множество элементов&lt;/h3&gt;
&lt;p&gt;Теперь вы можете применить такой же метод, как и в примере с факториалом из &lt;em&gt;Распечатки 3&lt;/em&gt;, чтобы найти общую стоимость товаров в XML-каталоге. Фактически, решение аналогично решению задачи с факториалом, за исключением того, что вы будете использовать сложение вместо умножения и набор узлов как исходную информацию вместо числа.&lt;/p&gt;
&lt;p&gt;Предположим, у вас есть каталог товаров, который выглядит походим на XML в &lt;em&gt;Распечатке 4&lt;/em&gt; (кстати, вы можете скачать весь XML и XSL, и весь другой код из этой статьи по ссылке в &lt;a href=&quot;http://www.ibm.com/developerworks/xml/library/x-xslrecur/#resources&quot;&gt;Ресурсах&lt;/a&gt;).&lt;/p&gt;
&lt;h4&gt;Распечатка 4. Пример XML с продуктами&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Products&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Product&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Gadget&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;$10.00&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Product&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Product&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Gizmo&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;$7.50&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Product&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  ...
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Products&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Цель в том, чтобы добавить первую цену из этого списка товаров к сумме всех других цен, пока вы не получите суммарный
результат. Вы можете осуществить это при помощи XSL, показанного в &lt;em&gt;Распечатке 5&lt;/em&gt;.&lt;/p&gt;
&lt;h4&gt;Распечатка 5. Проход по узлам с использованием обычной XSL-рекурсии&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSum&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSum&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &gt; 1]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt;
          &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number(substring-after($productList[1]/Price,&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;))
                  + $recursive_result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;В этом случае вы вызываете функцию на постепенно уменьшающемся списке товаров, каждый раз добавляя первый элемент в список к рекурсивному вызову на остальных элементах списка. Когда список получается пустым, условие выхода достигнуто и вы добавляете ноль к результату, что не изменит сумму. Этот метод работы на всё меньшем и меньшем наборе узлов может быть использован во многих случаях.&lt;/p&gt;
&lt;h3&gt;Рекурсия, вариант 2: Итерация на числе&lt;/h3&gt;
&lt;p&gt;Вторая задача, с которой сталкиваются XSL-программисты, возникает, когда число содержится в некоторых случаях в исходном XML, и программисту нужно решить задачу это число раз. Например, XML может выключать информацию о сетке с некоторыми числами строк и столбцов, и преобразование необходимое для обеспечения визуального расположения сетки в HTML или каком-либо другом формате.&lt;/p&gt;
&lt;p&gt;Решение, как правило используемое разработчиками, незнакомыми с рекурсивными методами - это написать программу, которая разбирает XML и дополняет элементами для каждого ряда или столбца. Однажды написанный элемент &amp;#x3C;xsl:for-each&gt; может решить задачу без рекурсивных шаблонов. Несмотря на то, что это решение обеспечивает подходящую выдачу, у него есть большой недостаток. Этот метод на самом деле удваивает объём работы для обеспечения финального результата преобразования. Этот недостаток чрезвычайно заметен в клиент-серверной модели, когда сервер посылает XML и XSL для преобразования на клиентской стороне. В таком случае всё продуктивности, обычно реализованные на сервере, теряются за счёт увеличения XML.&lt;/p&gt;
&lt;p&gt;Лучшее решение - использовать рекурсивные шаблоны, чтобы выполнять работы полностью в рамках преобразования. Рассмотрим получение таблицы умножения из XML-элемента в виде HTML. Входная информация будет содержать следующую строку:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;MultiplicationTable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;Columns&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Цель состоит в том, чтобы преобразовать это в HTML, представляющий таблицу, похожую на:&lt;/p&gt;
&lt;table border=&quot;1&quot; cellpadding=&quot;5&quot; cellspacing=&quot;0&quot;&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;1&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;3&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;4&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;1&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;3&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;Этот пример кое в чём более сложный, чем первые два. В этом случае вы не просто возвращаете функциональный результат, представляющий решение проблемы, но вы всего лишь выдадите HTML как шаг рекурсивного процесса. Также вам необходимо соединить вместе два рекурсивных шаблона - один для рядов, другой для столбцов.&lt;/p&gt;
&lt;h4&gt;Распечатка 6. Повторение по числу с использованием основной XSL-рекурсии&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalRows&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;if&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentRow &amp;lt;= $totalRows&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawCell&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentCol&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentRow  + 1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalRows&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$totalRows&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawCell&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentCol&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;if&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentCol &amp;lt;= $totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bgColor&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;...&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;...&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;bgcolor&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{$bgColor}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;valign&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$value&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawCell&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentRow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;currentCol&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$currentCol + 1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$totalCols&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;В этом случае я использую два отдельный рекурсивных шаблона. Вначале рекурсивно рисую ряды пока не достигну условия выхода. Этот шаблон использует второй рекурсивный шаблон, чтобы нарисовать ячейки для каждого столбца в ряду. Этот общий метод применим для многоуровневого представления данных.&lt;/p&gt;
&lt;h2&gt;Оптимизация паттернов рекурсии в XSL&lt;/h2&gt;
&lt;p&gt;К сожалению, использование рекурсии во многих XSL-процессорах имеет один значительный недостаток при работе с большими объемами данных. Также слишком легко достигнуть переполнения стека (Stack Overflow) или нехватки памяти (Out of Memory) с функциями, которые достигают глубины порядка 10000. Если вы пытаетесь суммировать цены в каталоге с более чем 10000 товарами, вы можете столкнуться с проблемами.&lt;/p&gt;
&lt;p&gt;К счастью, есть пути по оптимизации рекурсивных функций, чтобы уменьшить или даже исключить глубину рекурсии, вытекающую из заданного шаблона. Оставшаяся часть этой статьи представляет четыре способа оптимизировать то, как вы пишете ваши рекурсивные решения на XSL.&lt;/p&gt;
&lt;h3&gt;Оптимизация рекурсии 1. Разделяй и властвуй&lt;/h3&gt;
&lt;p&gt;Вспомните первый пример, в котором мы пытались найти общую цену, суммировав все цены для нескольких товаров в XML-каталоге. Первоначальный подход - это добавить цену первого товара к сумме всех остальных, и делать это рекурсивно, пока вы не переберёте весь лист. При использовании этого подхода глубина рекурсии равна числу товаров в списке. Сейчас цель состоит в том, чтобы изменить метод так, чтобы вы получили тот же результат без вхождения в рекурсию так глубоко.&lt;/p&gt;
&lt;p&gt;Другой подход к этой проблеме - это разделить список на множество меньших частей и делать так рекурсивно, пока вы не разделите каждую часть на отдельные продукты. Самый простой путь представить это - разделение списка напополам, делая рекурсивный вызов на каждой половине и тогда сделать отдельные рекурсивные вызовы на двух получившихся списках. Это позволит завершить всю работу на одной половине,  до того как какая-то работа будет сделана на другой половине. Процесс обработки будет древовидный, а не линейный (похожий на лестницу) из первого решения. &lt;em&gt;Рисунок 2&lt;/em&gt; показывает это рекурсивное дерево.&lt;/p&gt;
&lt;img src=&quot;http://www.ibm.com/developerworks/xml/library/x-xslrecur/tree.gif&quot; alt=&quot;&quot;&gt;
&lt;p&gt;Используя подход “разделяй и властвуй”, вы не ощутите никакой экономии, в цифрах, по числу операций сложения, которые должны быть выполнены. Экономия будет заключаться в том, что операции сложения не ожидают того, чтобы все числа были получены и поставлены в очередь в стек рекурсии для выполнения операции. XSL-код в &lt;em&gt;Распечатке 7&lt;/em&gt; показывает такой способ.&lt;/p&gt;
&lt;h4&gt;Распечатка 7. Прохождение по узлам с использованием метода “разделяй и властвуй”&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumDivideAndConquer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;count($productList) = 1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt;
          &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number(substring-after($productList[1]/Price,&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;))&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;halfIndex&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;floor(count($productList) div 2)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumDivideAndConquer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &lt;span class=&quot;token entity&quot; title=&quot;&amp;lt;&quot;&gt;&amp;amp;lt;&lt;/span&gt;= $halfIndex]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumDivideAndConquer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &lt;span class=&quot;token entity&quot; title=&quot;&amp;gt;&quot;&gt;&amp;amp;gt;&lt;/span&gt; $halfIndex]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$recursive_result1 + $recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Операция сложения происходит каждый раз, когда разделённый список достигает длины 1 (это является условием выхода), и производится до того, как какая-нибудь обработка произойдёт со второй частью листа. При использовании этой техники глубина рекурсии никогда не превысит log&lt;sub&gt;2&lt;/sub&gt; от количества элементов в списке, что, конечно, экспоненциально увеличивает возможное число товаров в списке для этого подсчёта.&lt;/p&gt;
&lt;h3&gt;Оптимизация рекурсии 2. Сегментация&lt;/h3&gt;
&lt;p&gt;Несмотря на невероятную экономию глубины рекурсии, обеспеченные методом “Разделяй и властвуй”, у него действительно есть недостатки. Для списков длиной не выражается числом степени двойки, этот способ излишне накладный на концах рекурсионного дерева.&lt;/p&gt;
&lt;p&gt;Другой подход, который похоже уменьшает глубину рекурсии, работающий на итерациях через сегменты узлов предопределённой длины, предпочтительнее, чем деление узлов надвое каждый раз. Этот подход построен на базовой рекурсивной методике, но представлен внешним шаблоном, который действует как менеджер сегментации.&lt;/p&gt;
&lt;p&gt;Роль менеджера сегментации состоит в том, чтобы разбить большую задачу на маленькие, которые могут быть проработаны без появления утечек памяти. Менеджер хранит результаты этих маленьких заданий и в тот момент, когда они все завершены, выполняет необходимую операцию над этими результатами.&lt;/p&gt;
&lt;p&gt;Вы можете видеть пример техники Сегментации в шаблоне &lt;em&gt;Распечатки 8&lt;/em&gt;, который берёт список узлов и длину сегмента и использует оригинальный шаблон для цен на этих маленьких частях.&lt;/p&gt;
&lt;h4&gt;Распечатка 8. Обход узлов с использованием техники сегментации&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumSegmented&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;segmentLength&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;count($productList) &gt; 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSum&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &amp;lt;= $segmentLength]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumSegmented&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &gt; $segmentLength]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$recursive_result1 + $recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Использование подхода Сегментации лучше, чем подхода “Разделяй и властвуй” уменьшает накладные расходы в большинстве случаев, но не предлагает особенной выгоды по глубине рекурсии. Какой же следует использовать? Ответ - как вы можете увидеть по следующей оптимизации - оба.&lt;/p&gt;
&lt;h3&gt;Оптимизация рекурсии 3. Сочетание Сегментации и “Разделяй и властвуй”&lt;/h3&gt;
&lt;p&gt;Вы можете объединить техники “Разделяй и властвуй” и Сегоментации, чтобы&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;увеличить экномию за счёт снижения глубины рекурсии (включая накладную обработку, связанную
с каждый добавлением уровня используемой рекурсии)&lt;/li&gt;
&lt;li&gt;избежать накладных расходов на уровне листочков рекурсионного дерева&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;В этом способе пороговый уровень передаётся в рекурсивный шаблон, через список узлов (или другие данные, которыми опрерируют). Здесь “Разделяй и властвуй” изменён, чтобы работать как менеджер сегментации. Если размер переданного списка больше, чем пороговое значение, список делится надвое и шаблон рекурсивно вызывается для обеих половин. Другими словами, вы используете основной рекурсивный шаблон, чтобы вычислять результаты, как и в Сегментации.
&lt;em&gt;Распечатка 9&lt;/em&gt; показывает этот способ на следующих XSL-шаблонах.&lt;/p&gt;
&lt;h4&gt;Распечатка 9. Обход узлов с использованием составной техники “Разделяй и властвуй” и Сегментации&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumCombination&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;threshold&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;count($productList) &gt; $threshold&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;halfIndex&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;floor(count($productList) div 2)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumCombination&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &amp;lt;= $halfIndex]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumCombination&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &gt; $halfIndex]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$recursive_result1 + $recursive_result2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSum&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Оптимизация рекурсии 4. Tail Recursion&lt;/h3&gt;
&lt;p&gt;У вас уже есть какой-то опыт по отношению к рекурсии и вы, возможно, удивлены, почему метод Tail Recursion не первый в способах оптимизации, с тех пор как этот способ может устранить глубокую рекурсию полностью без каких-либо накладных расходов. Несмотря на преимущества, которые этот способ предлагает, он требует, чтобы XSLT-процессор, производя эту трансформацию, распознавал присутствие этой техники в XSL-коде и изменял бы своё поведение для обеспечения этой техники. К сожалению, большинство XSL-процессоров не предлагают такую возможность.&lt;/p&gt;
&lt;p&gt;Хорошая новость состоит в том, что непомерное одобрение XSL в бизнесе и научном мире означает, что это ограничение просуществует недолго. По этой причине для разработчиков важно понимать, как происходит отрубание хвоста, как оно может исключить проблемы с памятью без задерживания представления в любом достойном виде.&lt;/p&gt;
&lt;p&gt;Основная идея Tail Recursion - это избавление от хранения какой-либо статической информации в рекурсивных шагах. Вся информация, которая нужна, на каждом шаге передаётся как параметры функции вместо того, чтобы храниться на более высоком уровне в стеке рекурсии. Это позволяет XSLT-процессору работать с рекурсивной функцией как с циклом в процедурном языке.&lt;/p&gt;
&lt;p&gt;Взгляните на &lt;em&gt;Распечатку 10&lt;/em&gt; примера с ценами с Tail Recursion.&lt;/p&gt;
&lt;h4&gt;Распечатка 10. Проход по узлам с использованием Tail Recursion&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;
      &lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumTail&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;priceSumTail&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;productList&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$productList[position() &gt; 1]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;with-param&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$result +
                  number(substring-after($productList[1]/Price,&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;))&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;call-template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;value-of&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;$result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;otherwise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;choose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token namespace&quot;&gt;xsl:&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Прибавление дополнительного значения переменной создаёт всю разницу. Вместо накомления чисел для сложения на разных рекурсивных шагах, сложение производится на каждом этапе и результат передаётся дальше как параметр для следующего шага рекурсии. Токовый XSLT-процессор просто перезаписывает участок памяти, содержащий значение переменной, при каждом вызове так же, как эта переменная перезаписывалась бы в случае Java или C кода. Этот способ позволяет языку пользоваться преимуществами и декларативных, и императивных языков без изменения сути XSLT как языка программирования.&lt;/p&gt;
&lt;h2&gt;Заключение&lt;/h2&gt;
&lt;p&gt;Как только вы поняли рекурсию, декларативный стиль программирования на XSLT будет не препятствием, а эффективным путем расширения возможностей преобразования XML. Остаётся единственный вопрос - какой тип рекурсии лучший для каждой отдельно взятой ситуации.&lt;/p&gt;
&lt;p&gt;Вообще, задачи, работающие для малых объёмов данных, не требуют применения какой-либо из этих оптимизационных техник. Хотя, если малость объёма данных не гарантирована, выбор ограничен технологией, используемой в преобразовании. Если ваш XSLT-процессор распознаёт Tail Recursion, то лучше всего использовать этот способ. Если вы не можете убедиться, что преобразовательня технология умеет распознавать Tail Recursion, то наиболее предпочтительна комбинированная техника. Пороговое значение обычно лежит в диапазоне от 5 до 30 в зависимости от задачи.&lt;/p&gt;
&lt;p&gt;Поначалу рекурсия может быть трудной для понимания идеей, но её полезность и элегантность становятся яснее по мере использования.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[YM Modular System. Why?]]></title><description><![CDATA[The recently published [step-by-step tutorial on
i-bem.js](http://bem.info/tutorials/articles/bem-js-tutorial/) mentioned **YM
modular system** as a base for component JavaScript solution behind BEM. Why do
we need another modular system? Let us see...
]]></description><link>http://varya.me/en/posts/ym-modular-system/</link><guid isPermaLink="false">http://varya.me/en/posts/ym-modular-system/</guid><content:encoded>&lt;p&gt;The recently published &lt;a href=&quot;http://bem.info/tutorials/articles/bem-js-tutorial/&quot;&gt;step-by-step tutorial on
i-bem.js&lt;/a&gt; mentioned &lt;strong&gt;YM
modular system&lt;/strong&gt; as a base for component JavaScript solution behind BEM. Why do
we need another modular system? Let us see…
&lt;excerpt/&gt;&lt;/p&gt;
&lt;p&gt;The author of YM modules, &lt;a href=&quot;https://github.com/dfilatov&quot;&gt;Dmitry Filatov&lt;/a&gt; recently
came up with an &lt;a href=&quot;http://habrahabr.ru/post/213627/&quot;&gt;article about YM modules&lt;/a&gt; in
Russian. And below you can find the translation.&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;So, one more modular system? Besides CommonJS and AMD? Why should we care?&lt;/p&gt;
&lt;p&gt;I will not write why modules and modular systems are needed, there are plenty of
articles about it. Let us rather proceed to the main question: why do we need
&lt;em&gt;another&lt;/em&gt; modular system?&lt;br/&gt;
For sure, there are CommonJS and AMD, but working on large projects with them I faced
large drawbacks. One is that they are synchronous. This is not fatal, but in my
project we often had to provie different hacks for it.&lt;/p&gt;
&lt;p&gt;Let us say, we have 3 modules: moduleA, moduleB and moduleC. moduleC depends on
both moduleA and moduleB. Initially I will describe this in code for all the
three solutions:&lt;/p&gt;
&lt;h4&gt;CommonJS&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;moduleA.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleB.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleC.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; moduleA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    moduleB &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; moduleA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; moduleB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;Linking and usage:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; moduleC &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// prints &quot;ABC&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;AMD&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;moduleA.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleB.js:&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleC.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;С&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; moduleB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; moduleA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; moduleB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;Linking and usage:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;С&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// prints &quot;ABC&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;YM&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;moduleA.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleB.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleC.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; moduleA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; moduleB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; moduleB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;Linking and usage:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;С&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// prints &quot;ABC&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Nothing interesting yet. All three examples are similar, although you may
notice the &lt;code class=&quot;language-text&quot;&gt;provide&lt;/code&gt; callback in the YM example. What is it for?&lt;/p&gt;
&lt;p&gt;Let us imagine a case that &lt;code class=&quot;language-text&quot;&gt;moduleA&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;moduleB&lt;/code&gt; cannot be resolved immediately
(synchronously, as it is required by CommonJS and AMD). Sometimes you need to
do an asynchronous action first. The simpliest example can be &lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;.
There is no way to implement it elegantly with CommonJS and AMD.
But with &lt;code class=&quot;language-text&quot;&gt;YM&lt;/code&gt; it can be coded as follows:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;moduleA.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleB.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;moduleC.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; moduleA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; moduleB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;moduleA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; moduleB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;C&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Interestingly &lt;code class=&quot;language-text&quot;&gt;moduleC&lt;/code&gt; does not know anything about asynchronous actions in
its dependant modules. &lt;em&gt;Win!&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Real life example&lt;/h3&gt;
&lt;p&gt;As for real file example, I often use the YandexMaps API
(&lt;a href=&quot;http://api.yandex.com/maps/&quot;&gt;http://api.yandex.com/maps/&lt;/a&gt;, API of
&lt;a href=&quot;http://maps.yandex.com/&quot;&gt;Yandex.Maps&lt;/a&gt;
public service). Yandex.Maps API has a complex loading scheme and this cannot be
done synchronously. This means that I cannot simply link it to a page
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;url-of-ymaps.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt; and be sure that
all the following scripts will get the API code ready. First I need to wait for
the event &lt;code class=&quot;language-text&quot;&gt;ymaps.ready&lt;/code&gt; to fire.&lt;/p&gt;
&lt;p&gt;The project I am working for is quite complex; we have many classes inherited
from the basic API. For example, we have a &lt;code class=&quot;language-text&quot;&gt;ComplexLayer&lt;/code&gt; class based on &lt;code class=&quot;language-text&quot;&gt;ymaps.Layer&lt;/code&gt;.
With YM modules it is simple to implement. We define a &lt;code class=&quot;language-text&quot;&gt;ymaps&lt;/code&gt; module which loads
the API code, waits for the &lt;code class=&quot;language-text&quot;&gt;ymaps.ready&lt;/code&gt; event and then provides itself. All
the modules which have the &lt;code class=&quot;language-text&quot;&gt;ymaps&lt;/code&gt; module as a dependency only start to resolve
after this. As you can see, other modules know nothing about the asynchronicity of the
Yandex.Map API. &lt;em&gt;No hacks in code!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ymaps.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;ymaps&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;config&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; loader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hosts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ymaps &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/2.1.4/?lang=ru-RU&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
              &lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;load=package.full&amp;amp;coordorder=longlat&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;loader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        ymaps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ymaps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;There are 2 other modules in use here: &lt;code class=&quot;language-text&quot;&gt;loader&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt;. I do not show
their code, but the first one loads scripts and the second one is a hash with
constant values.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ComplexLayer.js:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ComplexLayer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;inherit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ymaps&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ymaps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ComplexLayer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inherit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ymaps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Layer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ComplexLayer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We can do the same if jQuery is needed. There is a module to load jQuery:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;jquery&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; loader&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;loader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;//yandex.st/jquery/2.1.0/jquery.min.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;provide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;noConflict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then we make other modules dependent on &lt;code class=&quot;language-text&quot;&gt;jquery&lt;/code&gt; module.&lt;/p&gt;
&lt;p&gt;Thus, the whole project code is represented with modules. There is no global, no
need for agreement on the order of linking the scripts (including third-party ones),
no dirty hacks for asynchronicity.&lt;/p&gt;
&lt;p&gt;And to wrap up, let me demonstrate you the YM modular system API (indeed, it has more
methods, and these are only the basic ones).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Defining a module:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    String moduleName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; dependencies&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Object objectToProvide&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Object resolvedDependency&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Object previousDeclaration&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; declarationFunction
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;Requiring a module:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    String&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; dependencies&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Object resolvedDependency&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; callbackFunction
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The project is open source and hosted at GitHub:
&lt;a href=&quot;https://github.com/ymaps/modules&quot;&gt;github.com/ymaps/modules&lt;/a&gt;.&lt;/p&gt;</content:encoded></item></channel></rss>